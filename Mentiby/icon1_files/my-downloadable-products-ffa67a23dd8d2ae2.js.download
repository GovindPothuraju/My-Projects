(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4764],{95866:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/my-downloadable-products",function(){return a(59819)}])},40664:(e,t,a)=>{"use strict";a.d(t,{B:()=>o});var s=a(63159),l=a(36205),r=a(33345),n=a(21849),i=a(50301);let o=e=>{let{title:t,subtitle:a,shouldShowUserProfileSettingsDropdown:o,shouldShowUserAchievementDropdown:d}=e,c=(0,l.aT)();return(0,i.V)("fermion-school"===c.websiteType),(0,s.jsxs)("div",{className:"px-4 md:px-8 pt-4 md:pt-8 flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h2",{className:"text-3xl font-semibold tracking-tighter",children:t}),(0,s.jsx)("p",{className:"my-4 text-gray-500 text-sm",children:a})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[d&&c.fermionSchoolConfig.enabledFeatures.includes("xp-earning-ability")?(0,s.jsx)("div",{children:(0,s.jsx)(r.K,{})}):null,o?(0,s.jsx)("div",{children:(0,s.jsx)(n.s,{})}):null]})]})}},44139:(e,t,a)=>{"use strict";a.d(t,{O:()=>j,o:()=>N});var s=a(63159),l=a(35284),r=a(74261),n=a(72469),i=a(12154),o=a(47723),d=a(36205),c=a(50301),m=a(11855),u=a(17176),f=a(35884),x=a(70060),h=a(13709),p=a(37090),g=a(57418),b=a(65105),w=a(70731);let y=()=>{let e=(0,d.aT)();return(0,c.V)("fermion-school"===e.websiteType),[{name:"Back to homepage",icon:w.atu,type:"single-item",safeHrefPathname:"/",marginBottom:10},{name:"Community",icon:f.cLr,safeHrefPathname:"/community",type:"single-item",isVisible:e.fermionSchoolConfig.enabledFeatures.includes("community")},{name:"Leaderboard",icon:n.ju$,type:"single-item",safeHrefPathname:"/leaderboard",isVisible:e.fermionSchoolConfig.enabledFeatures.includes("leaderboard")},{name:"My courses",icon:o.f34,type:"single-item",safeHrefPathname:"/user/my-courses"},{name:"My eBooks",icon:x.Kf6,type:"single-item",safeHrefPathname:"/user/my-ebooks"},{name:"My downloadable products",icon:b.JCx,type:"single-item",safeHrefPathname:"/user/my-downloadable-products"},{icon:h.V8k,name:"Affiliate dashboard",type:"single-item",safeHrefPathname:"/user/affiliate-dashboard",isVisible:e.fermionSchoolConfig.enabledFeatures.includes("affiliate-marketing")},{icon:g.c7R,name:"Purchase history",type:"single-item",safeHrefPathname:"/user/purchase-history"}]},v=()=>{let e=(0,d.aT)();return(0,c.V)("fermion-school"===e.websiteType),[{name:"Help",type:"single-item",icon:i.J9T,safeHrefPathname:"/user/help"},{name:"Account settings",type:"single-item",icon:n.hgV,safeHrefPathname:"/user/account-settings"},{name:"Logout",type:"single-item",icon:i.YZx,safeHrefPathname:"/logout"}]},j=()=>{let e=(0,d.aT)();return(0,c.V)("fermion-school"===e.websiteType,"must be school"),(0,s.jsx)("div",{className:"flex-1 flex flex-col bg-[#0d0d0c] min-h-screen w-[256px] sticky top-0",children:(0,s.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,s.jsx)("div",{className:"flex items-center flex-shrink-0 px-4 text-white font-[300] text-2xl tracking-tighter",children:(0,s.jsx)(r.N_,{safeHrefPathname:"/user/my-courses",children:e.fermionSchoolConfig.name})}),(0,s.jsxs)("nav",{className:"mt-5 flex-1 flex flex-col flex-grow px-2 bg-[#0d0d0c] space-y-1","aria-label":"Sidebar",children:[y().map((e,t)=>(0,s.jsx)(p.P,{item:e},t)),(0,s.jsx)("div",{className:"flex-grow"}),v().map((e,t)=>(0,s.jsx)(p.P,{item:e},t))]})]})})},N=()=>{let[e,t]=(0,m.useState)(!1),a=(0,d.aT)();(0,c.V)("fermion-school"===a.websiteType,"must be school");let n=(0,m.useMemo)(()=>[...y(),...v()],[]);return(0,s.jsx)("div",{className:"flex-1 flex flex-col bg-[#0d0d0c]",children:(0,s.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center flex-shrink-0 px-4 text-white font-[300] text-2xl tracking-tighter",children:[(0,s.jsx)("div",{className:"px-2 cursor-pointer",onClick:()=>t(e=>!e),children:e?(0,s.jsx)(i.WQq,{}):(0,s.jsx)(u.NYi,{})}),(0,s.jsx)(r.N_,{safeHrefPathname:"/user/my-courses",children:a.fermionSchoolConfig.name})]}),(0,s.jsx)("div",{className:"flex items-center flex-shrink-0 px-2 text-white font-[300] text-2xl tracking-tighter"}),(0,s.jsx)("nav",{className:(0,l.default)("mt-5 flex-1 bg-[#0d0d0c] space-y-1",e?"block":"hidden"),"aria-label":"Sidebar",children:n.map(e=>(0,s.jsx)(p.P,{item:e},e.name))})]})})}},59819:(e,t,a)=>{"use strict";a.r(t),a.d(t,{__N_SSP:()=>N,default:()=>P});var s=a(63159),l=a(38699),r=a(44139),n=a(96433),i=a(74261),o=a(64966),d=a(18777),c=a(22038),m=a(64772),u=a(36205);let f="fermion-user",x="get-all-enrolled-downloadable-products",h="".concat(f,"-").concat(x),p=e=>({context:{namespace:f,functionName:x},data:e}),g=async e=>{let t;let a=p(e),s=(0,u.Cm)()||null,l=(0,u.d)()||null,r=(0,m.G0)()||null;try{t=await d.Ay.request({method:"POST",baseURL:(0,c.Pb)(),data:{organizationId:s,fermionSchoolId:l,authToken:r,data:[a]}}).then(e=>e.data).then(e=>{var t;return(null===(t=e.at(0))||void 0===t?void 0:t.output)||null})}catch(e){throw{errorMessage:(null==e?void 0:e.message)||"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!0}}if(!t)throw{errorMessage:"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!1};if("ok"===t.status)return t.data;throw{...t,isNetworkError:!1}},b=async e=>{let{data:t,forceOverrideAuthToken:a,shouldEnableBatching:s=!0}=e;if(!s)return await g(t);{let e=p(t),s=(0,c.zL)(t),l=(0,u.Cm)()||null,r=(0,u.d)()||null,n=a||(0,m.G0)()||null;return await c.l3.fetch({batchingUniqueKey:s,organizationId:l,fermionSchoolId:r,authToken:n,data:e}).then(e=>e)}},w=(e,t)=>(0,o.I)({queryKey:[h,p(e)],queryFn:()=>b({data:e}),...null!=t?t:{}});var y=a(7183),v=a(13709),j=a(40664),N=!0;let P=()=>{let{data:e}=w({});return(0,s.jsx)(l.P,{mobilePwaThemeColor:"navbar-#0d0d0c",shouldEnableHeader:!1,shouldEnableSidebar:!0,rootDivClass:"bg-[#0d0d0c]",desktopSidebar:(0,s.jsx)(r.O,{}),mobileSidebarTurnedNavigation:(0,s.jsx)(r.o,{}),children:(0,s.jsxs)("div",{className:"w-full min-h-screen md:rounded-tl-2xl bg-white pb-4",children:[(0,s.jsx)(j.B,{shouldShowUserAchievementDropdown:!0,shouldShowUserProfileSettingsDropdown:!0,title:"My downloadable products",subtitle:"A list of your purchased downloadable products"}),(0,s.jsx)("div",{className:"flex flex-wrap px-8 py-8 w-full gap-8",children:(null==e?void 0:e.downloadableProducts)==null?[,,,].fill(0).map((e,t)=>(0,s.jsx)(y.E,{className:"w-[300px] h-[200px]"},t)):0===e.downloadableProducts.length?(0,s.jsxs)("div",{className:"relative disabled:opacity-50 disabled:cursor-wait block w-full border-2 border-gray-300 border-dashed rounded-lg p-12 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,s.jsx)(v.vd0,{size:36,className:"text-gray-400 mx-auto"}),(0,s.jsx)("span",{className:"mt-2 block text-sm font-medium text-gray-900",children:"You do not have purchased any downloadable product from the school."})]}):e.downloadableProducts.map(e=>(0,s.jsxs)(i.N_,{className:"w-[300px] hover:bg-gray-100 flex flex-col rounded overflow-hidden",safeHref:{pathname:"/user/download-product",queryParams:{"digital-product-id":e.fermionDigitalProductId}},children:[(0,s.jsx)(n.A,{src:e.thumbnailUrl,width:512,height:288,alt:"downloadable product image",className:"w-full"}),(0,s.jsx)("div",{className:"flex-grow"}),(0,s.jsx)("p",{className:"mt-3 px-2 tracking-tight",children:e.productTitle}),(0,s.jsx)("p",{className:"text-xs px-2 pb-2 text-gray-600",children:"Downloadable product"})]},e.fermionDigitalProductId))})]})})}},48532:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>T,LV:()=>k,ql:()=>S,vX:()=>_});var s=a(329),l=a.n(s),r=a(60426),n=a.n(r),i=a(15089),o=a.n(i),d=a(38094),c=a.n(d),m=a(48127),u=a.n(m),f=a(34593),x=a.n(f),h=a(4410),p=a.n(h),g=a(37141),b=a.n(g),w=a(41045),y=a.n(w),v=a(37927),j=a.n(v),N=a(5592),P=a.n(N);function k(e){return l()(e).isAfter(l()())}function S(e){return!k(e)}l().extend(j()),l().extend(y()),l().extend(p()),l().extend(c()),l().extend(o()),l().extend(n()),l().extend(u()),l().extend(x()),l().extend(b()),l().extend(P());let _=e=>{let{timezone:t}=e;return(e,a)=>{if(null==t)return l()(e,a).utc();try{return l()(e,a).tz(t)}catch(t){return l()(e,a).utc()}}},T=l()},7183:(e,t,a)=>{"use strict";a.d(t,{E:()=>r});var s=a(63159),l=a(38589);function r(e){let{shouldRenderInDarkMode:t,className:a,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md",t?"bg-primary/20":"bg-primary/10",a),...r})}}},e=>{var t=t=>e(e.s=t);e.O(0,[33577,21936,96331,43691,505,39211,9495,72032,58472,87855,7605,5600,15747,92979,96235,42839,99212,73774,95625,38699,70096,33345,90636,46593,38792],()=>t(95866)),_N_E=e.O()}]);