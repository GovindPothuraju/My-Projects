(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36322],{28518:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/my-ebooks",function(){return s(47846)}])},40664:(e,t,s)=>{"use strict";s.d(t,{B:()=>o});var a=s(63159),r=s(36205),n=s(33345),l=s(21849),i=s(50301);let o=e=>{let{title:t,subtitle:s,shouldShowUserProfileSettingsDropdown:o,shouldShowUserAchievementDropdown:c}=e,d=(0,r.aT)();return(0,i.V)("fermion-school"===d.websiteType),(0,a.jsxs)("div",{className:"px-4 md:px-8 pt-4 md:pt-8 flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-3xl font-semibold tracking-tighter",children:t}),(0,a.jsx)("p",{className:"my-4 text-gray-500 text-sm",children:s})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[c&&d.fermionSchoolConfig.enabledFeatures.includes("xp-earning-ability")?(0,a.jsx)("div",{children:(0,a.jsx)(n.K,{})}):null,o?(0,a.jsx)("div",{children:(0,a.jsx)(l.s,{})}):null]})]})}},44139:(e,t,s)=>{"use strict";s.d(t,{O:()=>j,o:()=>N});var a=s(63159),r=s(35284),n=s(74261),l=s(72469),i=s(12154),o=s(47723),c=s(36205),d=s(50301),m=s(11855),u=s(17176),f=s(35884),x=s(70060),h=s(13709),p=s(37090),g=s(57418),b=s(65105),y=s(70731);let w=()=>{let e=(0,c.aT)();return(0,d.V)("fermion-school"===e.websiteType),[{name:"Back to homepage",icon:y.atu,type:"single-item",safeHrefPathname:"/",marginBottom:10},{name:"Community",icon:f.cLr,safeHrefPathname:"/community",type:"single-item",isVisible:e.fermionSchoolConfig.enabledFeatures.includes("community")},{name:"Leaderboard",icon:l.ju$,type:"single-item",safeHrefPathname:"/leaderboard",isVisible:e.fermionSchoolConfig.enabledFeatures.includes("leaderboard")},{name:"My courses",icon:o.f34,type:"single-item",safeHrefPathname:"/user/my-courses"},{name:"My eBooks",icon:x.Kf6,type:"single-item",safeHrefPathname:"/user/my-ebooks"},{name:"My downloadable products",icon:b.JCx,type:"single-item",safeHrefPathname:"/user/my-downloadable-products"},{icon:h.V8k,name:"Affiliate dashboard",type:"single-item",safeHrefPathname:"/user/affiliate-dashboard",isVisible:e.fermionSchoolConfig.enabledFeatures.includes("affiliate-marketing")},{icon:g.c7R,name:"Purchase history",type:"single-item",safeHrefPathname:"/user/purchase-history"}]},v=()=>{let e=(0,c.aT)();return(0,d.V)("fermion-school"===e.websiteType),[{name:"Help",type:"single-item",icon:i.J9T,safeHrefPathname:"/user/help"},{name:"Account settings",type:"single-item",icon:l.hgV,safeHrefPathname:"/user/account-settings"},{name:"Logout",type:"single-item",icon:i.YZx,safeHrefPathname:"/logout"}]},j=()=>{let e=(0,c.aT)();return(0,d.V)("fermion-school"===e.websiteType,"must be school"),(0,a.jsx)("div",{className:"flex-1 flex flex-col bg-[#0d0d0c] min-h-screen w-[256px] sticky top-0",children:(0,a.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,a.jsx)("div",{className:"flex items-center flex-shrink-0 px-4 text-white font-[300] text-2xl tracking-tighter",children:(0,a.jsx)(n.N_,{safeHrefPathname:"/user/my-courses",children:e.fermionSchoolConfig.name})}),(0,a.jsxs)("nav",{className:"mt-5 flex-1 flex flex-col flex-grow px-2 bg-[#0d0d0c] space-y-1","aria-label":"Sidebar",children:[w().map((e,t)=>(0,a.jsx)(p.P,{item:e},t)),(0,a.jsx)("div",{className:"flex-grow"}),v().map((e,t)=>(0,a.jsx)(p.P,{item:e},t))]})]})})},N=()=>{let[e,t]=(0,m.useState)(!1),s=(0,c.aT)();(0,d.V)("fermion-school"===s.websiteType,"must be school");let l=(0,m.useMemo)(()=>[...w(),...v()],[]);return(0,a.jsx)("div",{className:"flex-1 flex flex-col bg-[#0d0d0c]",children:(0,a.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center flex-shrink-0 px-4 text-white font-[300] text-2xl tracking-tighter",children:[(0,a.jsx)("div",{className:"px-2 cursor-pointer",onClick:()=>t(e=>!e),children:e?(0,a.jsx)(i.WQq,{}):(0,a.jsx)(u.NYi,{})}),(0,a.jsx)(n.N_,{safeHrefPathname:"/user/my-courses",children:s.fermionSchoolConfig.name})]}),(0,a.jsx)("div",{className:"flex items-center flex-shrink-0 px-2 text-white font-[300] text-2xl tracking-tighter"}),(0,a.jsx)("nav",{className:(0,r.default)("mt-5 flex-1 bg-[#0d0d0c] space-y-1",e?"block":"hidden"),"aria-label":"Sidebar",children:l.map(e=>(0,a.jsx)(p.P,{item:e},e.name))})]})})}},47846:(e,t,s)=>{"use strict";s.r(t),s.d(t,{__N_SSP:()=>N,default:()=>k});var a=s(63159),r=s(38699),n=s(44139),l=s(96433),i=s(74261),o=s(64966),c=s(18777),d=s(22038),m=s(64772),u=s(36205);let f="fermion-user",x="get-all-enrolled-ebooks",h="".concat(f,"-").concat(x),p=e=>({context:{namespace:f,functionName:x},data:e}),g=async e=>{let t;let s=p(e),a=(0,u.Cm)()||null,r=(0,u.d)()||null,n=(0,m.G0)()||null;try{t=await c.Ay.request({method:"POST",baseURL:(0,d.Pb)(),data:{organizationId:a,fermionSchoolId:r,authToken:n,data:[s]}}).then(e=>e.data).then(e=>{var t;return(null===(t=e.at(0))||void 0===t?void 0:t.output)||null})}catch(e){throw{errorMessage:(null==e?void 0:e.message)||"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!0}}if(!t)throw{errorMessage:"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!1};if("ok"===t.status)return t.data;throw{...t,isNetworkError:!1}},b=async e=>{let{data:t,forceOverrideAuthToken:s,shouldEnableBatching:a=!0}=e;if(!a)return await g(t);{let e=p(t),a=(0,d.zL)(t),r=(0,u.Cm)()||null,n=(0,u.d)()||null,l=s||(0,m.G0)()||null;return await d.l3.fetch({batchingUniqueKey:a,organizationId:r,fermionSchoolId:n,authToken:l,data:e}).then(e=>e)}},y=(e,t)=>(0,o.I)({queryKey:[h,p(e)],queryFn:()=>b({data:e}),...null!=t?t:{}});var w=s(7183),v=s(13709),j=s(40664),N=!0;let k=()=>{let{data:e}=y({});return(0,a.jsx)(r.P,{mobilePwaThemeColor:"navbar-#0d0d0c",shouldEnableHeader:!1,shouldEnableSidebar:!0,rootDivClass:"bg-[#0d0d0c]",desktopSidebar:(0,a.jsx)(n.O,{}),mobileSidebarTurnedNavigation:(0,a.jsx)(n.o,{}),children:(0,a.jsxs)("div",{className:"w-full min-h-screen md:rounded-tl-2xl bg-white pb-4",children:[(0,a.jsx)(j.B,{shouldShowUserAchievementDropdown:!0,shouldShowUserProfileSettingsDropdown:!0,title:"My eBooks",subtitle:"A list of your purchased eBooks"}),(0,a.jsx)("div",{className:"flex flex-wrap px-8 py-8 w-full gap-8",children:(null==e?void 0:e.ebooks)==null?[,,,].fill(0).map((e,t)=>(0,a.jsx)(w.E,{className:"w-[300px] h-[200px]"},t)):0===e.ebooks.length?(0,a.jsxs)("div",{className:"relative disabled:opacity-50 disabled:cursor-wait block w-full border-2 border-gray-300 border-dashed rounded-lg p-12 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,a.jsx)(v.vd0,{size:36,className:"text-gray-400 mx-auto"}),(0,a.jsx)("span",{className:"mt-2 block text-sm font-medium text-gray-900",children:"You do not have purchased any eBook from the school."})]}):e.ebooks.map(e=>(0,a.jsxs)(i.N_,{className:"w-[300px] hover:bg-gray-100 flex flex-col rounded overflow-hidden",safeHref:{pathname:"/user/read-ebook",queryParams:{"ebook-digital-product-id":e.fermionDigitalProductId}},children:[(0,a.jsx)(l.A,{src:e.thumbnailUrl,width:512,height:288,alt:"eBook image",className:"w-full"}),(0,a.jsx)("div",{className:"flex-grow"}),(0,a.jsx)("p",{className:"mt-3 px-2 tracking-tight",children:e.bookTitle}),(0,a.jsx)("p",{className:"text-xs px-2 pb-2 text-gray-600",children:"eBook"})]},e.fermionDigitalProductId))})]})})}},48532:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>T,LV:()=>P,ql:()=>S,vX:()=>_});var a=s(329),r=s.n(a),n=s(60426),l=s.n(n),i=s(15089),o=s.n(i),c=s(38094),d=s.n(c),m=s(48127),u=s.n(m),f=s(34593),x=s.n(f),h=s(4410),p=s.n(h),g=s(37141),b=s.n(g),y=s(41045),w=s.n(y),v=s(37927),j=s.n(v),N=s(5592),k=s.n(N);function P(e){return r()(e).isAfter(r()())}function S(e){return!P(e)}r().extend(j()),r().extend(w()),r().extend(p()),r().extend(d()),r().extend(o()),r().extend(l()),r().extend(u()),r().extend(x()),r().extend(b()),r().extend(k());let _=e=>{let{timezone:t}=e;return(e,s)=>{if(null==t)return r()(e,s).utc();try{return r()(e,s).tz(t)}catch(t){return r()(e,s).utc()}}},T=r()},7183:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var a=s(63159),r=s(38589);function n(e){let{shouldRenderInDarkMode:t,className:s,...n}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md",t?"bg-primary/20":"bg-primary/10",s),...n})}}},e=>{var t=t=>e(e.s=t);e.O(0,[33577,21936,96331,43691,505,39211,9495,72032,58472,87855,7605,5600,15747,92979,96235,42839,99212,73774,95625,38699,70096,33345,90636,46593,38792],()=>t(28518)),_N_E=e.O()}]);