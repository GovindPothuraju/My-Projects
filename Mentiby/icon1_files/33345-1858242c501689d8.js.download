"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33345],{33345:(e,t,r)=>{r.d(t,{K:()=>N});var a=r(63159),s=r(15676),l=r(89060),i=r(95625),n=r(86721),d=r(35284),o=r(11855),c=r(70060),x=r(70731),h=r(64966),u=r(18777),p=r(22038),g=r(64772),m=r(36205);let f="fermion-user",y="get-user-xp-log",j="".concat(f,"-").concat(y),C=e=>({context:{namespace:f,functionName:y},data:e}),v=async e=>{let t;let r=C(e),a=(0,m.Cm)()||null,s=(0,m.d)()||null,l=(0,g.G0)()||null;try{t=await u.Ay.request({method:"POST",baseURL:(0,p.Pb)(),data:{organizationId:a,fermionSchoolId:s,authToken:l,data:[r]}}).then(e=>e.data).then(e=>{var t;return(null===(t=e.at(0))||void 0===t?void 0:t.output)||null})}catch(e){throw{errorMessage:(null==e?void 0:e.message)||"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!0}}if(!t)throw{errorMessage:"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!1};if("ok"===t.status)return t.data;throw{...t,isNetworkError:!1}},w=async e=>{let{data:t,forceOverrideAuthToken:r,shouldEnableBatching:a=!0}=e;if(!a)return await v(t);{let e=C(t),a=(0,p.zL)(t),s=(0,m.Cm)()||null,l=(0,m.d)()||null,i=r||(0,g.G0)()||null;return await p.l3.fetch({batchingUniqueKey:a,organizationId:s,fermionSchoolId:l,authToken:i,data:e}).then(e=>e)}},b=(e,t)=>(0,h.I)({queryKey:[j,C(e)],queryFn:()=>w({data:e}),...null!=t?t:{}});var _=r(48532);let k=(0,a.jsxs)("svg",{width:"138",height:"132",viewBox:"0 0 138 132",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M70.759 118.633C98.759 118.633 121.459 95.9333 121.459 67.8333C121.459 39.7333 98.659 17.0333 70.759 17.0333C42.759 17.0333 20.059 39.7333 20.059 67.8333C20.059 95.9333 42.759 118.633 70.759 118.633Z",fill:"#F4F4F5"}),(0,a.jsx)("path",{d:"M124.609 100.61C126.873 100.61 128.709 98.7745 128.709 96.5102C128.709 94.2458 126.873 92.4102 124.609 92.4102C122.345 92.4102 120.509 94.2458 120.509 96.5102C120.509 98.7745 122.345 100.61 124.609 100.61Z",fill:"#F4F4F5"}),(0,a.jsx)("path",{d:"M130.609 84.6101C132.155 84.6101 133.409 83.3565 133.409 81.8101C133.409 80.2637 132.155 79.0101 130.609 79.0101C129.063 79.0101 127.809 80.2637 127.809 81.8101C127.809 83.3565 129.063 84.6101 130.609 84.6101Z",fill:"#F4F4F5"}),(0,a.jsx)("path",{d:"M22.759 34.4334C24.3054 34.4334 25.559 33.1798 25.559 31.6334C25.559 30.087 24.3054 28.8334 22.759 28.8334C21.2126 28.8334 19.959 30.087 19.959 31.6334C19.959 33.1798 21.2126 34.4334 22.759 34.4334Z",fill:"#F4F4F5"}),(0,a.jsx)("path",{d:"M5.65898 88.4333C8.53086 88.4333 10.859 86.1052 10.859 83.2333C10.859 80.3614 8.53086 78.0333 5.65898 78.0333C2.7871 78.0333 0.458984 80.3614 0.458984 83.2333C0.458984 86.1052 2.7871 88.4333 5.65898 88.4333Z",fill:"#F4F4F5"}),(0,a.jsx)("path",{d:"M77.1203 86.2513H65.8531C63.2424 86.2513 61.0439 88.6597 61.0439 91.5196V97.6909C61.0439 104.013 65.7157 109.13 71.4867 109.13C77.2577 109.13 81.9294 104.013 81.9294 97.6909V91.5196C81.9294 88.5092 79.7309 86.2513 77.1203 86.2513Z",fill:"white"}),(0,a.jsx)("g",{filter:"url(#filter0_d_382_40013)",children:(0,a.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M76.1203 27.1172C87.1449 29.6673 95.3569 39.5407 95.3569 51.3398V54.4992C95.3569 81.1475 115.418 98.5926 115.418 98.5926H25.418C25.418 98.5926 45.6164 81.1475 45.6164 54.4992V51.3398C45.6164 39.5407 53.8284 29.6673 64.8531 27.1172V26.0651C64.8531 22.9058 67.3264 20.4332 70.4867 20.4332C73.647 20.4332 76.1203 22.9058 76.1203 26.0651V27.1172Z",fill:"url(#paint0_linear_382_40013)"})}),(0,a.jsx)("path",{d:"M60.0439 65.3508C56.6088 65.3508 53.7233 63.153 52.6241 59.9937C52.3493 59.3069 52.7615 58.6201 53.4485 58.3453C54.1355 58.0706 54.8225 58.4827 55.0974 59.1695C55.7844 61.2299 57.8454 62.7409 60.0439 62.7409C62.2424 62.7409 64.3035 61.3673 64.9905 59.1695C65.2653 58.4827 65.9523 58.0706 66.6393 58.3453C67.3264 58.6201 67.7386 59.3069 67.4638 59.9937C66.3645 63.2904 63.479 65.3508 60.0439 65.3508Z",fill:"#D4D4D8"}),(0,a.jsx)("path",{d:"M80.792 65.3508C77.3569 65.3508 74.4714 63.153 73.3722 59.9937C73.0974 59.3069 73.5096 58.6201 74.1966 58.3453C74.8836 58.0706 75.5706 58.4827 75.8454 59.1695C76.5325 61.2299 78.5935 62.7409 80.792 62.7409C82.9905 62.7409 85.0516 61.3673 85.7386 59.1695C86.0134 58.4827 86.7004 58.0706 87.3874 58.3453C88.0745 58.6201 88.4867 59.3069 88.2119 59.9937C87.1126 63.2904 84.2271 65.3508 80.792 65.3508Z",fill:"#D4D4D8"}),(0,a.jsx)("path",{d:"M70.4867 82.1695C72.2321 82.1695 73.647 80.755 73.647 79.0102C73.647 77.2653 72.2321 75.8508 70.4867 75.8508C68.7413 75.8508 67.3264 77.2653 67.3264 79.0102C67.3264 80.755 68.7413 82.1695 70.4867 82.1695Z",fill:"#D4D4D8"}),(0,a.jsx)("path",{d:"M87.4209 4.66212V0.0124512H105.391V4.66212L93.1291 19.4565H105.602V24.1062H86.7867V19.4565L99.0486 4.66212H87.4209Z",fill:"url(#paint1_linear_382_40013)"}),(0,a.jsx)("path",{d:"M102.22 39.5347V36.5758H113.848V39.5347L106.025 49.0454H114.059V52.0043H101.797V49.0454L109.619 39.5347H102.22Z",fill:"url(#paint2_linear_382_40013)"}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("filter",{id:"filter0_d_382_40013",x:"3.41797",y:"9.43323",width:"134",height:"122.159",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dy:"11"}),(0,a.jsx)("feGaussianBlur",{stdDeviation:"11"}),(0,a.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.397708 0 0 0 0 0.47749 0 0 0 0 0.575 0 0 0 0.27 0"}),(0,a.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_382_40013"}),(0,a.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_382_40013",result:"shape"})]}),(0,a.jsxs)("linearGradient",{id:"paint0_linear_382_40013",x1:"70.3886",y1:"18.6253",x2:"70.3886",y2:"99.4352",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#EEF1F7"}),(0,a.jsx)("stop",{offset:"0.9964",stopColor:"#EFF0F2"})]}),(0,a.jsxs)("linearGradient",{id:"paint1_linear_382_40013",x1:"96.196",y1:"0.849439",x2:"96.196",y2:"14.373",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#D4D4D8"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#D4D4D8"})]}),(0,a.jsxs)("linearGradient",{id:"paint2_linear_382_40013",x1:"107.929",y1:"37.1118",x2:"107.929",y2:"45.7716",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#D4D4D8"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#D4D4D8"})]})]})]}),F=e=>{let{record:t}=e,r=x.p1k;return(0,a.jsxs)("div",{className:(0,d.default)("flex cursor-default items-start px-3 py-2.5","bg-gray-50 opacity-75 dark:bg-gray-900"),children:[(0,a.jsx)(r,{strokeWidth:.5,className:"h-5 w-5 flex-shrink-0 translate-y-1 rounded bg-opacity-10 p-1 ".concat("bg-secondary-400"," ").concat("text-secondary-600"),"aria-hidden":"true"}),(0,a.jsxs)("div",{className:"ml-3 w-0 flex-1",children:[(0,a.jsx)("p",{className:"text-sm",children:t.xpReasonFriendlyString}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:(0,_.Ay)(t.createdAt).fromNow()})]})]})},N=()=>{let e=(0,l.H)(),{refetch:t,data:r}=b({limit:10,lastXpRecordId:null},{enabled:"authorized"===e.state});return"unknown"===e.state?(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{className:"h-8 w-8 bg-gray-300 rounded-full animate-pulse"})}):"unauthorized"===e.state||null==r?null:(0,a.jsx)(i.AM,{className:"relative",children:e=>{let{open:l,close:h}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.v,{content:(0,a.jsx)("span",{className:"text-xs",children:"Achievements"}),placement:"bottom",delay:1e3,touch:"hold",children:(0,a.jsx)("div",{children:(0,a.jsx)(i.AM.Button,{className:(0,d.default)("group",l?"bg-gray-100 dark:bg-gray-800/50":"hover:bg-gray-50 dark:hover:bg-gray-800","relative inline-flex h-8 w-8 items-center justify-center rounded cursor-pointer"),children:0!==r.records.length?(0,a.jsx)(c._km,{strokeWidth:1,className:"h-[24px] w-[24px] text-amber-500 dark:text-yellow-400","aria-hidden":"true"}):(0,a.jsx)(c.P59,{strokeWidth:1,className:(0,d.default)(l?"text-gray-700 dark:text-gray-300":"text-gray-500","h-[24px] w-[24px]"),"aria-hidden":"true"})})})}),l&&(0,a.jsx)("div",{className:"fixed inset-0 z-0 bg-gray-600 bg-opacity-75 sm:hidden"}),(0,a.jsx)(n.e,{as:o.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",beforeEnter:()=>{t().catch(console.error)},children:(0,a.jsxs)(i.AM.Panel,{className:"fixed inset-x-4 top-20 z-30 origin-top divide-y divide-gray-100 overflow-hidden rounded-md border border-gray-100 bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none dark:divide-gray-800 dark:border-gray-800 dark:bg-gray-900 sm:absolute sm:inset-auto sm:right-0 sm:mt-2 sm:min-w-[384px]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 px-4 py-3 dark:border-gray-800 sm:px-4",children:[(0,a.jsx)("p",{children:(0,a.jsx)("h3",{className:"text-lg font-bold leading-6",children:"Achievements"})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[0!==r.records.length&&(0,a.jsxs)("button",{className:"inline-flex items-center gap-1 text-xs font-medium text-gray-500 underline-offset-2 hover:underline",children:[(0,a.jsx)(x.jJQ,{className:"h-4 w-4"}),"Mark all as read"]}),(0,a.jsx)(x.IeJ,{className:"h-5 w-5 cursor-pointer text-gray-500",strokeWidth:.5,onClick:()=>h()})]})]}),(0,a.jsx)("div",{className:"h-[360px] divide-y overflow-y-auto dark:divide-gray-800",children:(0,a.jsx)(a.Fragment,{children:0===r.records.length?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center gap-2 bg-gray-50 text-gray-500 dark:bg-gray-800/50",children:[k,(0,a.jsx)("span",{className:"text-sm font-medium",children:"No XP notifications"})]})}):(0,a.jsx)(a.Fragment,{children:r.records.map(e=>(0,a.jsx)(F,{record:e},e.uniqueId))})})})]})})]})}})}},15676:(e,t,r)=>{r.d(t,{v:()=>l});var a=r(63159),s=r(73817);r(98454);let l=e=>(0,a.jsx)(s.Ay,{zIndex:0x5f5e0ff,...e})}}]);