var zo=Object.create;var oi=Object.defineProperty;var Vo=Object.getOwnPropertyDescriptor;var Ho=Object.getOwnPropertyNames;var Wo=Object.getPrototypeOf,Yo=Object.prototype.hasOwnProperty;var J=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var qo=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ho(e))!Yo.call(t,i)&&i!==r&&oi(t,i,{get:()=>e[i],enumerable:!(n=Vo(e,i))||n.enumerable});return t};var te=(t,e,r)=>(r=t!=null?zo(Wo(t)):{},qo(e||!t||!t.__esModule?oi(r,"default",{value:t,enumerable:!0}):r,t));var _i=J((Md,bi)=>{var Et=1e3,St=Et*60,Tt=St*60,nt=Tt*24,Qa=nt*7,ec=nt*365.25;bi.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return tc(t);if(r==="number"&&isFinite(t))return e.long?nc(t):rc(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function tc(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*ec;case"weeks":case"week":case"w":return r*Qa;case"days":case"day":case"d":return r*nt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Tt;case"minutes":case"minute":case"mins":case"min":case"m":return r*St;case"seconds":case"second":case"secs":case"sec":case"s":return r*Et;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function rc(t){var e=Math.abs(t);return e>=nt?Math.round(t/nt)+"d":e>=Tt?Math.round(t/Tt)+"h":e>=St?Math.round(t/St)+"m":e>=Et?Math.round(t/Et)+"s":t+"ms"}function nc(t){var e=Math.abs(t);return e>=nt?er(t,e,nt,"day"):e>=Tt?er(t,e,Tt,"hour"):e>=St?er(t,e,St,"minute"):e>=Et?er(t,e,Et,"second"):t+" ms"}function er(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Mi=J(Fr=>{"use strict";Fr.parse=ac;Fr.serialize=cc;var sc=decodeURIComponent,oc=encodeURIComponent,ar=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ac(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},n=e||{},i=t.split(";"),s=n.decode||sc,o=0;o<i.length;o++){var a=i[o],u=a.indexOf("=");if(!(u<0)){var l=a.substring(0,u).trim();if(r[l]==null){var d=a.substring(u+1,a.length).trim();d[0]==='"'&&(d=d.slice(1,-1)),r[l]=uc(d,s)}}}return r}function cc(t,e,r){var n=r||{},i=n.encode||oc;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!ar.test(t))throw new TypeError("argument name is invalid");var s=i(e);if(s&&!ar.test(s))throw new TypeError("argument val is invalid");var o=t+"="+s;if(n.maxAge!=null){var a=n.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(n.domain){if(!ar.test(n.domain))throw new TypeError("option domain is invalid");o+="; Domain="+n.domain}if(n.path){if(!ar.test(n.path))throw new TypeError("option path is invalid");o+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.sameSite){var u=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(u){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o}function uc(t,e){try{return e(t)}catch{return t}}});var Pi=J((zd,Nt)=>{"use strict";var It={decodeValues:!0,map:!1,silent:!1};function Br(t){return typeof t=="string"&&!!t.trim()}function Ur(t,e){var r=t.split(";").filter(Br),n=r.shift(),i=lc(n),s=i.name,o=i.value;e=e?Object.assign({},It,e):It;try{o=e.decodeValues?decodeURIComponent(o):o}catch(u){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+o+"'. Set options.decodeValues to false to disable this feature.",u)}var a={name:s,value:o};return r.forEach(function(u){var l=u.split("="),d=l.shift().trimLeft().toLowerCase(),h=l.join("=");d==="expires"?a.expires=new Date(h):d==="max-age"?a.maxAge=parseInt(h,10):d==="secure"?a.secure=!0:d==="httponly"?a.httpOnly=!0:d==="samesite"?a.sameSite=h:d==="partitioned"?a.partitioned=!0:a[d]=h}),a}function lc(t){var e="",r="",n=t.split("=");return n.length>1?(e=n.shift(),r=n.join("=")):r=t,{name:e,value:r}}function Ni(t,e){if(e=e?Object.assign({},It,e):It,!t)return e.map?{}:[];if(t.headers)if(typeof t.headers.getSetCookie=="function")t=t.headers.getSetCookie();else if(t.headers["set-cookie"])t=t.headers["set-cookie"];else{var r=t.headers[Object.keys(t.headers).find(function(i){return i.toLowerCase()==="set-cookie"})];!r&&t.headers.cookie&&!e.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),t=r}if(Array.isArray(t)||(t=[t]),e=e?Object.assign({},It,e):It,e.map){var n={};return t.filter(Br).reduce(function(i,s){var o=Ur(s,e);return i[o.name]=o,i},n)}else return t.filter(Br).map(function(i){return Ur(i,e)})}function dc(t){if(Array.isArray(t))return t;if(typeof t!="string")return[];var e=[],r=0,n,i,s,o,a;function u(){for(;r<t.length&&/\s/.test(t.charAt(r));)r+=1;return r<t.length}function l(){return i=t.charAt(r),i!=="="&&i!==";"&&i!==","}for(;r<t.length;){for(n=r,a=!1;u();)if(i=t.charAt(r),i===","){for(s=r,r+=1,u(),o=r;r<t.length&&l();)r+=1;r<t.length&&t.charAt(r)==="="?(a=!0,r=o,e.push(t.substring(n,s)),n=r):r=s+1}else r+=1;(!a||r>=t.length)&&e.push(t.substring(n,t.length))}return e}Nt.exports=Ni;Nt.exports.parse=Ni;Nt.exports.parseString=Ur;Nt.exports.splitCookiesString=dc});var ji=J(de=>{"use strict";var Oe=de&&de.__assign||function(){return Oe=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Oe.apply(this,arguments)};Object.defineProperty(de,"__esModule",{value:!0});de.areCookiesEqual=de.hasSameProperties=de.createCookie=de.isBrowser=void 0;function fc(){return typeof window<"u"}de.isBrowser=fc;function pc(t,e,r){var n=r.sameSite;n===!0&&(n="strict"),(n===void 0||n===!1)&&(n="lax");var i=Oe(Oe({},r),{sameSite:n});return delete i.encode,Oe({name:t,value:e},i)}de.createCookie=pc;function Li(t,e){var r=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(e);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var s=r[i];if(t[s]!==e[s])return!1}return!0}de.hasSameProperties=Li;function hc(t,e){var r=t.sameSite===e.sameSite;return typeof t.sameSite=="string"&&typeof e.sameSite=="string"&&(r=t.sameSite.toLowerCase()===e.sameSite.toLowerCase()),Li(Oe(Oe({},t),{sameSite:void 0}),Oe(Oe({},e),{sameSite:void 0}))&&r}de.areCookiesEqual=hc});var Bi=J(ve=>{"use strict";var Lt=ve&&ve.__assign||function(){return Lt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Lt.apply(this,arguments)};Object.defineProperty(ve,"__esModule",{value:!0});ve.destroyCookie=ve.setCookie=ve.parseCookies=void 0;var Pt=Mi(),mc=Pi(),cr=ji();function $i(t,e){var r,n;return!((n=(r=t?.req)===null||r===void 0?void 0:r.headers)===null||n===void 0)&&n.cookie?Pt.parse(t.req.headers.cookie,e):cr.isBrowser()?Pt.parse(document.cookie,e):{}}ve.parseCookies=$i;function zr(t,e,r,n){var i,s;if(n===void 0&&(n={}),!((i=t?.res)===null||i===void 0)&&i.getHeader&&t.res.setHeader){if(!((s=t?.res)===null||s===void 0)&&s.finished)return console.warn('Not setting "'+e+'" cookie. Response has finished.'),console.warn("You should set cookie before res.send()"),{};var o=t.res.getHeader("Set-Cookie")||[];typeof o=="string"&&(o=[o]),typeof o=="number"&&(o=[]);var a=mc.parse(o,{decodeValues:!1}),u=cr.createCookie(e,r,n),l=[];a.forEach(function(d){if(!cr.areCookiesEqual(d,u)){var h=Pt.serialize(d.name,d.value,Lt({encode:function(E){return E}},d));l.push(h)}}),l.push(Pt.serialize(e,r,n)),t.res.setHeader("Set-Cookie",l)}if(cr.isBrowser()){if(n&&n.httpOnly)throw new Error("Can not set a httpOnly cookie in the browser.");document.cookie=Pt.serialize(e,r,n)}return{}}ve.setCookie=zr;function Fi(t,e,r){return zr(t,e,"",Lt(Lt({},r||{}),{maxAge:-1}))}ve.destroyCookie=Fi;ve.default={set:zr,get:$i,destroy:Fi}});var Vi=J(ur=>{"use strict";ur.byteLength=yc;ur.toByteArray=bc;ur.fromByteArray=Ec;var Te=[],fe=[],gc=typeof Uint8Array<"u"?Uint8Array:Array,Vr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(it=0,Ui=Vr.length;it<Ui;++it)Te[it]=Vr[it],fe[Vr.charCodeAt(it)]=it;var it,Ui;fe[45]=62;fe[95]=63;function zi(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function yc(t){var e=zi(t),r=e[0],n=e[1];return(r+n)*3/4-n}function vc(t,e,r){return(e+r)*3/4-r}function bc(t){var e,r=zi(t),n=r[0],i=r[1],s=new gc(vc(t,n,i)),o=0,a=i>0?n-4:n,u;for(u=0;u<a;u+=4)e=fe[t.charCodeAt(u)]<<18|fe[t.charCodeAt(u+1)]<<12|fe[t.charCodeAt(u+2)]<<6|fe[t.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=fe[t.charCodeAt(u)]<<2|fe[t.charCodeAt(u+1)]>>4,s[o++]=e&255),i===1&&(e=fe[t.charCodeAt(u)]<<10|fe[t.charCodeAt(u+1)]<<4|fe[t.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function _c(t){return Te[t>>18&63]+Te[t>>12&63]+Te[t>>6&63]+Te[t&63]}function wc(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(_c(n));return i.join("")}function Ec(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(wc(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(Te[e>>2]+Te[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Te[e>>10]+Te[e>>4&63]+Te[e<<2&63]+"=")),i.join("")}});var vo=J(($n,Fn)=>{(function(t,e){typeof $n=="object"&&typeof Fn<"u"?Fn.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs=e()})($n,function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",i="second",s="minute",o="hour",a="day",u="week",l="month",d="quarter",h="year",E="date",f="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var b=["th","st","nd","rd"],y=O%100;return"["+O+(b[(y-20)%10]||b[y]||b[0])+"]"}},M=function(O,b,y){var N=String(O);return!N||N.length>=b?O:""+Array(b+1-N.length).join(y)+O},U={s:M,z:function(O){var b=-O.utcOffset(),y=Math.abs(b),N=Math.floor(y/60),_=y%60;return(b<=0?"+":"-")+M(N,2,"0")+":"+M(_,2,"0")},m:function O(b,y){if(b.date()<y.date())return-O(y,b);var N=12*(y.year()-b.year())+(y.month()-b.month()),_=b.clone().add(N,l),L=y-_<0,D=b.clone().add(N+(L?-1:1),l);return+(-(N+(y-_)/(L?_-D:D-_))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:l,y:h,w:u,d:a,D:E,h:o,m:s,s:i,ms:n,Q:d}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},I="en",v={};v[I]=k;var p=function(O){return O instanceof $},C=function O(b,y,N){var _;if(!b)return I;if(typeof b=="string"){var L=b.toLowerCase();v[L]&&(_=L),y&&(v[L]=y,_=L);var D=b.split("-");if(!_&&D.length>1)return O(D[0])}else{var z=b.name;v[z]=b,_=z}return!N&&_&&(I=_),_||!N&&I},A=function(O,b){if(p(O))return O.clone();var y=typeof b=="object"?b:{};return y.date=O,y.args=arguments,new $(y)},w=U;w.l=C,w.i=p,w.w=function(O,b){return A(O,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var $=function(){function O(y){this.$L=C(y.locale,null,!0),this.parse(y)}var b=O.prototype;return b.parse=function(y){this.$d=function(N){var _=N.date,L=N.utc;if(_===null)return new Date(NaN);if(w.u(_))return new Date;if(_ instanceof Date)return new Date(_);if(typeof _=="string"&&!/Z$/i.test(_)){var D=_.match(g);if(D){var z=D[2]-1||0,Y=(D[7]||"0").substring(0,3);return L?new Date(Date.UTC(D[1],z,D[3]||1,D[4]||0,D[5]||0,D[6]||0,Y)):new Date(D[1],z,D[3]||1,D[4]||0,D[5]||0,D[6]||0,Y)}}return new Date(_)}(y),this.$x=y.x||{},this.init()},b.init=function(){var y=this.$d;this.$y=y.getFullYear(),this.$M=y.getMonth(),this.$D=y.getDate(),this.$W=y.getDay(),this.$H=y.getHours(),this.$m=y.getMinutes(),this.$s=y.getSeconds(),this.$ms=y.getMilliseconds()},b.$utils=function(){return w},b.isValid=function(){return this.$d.toString()!==f},b.isSame=function(y,N){var _=A(y);return this.startOf(N)<=_&&_<=this.endOf(N)},b.isAfter=function(y,N){return A(y)<this.startOf(N)},b.isBefore=function(y,N){return this.endOf(N)<A(y)},b.$g=function(y,N,_){return w.u(y)?this[N]:this.set(_,y)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(y,N){var _=this,L=!!w.u(N)||N,D=w.p(y),z=function(Ee,G){var ue=w.w(_.$u?Date.UTC(_.$y,G,Ee):new Date(_.$y,G,Ee),_);return L?ue:ue.endOf(a)},Y=function(Ee,G){return w.w(_.toDate()[Ee].apply(_.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(G)),_)},Z=this.$W,K=this.$M,we=this.$D,me="set"+(this.$u?"UTC":"");switch(D){case h:return L?z(1,0):z(31,11);case l:return L?z(1,K):z(0,K+1);case u:var Ve=this.$locale().weekStart||0,Pe=(Z<Ve?Z+7:Z)-Ve;return z(L?we-Pe:we+(6-Pe),K);case a:case E:return Y(me+"Hours",0);case o:return Y(me+"Minutes",1);case s:return Y(me+"Seconds",2);case i:return Y(me+"Milliseconds",3);default:return this.clone()}},b.endOf=function(y){return this.startOf(y,!1)},b.$set=function(y,N){var _,L=w.p(y),D="set"+(this.$u?"UTC":""),z=(_={},_[a]=D+"Date",_[E]=D+"Date",_[l]=D+"Month",_[h]=D+"FullYear",_[o]=D+"Hours",_[s]=D+"Minutes",_[i]=D+"Seconds",_[n]=D+"Milliseconds",_)[L],Y=L===a?this.$D+(N-this.$W):N;if(L===l||L===h){var Z=this.clone().set(E,1);Z.$d[z](Y),Z.init(),this.$d=Z.set(E,Math.min(this.$D,Z.daysInMonth())).$d}else z&&this.$d[z](Y);return this.init(),this},b.set=function(y,N){return this.clone().$set(y,N)},b.get=function(y){return this[w.p(y)]()},b.add=function(y,N){var _,L=this;y=Number(y);var D=w.p(N),z=function(K){var we=A(L);return w.w(we.date(we.date()+Math.round(K*y)),L)};if(D===l)return this.set(l,this.$M+y);if(D===h)return this.set(h,this.$y+y);if(D===a)return z(1);if(D===u)return z(7);var Y=(_={},_[s]=e,_[o]=r,_[i]=t,_)[D]||1,Z=this.$d.getTime()+y*Y;return w.w(Z,this)},b.subtract=function(y,N){return this.add(-1*y,N)},b.format=function(y){var N=this,_=this.$locale();if(!this.isValid())return _.invalidDate||f;var L=y||"YYYY-MM-DDTHH:mm:ssZ",D=w.z(this),z=this.$H,Y=this.$m,Z=this.$M,K=_.weekdays,we=_.months,me=function(G,ue,Le,je){return G&&(G[ue]||G(N,L))||Le[ue].slice(0,je)},Ve=function(G){return w.s(z%12||12,G,"0")},Pe=_.meridiem||function(G,ue,Le){var je=G<12?"AM":"PM";return Le?je.toLowerCase():je},Ee={YY:String(this.$y).slice(-2),YYYY:w.s(this.$y,4,"0"),M:Z+1,MM:w.s(Z+1,2,"0"),MMM:me(_.monthsShort,Z,we,3),MMMM:me(we,Z),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:me(_.weekdaysMin,this.$W,K,2),ddd:me(_.weekdaysShort,this.$W,K,3),dddd:K[this.$W],H:String(z),HH:w.s(z,2,"0"),h:Ve(1),hh:Ve(2),a:Pe(z,Y,!0),A:Pe(z,Y,!1),m:String(Y),mm:w.s(Y,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:D};return L.replace(x,function(G,ue){return ue||Ee[G]||D.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(y,N,_){var L,D=w.p(N),z=A(y),Y=(z.utcOffset()-this.utcOffset())*e,Z=this-z,K=w.m(this,z);return K=(L={},L[h]=K/12,L[l]=K,L[d]=K/3,L[u]=(Z-Y)/6048e5,L[a]=(Z-Y)/864e5,L[o]=Z/r,L[s]=Z/e,L[i]=Z/t,L)[D]||Z,_?K:w.a(K)},b.daysInMonth=function(){return this.endOf(l).$D},b.$locale=function(){return v[this.$L]},b.locale=function(y,N){if(!y)return this.$L;var _=this.clone(),L=C(y,N,!0);return L&&(_.$L=L),_},b.clone=function(){return w.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},O}(),H=$.prototype;return A.prototype=H,[["$ms",n],["$s",i],["$m",s],["$H",o],["$W",a],["$M",l],["$y",h],["$D",E]].forEach(function(O){H[O[1]]=function(b){return this.$g(b,O[0],O[1])}}),A.extend=function(O,b){return O.$i||(O(b,$,A),O.$i=!0),A},A.locale=C,A.isDayjs=p,A.unix=function(O){return A(1e3*O)},A.en=v[I],A.Ls=v,A.p={},A})});var bo=J((Bn,Un)=>{(function(t,e){typeof Bn=="object"&&typeof Un<"u"?Un.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_duration=e()})(Bn,function(){"use strict";var t,e,r=1e3,n=6e4,i=36e5,s=864e5,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a=31536e6,u=2592e6,l=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:a,months:u,days:s,hours:i,minutes:n,seconds:r,milliseconds:1,weeks:6048e5},h=function(I){return I instanceof U},E=function(I,v,p){return new U(I,p,v.$l)},f=function(I){return e.p(I)+"s"},g=function(I){return I<0},x=function(I){return g(I)?Math.ceil(I):Math.floor(I)},k=function(I){return Math.abs(I)},M=function(I,v){return I?g(I)?{negative:!0,format:""+k(I)+v}:{negative:!1,format:""+I+v}:{negative:!1,format:""}},U=function(){function I(p,C,A){var w=this;if(this.$d={},this.$l=A,p===void 0&&(this.$ms=0,this.parseFromMilliseconds()),C)return E(p*d[f(C)],this);if(typeof p=="number")return this.$ms=p,this.parseFromMilliseconds(),this;if(typeof p=="object")return Object.keys(p).forEach(function(O){w.$d[f(O)]=p[O]}),this.calMilliseconds(),this;if(typeof p=="string"){var $=p.match(l);if($){var H=$.slice(2).map(function(O){return O!=null?Number(O):0});return this.$d.years=H[0],this.$d.months=H[1],this.$d.weeks=H[2],this.$d.days=H[3],this.$d.hours=H[4],this.$d.minutes=H[5],this.$d.seconds=H[6],this.calMilliseconds(),this}}return this}var v=I.prototype;return v.calMilliseconds=function(){var p=this;this.$ms=Object.keys(this.$d).reduce(function(C,A){return C+(p.$d[A]||0)*d[A]},0)},v.parseFromMilliseconds=function(){var p=this.$ms;this.$d.years=x(p/a),p%=a,this.$d.months=x(p/u),p%=u,this.$d.days=x(p/s),p%=s,this.$d.hours=x(p/i),p%=i,this.$d.minutes=x(p/n),p%=n,this.$d.seconds=x(p/r),p%=r,this.$d.milliseconds=p},v.toISOString=function(){var p=M(this.$d.years,"Y"),C=M(this.$d.months,"M"),A=+this.$d.days||0;this.$d.weeks&&(A+=7*this.$d.weeks);var w=M(A,"D"),$=M(this.$d.hours,"H"),H=M(this.$d.minutes,"M"),O=this.$d.seconds||0;this.$d.milliseconds&&(O+=this.$d.milliseconds/1e3);var b=M(O,"S"),y=p.negative||C.negative||w.negative||$.negative||H.negative||b.negative,N=$.format||H.format||b.format?"T":"",_=(y?"-":"")+"P"+p.format+C.format+w.format+N+$.format+H.format+b.format;return _==="P"||_==="-P"?"P0D":_},v.toJSON=function(){return this.toISOString()},v.format=function(p){var C=p||"YYYY-MM-DDTHH:mm:ss",A={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return C.replace(o,function(w,$){return $||String(A[w])})},v.as=function(p){return this.$ms/d[f(p)]},v.get=function(p){var C=this.$ms,A=f(p);return A==="milliseconds"?C%=1e3:C=A==="weeks"?x(C/d[A]):this.$d[A],C===0?0:C},v.add=function(p,C,A){var w;return w=C?p*d[f(C)]:h(p)?p.$ms:E(p,this).$ms,E(this.$ms+w*(A?-1:1),this)},v.subtract=function(p,C){return this.add(p,C,!0)},v.locale=function(p){var C=this.clone();return C.$l=p,C},v.clone=function(){return E(this.$ms,this)},v.humanize=function(p){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!p)},v.valueOf=function(){return this.asMilliseconds()},v.milliseconds=function(){return this.get("milliseconds")},v.asMilliseconds=function(){return this.as("milliseconds")},v.seconds=function(){return this.get("seconds")},v.asSeconds=function(){return this.as("seconds")},v.minutes=function(){return this.get("minutes")},v.asMinutes=function(){return this.as("minutes")},v.hours=function(){return this.get("hours")},v.asHours=function(){return this.as("hours")},v.days=function(){return this.get("days")},v.asDays=function(){return this.as("days")},v.weeks=function(){return this.get("weeks")},v.asWeeks=function(){return this.as("weeks")},v.months=function(){return this.get("months")},v.asMonths=function(){return this.as("months")},v.years=function(){return this.get("years")},v.asYears=function(){return this.as("years")},I}();return function(I,v,p){t=p,e=p().$utils(),p.duration=function(w,$){var H=p.locale();return E(w,{$l:H},$)},p.isDuration=h;var C=v.prototype.add,A=v.prototype.subtract;v.prototype.add=function(w,$){return h(w)&&(w=w.asMilliseconds()),C.bind(this)(w,$)},v.prototype.subtract=function(w,$){return h(w)&&(w=w.asMilliseconds()),A.bind(this)(w,$)}}})});var _o=J((zn,Vn)=>{(function(t,e){typeof zn=="object"&&typeof Vn<"u"?Vn.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_isoWeek=e()})(zn,function(){"use strict";var t="day";return function(e,r,n){var i=function(a){return a.add(4-a.isoWeekday(),t)},s=r.prototype;s.isoWeekYear=function(){return i(this).year()},s.isoWeek=function(a){if(!this.$utils().u(a))return this.add(7*(a-this.isoWeek()),t);var u,l,d,h,E=i(this),f=(u=this.isoWeekYear(),l=this.$u,d=(l?n.utc:n)().year(u).startOf("year"),h=4-d.isoWeekday(),d.isoWeekday()>4&&(h+=7),d.add(h,t));return E.diff(f,"week")+1},s.isoWeekday=function(a){return this.$utils().u(a)?this.day()||7:this.day(this.day()%7?a:a-7)};var o=s.startOf;s.startOf=function(a,u){var l=this.$utils(),d=!!l.u(u)||u;return l.p(a)==="isoweek"?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(a,u)}}})});var wo=J((Hn,Wn)=>{(function(t,e){typeof Hn=="object"&&typeof Wn<"u"?Wn.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_objectSupport=e()})(Hn,function(){"use strict";return function(t,e,r){var n=e.prototype,i=function(d){var h,E=d.date,f=d.utc,g={};if(!((h=E)instanceof Date||h instanceof Array||n.$utils().u(h)||h.constructor.name!=="Object")){if(!Object.keys(E).length)return new Date;var x=f?r.utc():r();Object.keys(E).forEach(function(A){var w,$;g[w=A,$=n.$utils().p(w),$==="date"?"day":$]=E[A]});var k=g.day||(g.year||g.month>=0?1:x.date()),M=g.year||x.year(),U=g.month>=0?g.month:g.year||g.day?0:x.month(),I=g.hour||0,v=g.minute||0,p=g.second||0,C=g.millisecond||0;return f?new Date(Date.UTC(M,U,k,I,v,p,C)):new Date(M,U,k,I,v,p,C)}return E},s=n.parse;n.parse=function(d){d.date=i.bind(this)(d),s.bind(this)(d)};var o=n.set,a=n.add,u=n.subtract,l=function(d,h,E,f){f===void 0&&(f=1);var g=Object.keys(h),x=this;return g.forEach(function(k){x=d.bind(x)(h[k]*f,k)}),x};n.set=function(d,h){return h=h===void 0?d:h,d.constructor.name==="Object"?l.bind(this)(function(E,f){return o.bind(this)(f,E)},h,d):o.bind(this)(d,h)},n.add=function(d,h){return d.constructor.name==="Object"?l.bind(this)(a,d,h):a.bind(this)(d,h)},n.subtract=function(d,h){return d.constructor.name==="Object"?l.bind(this)(a,d,h,-1):u.bind(this)(d,h)}}})});var Eo=J((Yn,qn)=>{(function(t,e){typeof Yn=="object"&&typeof qn<"u"?qn.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_relativeTime=e()})(Yn,function(){"use strict";return function(t,e,r){t=t||{};var n=e.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(a,u,l,d){return n.fromToBase(a,u,l,d)}r.en.relativeTime=i,n.fromToBase=function(a,u,l,d,h){for(var E,f,g,x=l.$locale().relativeTime||i,k=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],M=k.length,U=0;U<M;U+=1){var I=k[U];I.d&&(E=d?r(a).diff(l,I.d,!0):l.diff(a,I.d,!0));var v=(t.rounding||Math.round)(Math.abs(E));if(g=E>0,v<=I.r||!I.r){v<=1&&U>0&&(I=k[U-1]);var p=x[I.l];h&&(v=h(""+v)),f=typeof p=="string"?p.replace("%d",v):p(v,u,I.l,g);break}}if(u)return f;var C=g?x.future:x.past;return typeof C=="function"?C(f):C.replace("%s",f)},n.to=function(a,u){return s(a,u,this,!0)},n.from=function(a,u){return s(a,u,this)};var o=function(a){return a.$u?r.utc():r()};n.toNow=function(a){return this.to(o(this),a)},n.fromNow=function(a){return this.from(o(this),a)}}})});var So=J((Zn,Kn)=>{(function(t,e){typeof Zn=="object"&&typeof Kn<"u"?Kn.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_timezone=e()})(Zn,function(){"use strict";var t={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(r,n,i){var s,o=function(d,h,E){E===void 0&&(E={});var f=new Date(d),g=function(x,k){k===void 0&&(k={});var M=k.timeZoneName||"short",U=x+"|"+M,I=e[U];return I||(I=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:x,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:M}),e[U]=I),I}(h,E);return g.formatToParts(f)},a=function(d,h){for(var E=o(d,h),f=[],g=0;g<E.length;g+=1){var x=E[g],k=x.type,M=x.value,U=t[k];U>=0&&(f[U]=parseInt(M,10))}var I=f[3],v=I===24?0:I,p=f[0]+"-"+f[1]+"-"+f[2]+" "+v+":"+f[4]+":"+f[5]+":000",C=+d;return(i.utc(p).valueOf()-(C-=C%1e3))/6e4},u=n.prototype;u.tz=function(d,h){d===void 0&&(d=s);var E=this.utcOffset(),f=this.toDate(),g=f.toLocaleString("en-US",{timeZone:d}),x=Math.round((f-new Date(g))/1e3/60),k=i(g).$set("millisecond",this.$ms).utcOffset(15*-Math.round(f.getTimezoneOffset()/15)-x,!0);if(h){var M=k.utcOffset();k=k.add(E-M,"minute")}return k.$x.$timezone=d,k},u.offsetName=function(d){var h=this.$x.$timezone||i.tz.guess(),E=o(this.valueOf(),h,{timeZoneName:d}).find(function(f){return f.type.toLowerCase()==="timezonename"});return E&&E.value};var l=u.startOf;u.startOf=function(d,h){if(!this.$x||!this.$x.$timezone)return l.call(this,d,h);var E=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return l.call(E,d,h).tz(this.$x.$timezone,!0)},i.tz=function(d,h,E){var f=E&&h,g=E||h||s,x=a(+i(),g);if(typeof d!="string")return i(d).tz(g);var k=function(v,p,C){var A=v-60*p*1e3,w=a(A,C);if(p===w)return[A,p];var $=a(A-=60*(w-p)*1e3,C);return w===$?[A,w]:[v-60*Math.min(w,$)*1e3,Math.max(w,$)]}(i.utc(d,f).valueOf(),x,g),M=k[0],U=k[1],I=i(M).utcOffset(U);return I.$x.$timezone=g,I},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(d){s=d}}})});var To=J((Gn,Jn)=>{(function(t,e){typeof Gn=="object"&&typeof Jn<"u"?Jn.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_utc=e()})(Gn,function(){"use strict";var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(n,i,s){var o=i.prototype;s.utc=function(f){var g={date:f,utc:!0,args:arguments};return new i(g)},o.utc=function(f){var g=s(this.toDate(),{locale:this.$L,utc:!0});return f?g.add(this.utcOffset(),t):g},o.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var a=o.parse;o.parse=function(f){f.utc&&(this.$u=!0),this.$utils().u(f.$offset)||(this.$offset=f.$offset),a.call(this,f)};var u=o.init;o.init=function(){if(this.$u){var f=this.$d;this.$y=f.getUTCFullYear(),this.$M=f.getUTCMonth(),this.$D=f.getUTCDate(),this.$W=f.getUTCDay(),this.$H=f.getUTCHours(),this.$m=f.getUTCMinutes(),this.$s=f.getUTCSeconds(),this.$ms=f.getUTCMilliseconds()}else u.call(this)};var l=o.utcOffset;o.utcOffset=function(f,g){var x=this.$utils().u;if(x(f))return this.$u?0:x(this.$offset)?l.call(this):this.$offset;if(typeof f=="string"&&(f=function(I){I===void 0&&(I="");var v=I.match(e);if(!v)return null;var p=(""+v[0]).match(r)||["-",0,0],C=p[0],A=60*+p[1]+ +p[2];return A===0?0:C==="+"?A:-A}(f),f===null))return this;var k=Math.abs(f)<=16?60*f:f,M=this;if(g)return M.$offset=k,M.$u=f===0,M;if(f!==0){var U=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(M=this.local().add(k+U,t)).$offset=k,M.$x.$localOffset=U}else M=this.utc();return M};var d=o.format;o.format=function(f){var g=f||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,g)},o.valueOf=function(){var f=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*f},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var h=o.toDate;o.toDate=function(f){return f==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var E=o.diff;o.diff=function(f,g,x){if(f&&this.$u===f.$u)return E.call(this,f,g,x);var k=this.local(),M=s(f).local();return E.call(k,M,g,x)}}})});var xo=J((Xn,Qn)=>{(function(t,e){typeof Xn=="object"&&typeof Qn<"u"?Qn.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_isToday=e()})(Xn,function(){"use strict";return function(t,e,r){e.prototype.isToday=function(){var n="YYYY-MM-DD",i=r();return this.format(n)===i.format(n)}}})});var Io=J((ei,ti)=>{(function(t,e){typeof ei=="object"&&typeof ti<"u"?ti.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_customParseFormat=e()})(ei,function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,n=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,s={},o=function(f){return(f=+f)+(f>68?1900:2e3)},a=function(f){return function(g){this[f]=+g}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(f){(this.zone||(this.zone={})).offset=function(g){if(!g||g==="Z")return 0;var x=g.match(/([+-]|\d\d)/g),k=60*x[1]+(+x[2]||0);return k===0?0:x[0]==="+"?-k:k}(f)}],l=function(f){var g=s[f];return g&&(g.indexOf?g:g.s.concat(g.f))},d=function(f,g){var x,k=s.meridiem;if(k){for(var M=1;M<=24;M+=1)if(f.indexOf(k(M,0,g))>-1){x=M>12;break}}else x=f===(g?"pm":"PM");return x},h={A:[i,function(f){this.afternoon=d(f,!1)}],a:[i,function(f){this.afternoon=d(f,!0)}],S:[/\d/,function(f){this.milliseconds=100*+f}],SS:[r,function(f){this.milliseconds=10*+f}],SSS:[/\d{3}/,function(f){this.milliseconds=+f}],s:[n,a("seconds")],ss:[n,a("seconds")],m:[n,a("minutes")],mm:[n,a("minutes")],H:[n,a("hours")],h:[n,a("hours")],HH:[n,a("hours")],hh:[n,a("hours")],D:[n,a("day")],DD:[r,a("day")],Do:[i,function(f){var g=s.ordinal,x=f.match(/\d+/);if(this.day=x[0],g)for(var k=1;k<=31;k+=1)g(k).replace(/\[|\]/g,"")===f&&(this.day=k)}],M:[n,a("month")],MM:[r,a("month")],MMM:[i,function(f){var g=l("months"),x=(l("monthsShort")||g.map(function(k){return k.slice(0,3)})).indexOf(f)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[i,function(f){var g=l("months").indexOf(f)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,a("year")],YY:[r,function(f){this.year=o(f)}],YYYY:[/\d{4}/,a("year")],Z:u,ZZ:u};function E(f){var g,x;g=f,x=s&&s.formats;for(var k=(f=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(A,w,$){var H=$&&$.toUpperCase();return w||x[$]||t[$]||x[H].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(O,b,y){return b||y.slice(1)})})).match(e),M=k.length,U=0;U<M;U+=1){var I=k[U],v=h[I],p=v&&v[0],C=v&&v[1];k[U]=C?{regex:p,parser:C}:I.replace(/^\[|\]$/g,"")}return function(A){for(var w={},$=0,H=0;$<M;$+=1){var O=k[$];if(typeof O=="string")H+=O.length;else{var b=O.regex,y=O.parser,N=A.slice(H),_=b.exec(N)[0];y.call(w,_),A=A.replace(_,"")}}return function(L){var D=L.afternoon;if(D!==void 0){var z=L.hours;D?z<12&&(L.hours+=12):z===12&&(L.hours=0),delete L.afternoon}}(w),w}}return function(f,g,x){x.p.customParseFormat=!0,f&&f.parseTwoDigitYear&&(o=f.parseTwoDigitYear);var k=g.prototype,M=k.parse;k.parse=function(U){var I=U.date,v=U.utc,p=U.args;this.$u=v;var C=p[1];if(typeof C=="string"){var A=p[2]===!0,w=p[3]===!0,$=A||w,H=p[2];w&&(H=p[2]),s=this.$locale(),!A&&H&&(s=x.Ls[H]),this.$d=function(N,_,L){try{if(["x","X"].indexOf(_)>-1)return new Date((_==="X"?1e3:1)*N);var D=E(_)(N),z=D.year,Y=D.month,Z=D.day,K=D.hours,we=D.minutes,me=D.seconds,Ve=D.milliseconds,Pe=D.zone,Ee=new Date,G=Z||(z||Y?1:Ee.getDate()),ue=z||Ee.getFullYear(),Le=0;z&&!Y||(Le=Y>0?Y-1:Ee.getMonth());var je=K||0,Or=we||0,Cr=me||0,Dr=Ve||0;return Pe?new Date(Date.UTC(ue,Le,G,je,Or,Cr,Dr+60*Pe.offset*1e3)):L?new Date(Date.UTC(ue,Le,G,je,Or,Cr,Dr)):new Date(ue,Le,G,je,Or,Cr,Dr)}catch{return new Date("")}}(I,C,v),this.init(),H&&H!==!0&&(this.$L=this.locale(H).$L),$&&I!=this.format(C)&&(this.$d=new Date("")),s={}}else if(C instanceof Array)for(var O=C.length,b=1;b<=O;b+=1){p[1]=C[b-1];var y=x.apply(this,p);if(y.isValid()){this.$d=y.$d,this.$L=y.$L,this.init();break}b===O&&(this.$d=new Date(""))}else M.call(this,U)}}})});var Ao=J((ri,ni)=>{(function(t,e){typeof ri=="object"&&typeof ni<"u"?ni.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_advancedFormat=e()})(ri,function(){"use strict";return function(t,e){var r=e.prototype,n=r.format;r.format=function(i){var s=this,o=this.$locale();if(!this.isValid())return n.bind(this)(i);var a=this.$utils(),u=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(l){switch(l){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return o.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return o.ordinal(s.week(),"W");case"w":case"ww":return a.s(s.week(),l==="w"?1:2,"0");case"W":case"WW":return a.s(s.isoWeek(),l==="W"?1:2,"0");case"k":case"kk":return a.s(String(s.$H===0?24:s.$H),l==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return l}});return n.bind(this)(u)}}})});var ko=J((ii,si)=>{(function(t,e){typeof ii=="object"&&typeof si<"u"?si.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs_plugin_isBetween=e()})(ii,function(){"use strict";return function(t,e,r){e.prototype.isBetween=function(n,i,s,o){var a=r(n),u=r(i),l=(o=o||"()")[0]==="(",d=o[1]===")";return(l?this.isAfter(a,s):!this.isBefore(a,s))&&(d?this.isBefore(u,s):!this.isAfter(u,s))||(l?this.isBefore(a,s):!this.isAfter(a,s))&&(d?this.isAfter(u,s):!this.isBefore(u,s))}}})});var Zo=t=>crypto.getRandomValues(new Uint8Array(t)),Ko=(t,e,r)=>{let n=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*n*e/t.length);return(s=e)=>{let o="";for(;;){let a=r(i),u=i;for(;u--;)if(o+=t[a[u]&n]||"",o.length===s)return o}}},ai=(t,e=21)=>Ko(t,e,Zo);var V;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let s={};for(let o of i)s[o]=o;return s},t.getValidEnumValues=i=>{let s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(let a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(let o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(V||(V={}));var Rr;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Rr||(Rr={}));var S=V.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$e=t=>{switch(typeof t){case"undefined":return S.undefined;case"string":return S.string;case"number":return isNaN(t)?S.nan:S.number;case"boolean":return S.boolean;case"function":return S.function;case"bigint":return S.bigint;case"symbol":return S.symbol;case"object":return Array.isArray(t)?S.array:t===null?S.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?S.promise:typeof Map<"u"&&t instanceof Map?S.map:typeof Set<"u"&&t instanceof Set?S.set:typeof Date<"u"&&t instanceof Date?S.date:S.object;default:return S.unknown}},m=V.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Go=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),ie=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(let o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,u=0;for(;u<o.path.length;){let l=o.path[u];u===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,V.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};ie.create=t=>new ie(t);var Ct=(t,e)=>{let r;switch(t.code){case m.invalid_type:t.received===S.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case m.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,V.jsonStringifyReplacer)}`;break;case m.unrecognized_keys:r=`Unrecognized key(s) in object: ${V.joinValues(t.keys,", ")}`;break;case m.invalid_union:r="Invalid input";break;case m.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${V.joinValues(t.options)}`;break;case m.invalid_enum_value:r=`Invalid enum value. Expected ${V.joinValues(t.options)}, received '${t.received}'`;break;case m.invalid_arguments:r="Invalid function arguments";break;case m.invalid_return_type:r="Invalid function return type";break;case m.invalid_date:r="Invalid date";break;case m.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:V.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case m.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case m.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case m.custom:r="Invalid input";break;case m.invalid_intersection_types:r="Intersection results could not be merged";break;case m.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case m.not_finite:r="Number must be finite";break;default:r=e.defaultError,V.assertNever(t)}return{message:r}},li=Ct;function Jo(t){li=t}function qt(){return li}var Zt=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s},a="",u=n.filter(l=>!!l).slice().reverse();for(let l of u)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},Xo=[];function T(t,e){let r=Zt({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,qt(),Ct].filter(n=>!!n)});t.common.issues.push(r)}var X=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return j;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r)n.push({key:await i.key,value:await i.value});return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return j;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}},j=Object.freeze({status:"aborted"}),di=t=>({status:"dirty",value:t}),ee=t=>({status:"valid",value:t}),Mr=t=>t.status==="aborted",Nr=t=>t.status==="dirty",Dt=t=>t.status==="valid",Kt=t=>typeof Promise<"u"&&t instanceof Promise,R;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(R||(R={}));var le=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},ci=(t,e)=>{if(Dt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new ie(t.common.issues);return this._error=r,this._error}}};function F(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}var B=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return $e(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:$e(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new X,ctx:{common:e.parent.common,data:e.data,parsedType:$e(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Kt(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$e(e)},s=this._parseSync({data:e,path:i.path,parent:i});return ci(i,s)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:$e(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(Kt(i)?i:Promise.resolve(i));return ci(n,s)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{let o=e(i),a=()=>s.addIssue({code:m.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new se({schema:this,typeName:P.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ge.create(this,this._def)}nullable(){return ke.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ae.create(this,this._def)}promise(){return Ue.create(this,this._def)}or(e){return Ge.create([this,e],this._def)}and(e){return Je.create(this,e,this._def)}transform(e){return new se({...F(this._def),schema:this,typeName:P.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new rt({...F(this._def),innerType:this,defaultValue:r,typeName:P.ZodDefault})}brand(){return new Qt({typeName:P.ZodBranded,type:this,...F(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new bt({...F(this._def),innerType:this,catchValue:r,typeName:P.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Rt.create(this,e)}readonly(){return wt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Qo=/^c[^\s-]{8,}$/i,ea=/^[a-z][a-z0-9]*$/,ta=/[0-9A-HJKMNP-TV-Z]{26}/,ra=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,na=/^([A-Z0-9_+-]+\.?)*[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ia=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u"),sa=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,oa=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,aa=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function ca(t,e){return!!((e==="v4"||!e)&&sa.test(t)||(e==="v6"||!e)&&oa.test(t))}var Fe=class t extends B{constructor(){super(...arguments),this._regex=(e,r,n)=>this.refinement(i=>e.test(i),{validation:r,code:m.invalid_string,...R.errToObj(n)}),this.nonempty=e=>this.min(1,R.errToObj(e)),this.trim=()=>new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==S.string){let s=this._getOrReturnCtx(e);return T(s,{code:m.invalid_type,expected:S.string,received:s.parsedType}),j}let n=new X,i;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),T(i,{code:m.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),T(i,{code:m.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?T(i,{code:m.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&T(i,{code:m.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")na.test(e.data)||(i=this._getOrReturnCtx(e,i),T(i,{validation:"email",code:m.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")ia.test(e.data)||(i=this._getOrReturnCtx(e,i),T(i,{validation:"emoji",code:m.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")ra.test(e.data)||(i=this._getOrReturnCtx(e,i),T(i,{validation:"uuid",code:m.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Qo.test(e.data)||(i=this._getOrReturnCtx(e,i),T(i,{validation:"cuid",code:m.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")ea.test(e.data)||(i=this._getOrReturnCtx(e,i),T(i,{validation:"cuid2",code:m.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")ta.test(e.data)||(i=this._getOrReturnCtx(e,i),T(i,{validation:"ulid",code:m.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),T(i,{validation:"url",code:m.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),T(i,{validation:"regex",code:m.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),T(i,{code:m.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),T(i,{code:m.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),T(i,{code:m.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?aa(s).test(e.data)||(i=this._getOrReturnCtx(e,i),T(i,{code:m.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?ca(e.data,s.version)||(i=this._getOrReturnCtx(e,i),T(i,{validation:"ip",code:m.invalid_string,message:s.message}),n.dirty()):V.assertNever(s);return{status:n.value,value:e.data}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...R.errToObj(e)})}url(e){return this._addCheck({kind:"url",...R.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...R.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...R.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...R.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...R.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...R.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...R.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...R.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...R.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...R.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...R.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...R.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...R.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...R.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...R.errToObj(r)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Fe.create=t=>{var e;return new Fe({checks:[],typeName:P.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...F(t)})};function ua(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}var He=class t extends B{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==S.number){let s=this._getOrReturnCtx(e);return T(s,{code:m.invalid_type,expected:S.number,received:s.parsedType}),j}let n,i=new X;for(let s of this._def.checks)s.kind==="int"?V.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),T(n,{code:m.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),T(n,{code:m.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),T(n,{code:m.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?ua(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),T(n,{code:m.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),T(n,{code:m.not_finite,message:s.message}),i.dirty()):V.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,R.toString(r))}gt(e,r){return this.setLimit("min",e,!1,R.toString(r))}lte(e,r){return this.setLimit("max",e,!0,R.toString(r))}lt(e,r){return this.setLimit("max",e,!1,R.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:R.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:R.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:R.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:R.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:R.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:R.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:R.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:R.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:R.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&V.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};He.create=t=>new He({checks:[],typeName:P.ZodNumber,coerce:t?.coerce||!1,...F(t)});var We=class t extends B{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==S.bigint){let s=this._getOrReturnCtx(e);return T(s,{code:m.invalid_type,expected:S.bigint,received:s.parsedType}),j}let n,i=new X;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),T(n,{code:m.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),T(n,{code:m.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),T(n,{code:m.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):V.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,R.toString(r))}gt(e,r){return this.setLimit("min",e,!1,R.toString(r))}lte(e,r){return this.setLimit("max",e,!0,R.toString(r))}lt(e,r){return this.setLimit("max",e,!1,R.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:R.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:R.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:R.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:R.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:R.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:R.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};We.create=t=>{var e;return new We({checks:[],typeName:P.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...F(t)})};var Ye=class extends B{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==S.boolean){let n=this._getOrReturnCtx(e);return T(n,{code:m.invalid_type,expected:S.boolean,received:n.parsedType}),j}return ee(e.data)}};Ye.create=t=>new Ye({typeName:P.ZodBoolean,coerce:t?.coerce||!1,...F(t)});var qe=class t extends B{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==S.date){let s=this._getOrReturnCtx(e);return T(s,{code:m.invalid_type,expected:S.date,received:s.parsedType}),j}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return T(s,{code:m.invalid_date}),j}let n=new X,i;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),T(i,{code:m.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),T(i,{code:m.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):V.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:R.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:R.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};qe.create=t=>new qe({checks:[],coerce:t?.coerce||!1,typeName:P.ZodDate,...F(t)});var mt=class extends B{_parse(e){if(this._getType(e)!==S.symbol){let n=this._getOrReturnCtx(e);return T(n,{code:m.invalid_type,expected:S.symbol,received:n.parsedType}),j}return ee(e.data)}};mt.create=t=>new mt({typeName:P.ZodSymbol,...F(t)});var Ze=class extends B{_parse(e){if(this._getType(e)!==S.undefined){let n=this._getOrReturnCtx(e);return T(n,{code:m.invalid_type,expected:S.undefined,received:n.parsedType}),j}return ee(e.data)}};Ze.create=t=>new Ze({typeName:P.ZodUndefined,...F(t)});var Ke=class extends B{_parse(e){if(this._getType(e)!==S.null){let n=this._getOrReturnCtx(e);return T(n,{code:m.invalid_type,expected:S.null,received:n.parsedType}),j}return ee(e.data)}};Ke.create=t=>new Ke({typeName:P.ZodNull,...F(t)});var Be=class extends B{constructor(){super(...arguments),this._any=!0}_parse(e){return ee(e.data)}};Be.create=t=>new Be({typeName:P.ZodAny,...F(t)});var Ie=class extends B{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ee(e.data)}};Ie.create=t=>new Ie({typeName:P.ZodUnknown,...F(t)});var ye=class extends B{_parse(e){let r=this._getOrReturnCtx(e);return T(r,{code:m.invalid_type,expected:S.never,received:r.parsedType}),j}};ye.create=t=>new ye({typeName:P.ZodNever,...F(t)});var gt=class extends B{_parse(e){if(this._getType(e)!==S.undefined){let n=this._getOrReturnCtx(e);return T(n,{code:m.invalid_type,expected:S.void,received:n.parsedType}),j}return ee(e.data)}};gt.create=t=>new gt({typeName:P.ZodVoid,...F(t)});var Ae=class t extends B{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==S.array)return T(r,{code:m.invalid_type,expected:S.array,received:r.parsedType}),j;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(T(r,{code:o?m.too_big:m.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(T(r,{code:m.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(T(r,{code:m.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new le(r,o,r.path,a)))).then(o=>X.mergeArray(n,o));let s=[...r.data].map((o,a)=>i.type._parseSync(new le(r,o,r.path,a)));return X.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:R.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:R.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:R.toString(r)}})}nonempty(e){return this.min(1,e)}};Ae.create=(t,e)=>new Ae({type:t,minLength:null,maxLength:null,exactLength:null,typeName:P.ZodArray,...F(e)});function ht(t){if(t instanceof re){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=ge.create(ht(n))}return new re({...t._def,shape:()=>e})}else return t instanceof Ae?new Ae({...t._def,type:ht(t.element)}):t instanceof ge?ge.create(ht(t.unwrap())):t instanceof ke?ke.create(ht(t.unwrap())):t instanceof Se?Se.create(t.items.map(e=>ht(e))):t}var re=class t extends B{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=V.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==S.object){let l=this._getOrReturnCtx(e);return T(l,{code:m.invalid_type,expected:S.object,received:l.parsedType}),j}let{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ye&&this._def.unknownKeys==="strip"))for(let l in i.data)o.includes(l)||a.push(l);let u=[];for(let l of o){let d=s[l],h=i.data[l];u.push({key:{status:"valid",value:l},value:d._parse(new le(i,h,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof ye){let l=this._def.unknownKeys;if(l==="passthrough")for(let d of a)u.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(l==="strict")a.length>0&&(T(i,{code:m.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let d of a){let h=i.data[d];u.push({key:{status:"valid",value:d},value:l._parse(new le(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let l=[];for(let d of u){let h=await d.key;l.push({key:h,value:await d.value,alwaysSet:d.alwaysSet})}return l}).then(l=>X.mergeObjectSync(n,l)):X.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return R.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;let u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=R.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:P.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};return V.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}omit(e){let r={};return V.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}deepPartial(){return ht(this)}partial(e){let r={};return V.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new t({...this._def,shape:()=>r})}required(e){let r={};return V.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof ge;)s=s._def.innerType;r[n]=s}}),new t({...this._def,shape:()=>r})}keyof(){return fi(V.objectKeys(this.shape))}};re.create=(t,e)=>new re({shape:()=>t,unknownKeys:"strip",catchall:ye.create(),typeName:P.ZodObject,...F(e)});re.strictCreate=(t,e)=>new re({shape:()=>t,unknownKeys:"strict",catchall:ye.create(),typeName:P.ZodObject,...F(e)});re.lazycreate=(t,e)=>new re({shape:t,unknownKeys:"strip",catchall:ye.create(),typeName:P.ZodObject,...F(e)});var Ge=class extends B{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let o=s.map(a=>new ie(a.ctx.common.issues));return T(r,{code:m.invalid_union,unionErrors:o}),j}if(r.common.async)return Promise.all(n.map(async s=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s,o=[];for(let u of n){let l={...r,common:{...r.common,issues:[]},parent:null},d=u._parseSync({data:r.data,path:r.path,parent:l});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let a=o.map(u=>new ie(u));return T(r,{code:m.invalid_union,unionErrors:a}),j}}get options(){return this._def.options}};Ge.create=(t,e)=>new Ge({options:t,typeName:P.ZodUnion,...F(e)});var Yt=t=>t instanceof Xe?Yt(t.schema):t instanceof se?Yt(t.innerType()):t instanceof Qe?[t.value]:t instanceof et?t.options:t instanceof tt?Object.keys(t.enum):t instanceof rt?Yt(t._def.innerType):t instanceof Ze?[void 0]:t instanceof Ke?[null]:null,Gt=class t extends B{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==S.object)return T(r,{code:m.invalid_type,expected:S.object,received:r.parsedType}),j;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(T(r,{code:m.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),j)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let s of r){let o=Yt(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new t({typeName:P.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...F(n)})}};function Pr(t,e){let r=$e(t),n=$e(e);if(t===e)return{valid:!0,data:t};if(r===S.object&&n===S.object){let i=V.objectKeys(e),s=V.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(let a of s){let u=Pr(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(r===S.array&&n===S.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let s=0;s<t.length;s++){let o=t[s],a=e[s],u=Pr(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===S.date&&n===S.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Je=class extends B{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(Mr(s)||Mr(o))return j;let a=Pr(s.value,o.value);return a.valid?((Nr(s)||Nr(o))&&r.dirty(),{status:r.value,value:a.data}):(T(n,{code:m.invalid_intersection_types}),j)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Je.create=(t,e,r)=>new Je({left:t,right:e,typeName:P.ZodIntersection,...F(r)});var Se=class t extends B{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==S.array)return T(n,{code:m.invalid_type,expected:S.array,received:n.parsedType}),j;if(n.data.length<this._def.items.length)return T(n,{code:m.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),j;!this._def.rest&&n.data.length>this._def.items.length&&(T(n,{code:m.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((o,a)=>{let u=this._def.items[a]||this._def.rest;return u?u._parse(new le(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>X.mergeArray(r,o)):X.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Se.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Se({items:t,typeName:P.ZodTuple,rest:null,...F(e)})};var Jt=class t extends B{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==S.object)return T(n,{code:m.invalid_type,expected:S.object,received:n.parsedType}),j;let i=[],s=this._def.keyType,o=this._def.valueType;for(let a in n.data)i.push({key:s._parse(new le(n,a,n.path,a)),value:o._parse(new le(n,n.data[a],n.path,a))});return n.common.async?X.mergeObjectAsync(r,i):X.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof B?new t({keyType:e,valueType:r,typeName:P.ZodRecord,...F(n)}):new t({keyType:Fe.create(),valueType:e,typeName:P.ZodRecord,...F(r)})}},yt=class extends B{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==S.map)return T(n,{code:m.invalid_type,expected:S.map,received:n.parsedType}),j;let i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,u],l)=>({key:i._parse(new le(n,a,n.path,[l,"key"])),value:s._parse(new le(n,u,n.path,[l,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let u of o){let l=await u.key,d=await u.value;if(l.status==="aborted"||d.status==="aborted")return j;(l.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(l.value,d.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let u of o){let l=u.key,d=u.value;if(l.status==="aborted"||d.status==="aborted")return j;(l.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(l.value,d.value)}return{status:r.value,value:a}}}};yt.create=(t,e,r)=>new yt({valueType:e,keyType:t,typeName:P.ZodMap,...F(r)});var vt=class t extends B{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==S.set)return T(n,{code:m.invalid_type,expected:S.set,received:n.parsedType}),j;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(T(n,{code:m.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(T(n,{code:m.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function o(u){let l=new Set;for(let d of u){if(d.status==="aborted")return j;d.status==="dirty"&&r.dirty(),l.add(d.value)}return{status:r.value,value:l}}let a=[...n.data.values()].map((u,l)=>s._parse(new le(n,u,n.path,l)));return n.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:R.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:R.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};vt.create=(t,e)=>new vt({valueType:t,minSize:null,maxSize:null,typeName:P.ZodSet,...F(e)});var Xt=class t extends B{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==S.function)return T(r,{code:m.invalid_type,expected:S.function,received:r.parsedType}),j;function n(a,u){return Zt({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,qt(),Ct].filter(l=>!!l),issueData:{code:m.invalid_arguments,argumentsError:u}})}function i(a,u){return Zt({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,qt(),Ct].filter(l=>!!l),issueData:{code:m.invalid_return_type,returnTypeError:u}})}let s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Ue){let a=this;return ee(async function(...u){let l=new ie([]),d=await a._def.args.parseAsync(u,s).catch(f=>{throw l.addIssue(n(u,f)),l}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,s).catch(f=>{throw l.addIssue(i(h,f)),l})})}else{let a=this;return ee(function(...u){let l=a._def.args.safeParse(u,s);if(!l.success)throw new ie([n(u,l.error)]);let d=Reflect.apply(o,this,l.data),h=a._def.returns.safeParse(d,s);if(!h.success)throw new ie([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Se.create(e).rest(Ie.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||Se.create([]).rest(Ie.create()),returns:r||Ie.create(),typeName:P.ZodFunction,...F(n)})}},Xe=class extends B{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Xe.create=(t,e)=>new Xe({getter:t,typeName:P.ZodLazy,...F(e)});var Qe=class extends B{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return T(r,{received:r.data,code:m.invalid_literal,expected:this._def.value}),j}return{status:"valid",value:e.data}}get value(){return this._def.value}};Qe.create=(t,e)=>new Qe({value:t,typeName:P.ZodLiteral,...F(e)});function fi(t,e){return new et({values:t,typeName:P.ZodEnum,...F(e)})}var et=class t extends B{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return T(r,{expected:V.joinValues(n),received:r.parsedType,code:m.invalid_type}),j}if(this._def.values.indexOf(e.data)===-1){let r=this._getOrReturnCtx(e),n=this._def.values;return T(r,{received:r.data,code:m.invalid_enum_value,options:n}),j}return ee(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e){return t.create(e)}exclude(e){return t.create(this.options.filter(r=>!e.includes(r)))}};et.create=fi;var tt=class extends B{_parse(e){let r=V.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==S.string&&n.parsedType!==S.number){let i=V.objectValues(r);return T(n,{expected:V.joinValues(i),received:n.parsedType,code:m.invalid_type}),j}if(r.indexOf(e.data)===-1){let i=V.objectValues(r);return T(n,{received:n.data,code:m.invalid_enum_value,options:i}),j}return ee(e.data)}get enum(){return this._def.values}};tt.create=(t,e)=>new tt({values:t,typeName:P.ZodNativeEnum,...F(e)});var Ue=class extends B{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==S.promise&&r.common.async===!1)return T(r,{code:m.invalid_type,expected:S.promise,received:r.parsedType}),j;let n=r.parsedType===S.promise?r.data:Promise.resolve(r.data);return ee(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Ue.create=(t,e)=>new Ue({type:t,typeName:P.ZodPromise,...F(e)});var se=class extends B{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===P.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{T(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){let o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){let o=a=>{let u=i.refinement(a,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?j:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?j:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Dt(o))return o;let a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Dt(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);V.assertNever(i)}};se.create=(t,e,r)=>new se({schema:t,typeName:P.ZodEffects,effect:e,...F(r)});se.createWithPreprocess=(t,e,r)=>new se({schema:e,effect:{type:"preprocess",transform:t},typeName:P.ZodEffects,...F(r)});var ge=class extends B{_parse(e){return this._getType(e)===S.undefined?ee(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ge.create=(t,e)=>new ge({innerType:t,typeName:P.ZodOptional,...F(e)});var ke=class extends B{_parse(e){return this._getType(e)===S.null?ee(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ke.create=(t,e)=>new ke({innerType:t,typeName:P.ZodNullable,...F(e)});var rt=class extends B{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===S.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};rt.create=(t,e)=>new rt({innerType:t,typeName:P.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...F(e)});var bt=class extends B{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Kt(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ie(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ie(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};bt.create=(t,e)=>new bt({innerType:t,typeName:P.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...F(e)});var _t=class extends B{_parse(e){if(this._getType(e)!==S.nan){let n=this._getOrReturnCtx(e);return T(n,{code:m.invalid_type,expected:S.nan,received:n.parsedType}),j}return{status:"valid",value:e.data}}};_t.create=t=>new _t({typeName:P.ZodNaN,...F(t)});var la=Symbol("zod_brand"),Qt=class extends B{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Rt=class t extends B{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?j:s.status==="dirty"?(r.dirty(),di(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?j:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:P.ZodPipeline})}},wt=class extends B{_parse(e){let r=this._def.innerType._parse(e);return Dt(r)&&(r.value=Object.freeze(r.value)),r}};wt.create=(t,e)=>new wt({innerType:t,typeName:P.ZodReadonly,...F(e)});var pi=(t,e={},r)=>t?Be.create().superRefine((n,i)=>{var s,o;if(!t(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:u})}}):Be.create(),da={object:re.lazycreate},P;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(P||(P={}));var fa=(t,e={message:`Input not instance of ${t.name}`})=>pi(r=>r instanceof t,e),hi=Fe.create,mi=He.create,pa=_t.create,ha=We.create,gi=Ye.create,ma=qe.create,ga=mt.create,ya=Ze.create,va=Ke.create,ba=Be.create,_a=Ie.create,wa=ye.create,Ea=gt.create,Sa=Ae.create,Ta=re.create,xa=re.strictCreate,Ia=Ge.create,Aa=Gt.create,ka=Je.create,Oa=Se.create,Ca=Jt.create,Da=yt.create,Ra=vt.create,Ma=Xt.create,Na=Xe.create,Pa=Qe.create,La=et.create,ja=tt.create,$a=Ue.create,ui=se.create,Fa=ge.create,Ba=ke.create,Ua=se.createWithPreprocess,za=Rt.create,Va=()=>hi().optional(),Ha=()=>mi().optional(),Wa=()=>gi().optional(),Ya={string:t=>Fe.create({...t,coerce:!0}),number:t=>He.create({...t,coerce:!0}),boolean:t=>Ye.create({...t,coerce:!0}),bigint:t=>We.create({...t,coerce:!0}),date:t=>qe.create({...t,coerce:!0})},qa=j,c=Object.freeze({__proto__:null,defaultErrorMap:Ct,setErrorMap:Jo,getErrorMap:qt,makeIssue:Zt,EMPTY_PATH:Xo,addIssueToContext:T,ParseStatus:X,INVALID:j,DIRTY:di,OK:ee,isAborted:Mr,isDirty:Nr,isValid:Dt,isAsync:Kt,get util(){return V},get objectUtil(){return Rr},ZodParsedType:S,getParsedType:$e,ZodType:B,ZodString:Fe,ZodNumber:He,ZodBigInt:We,ZodBoolean:Ye,ZodDate:qe,ZodSymbol:mt,ZodUndefined:Ze,ZodNull:Ke,ZodAny:Be,ZodUnknown:Ie,ZodNever:ye,ZodVoid:gt,ZodArray:Ae,ZodObject:re,ZodUnion:Ge,ZodDiscriminatedUnion:Gt,ZodIntersection:Je,ZodTuple:Se,ZodRecord:Jt,ZodMap:yt,ZodSet:vt,ZodFunction:Xt,ZodLazy:Xe,ZodLiteral:Qe,ZodEnum:et,ZodNativeEnum:tt,ZodPromise:Ue,ZodEffects:se,ZodTransformer:se,ZodOptional:ge,ZodNullable:ke,ZodDefault:rt,ZodCatch:bt,ZodNaN:_t,BRAND:la,ZodBranded:Qt,ZodPipeline:Rt,ZodReadonly:wt,custom:pi,Schema:B,ZodSchema:B,late:da,get ZodFirstPartyTypeKind(){return P},coerce:Ya,any:ba,array:Sa,bigint:ha,boolean:gi,date:ma,discriminatedUnion:Aa,effect:ui,enum:La,function:Ma,instanceof:fa,intersection:ka,lazy:Na,literal:Pa,map:Da,nan:pa,nativeEnum:ja,never:wa,null:va,nullable:Ba,number:mi,object:Ta,oboolean:Wa,onumber:Ha,optional:Fa,ostring:Va,pipeline:za,preprocess:Ua,promise:$a,record:Ca,set:Ra,strictObject:xa,string:hi,symbol:ga,transformer:ui,tuple:Oa,undefined:ya,union:Ia,unknown:_a,void:Ea,NEVER:qa,ZodIssueCode:m,quotelessJson:Go,ZodError:ie});var Za=c.object({authToken:c.undefined().nullish()}).or(c.object({authToken:c.string().min(1)}).and(c.object({authType:c.literal("user"),userId:c.string().min(1),instructorId:c.string().min(1).nullish(),referrerId:c.string().min(1).nullish()}).or(c.object({authType:c.literal("admin"),adminId:c.string().min(1)})).or(c.object({authType:c.literal("service")})).or(c.object({authType:c.literal("fermion-user"),fermionUserId:c.string().min(1)})).or(c.object({authType:c.literal("fermion-instructor"),fermionInstructorId:c.string().min(1)})))),Ka=c.object({context:c.object({namespace:c.string().min(1),functionName:c.string().min(1),batchingUniqueKey:c.string().min(1).nullish(),organizationId:c.string().min(1).nullish(),fermionSchoolId:c.string().min(1).nullish(),headers:c.record(c.string(),c.string().nullish()).nullish()}).and(Za).nullish(),data:c.object({})}),Ga=c.object({status:c.literal("ok"),data:c.object({})}),Ja=c.object({status:c.literal("error"),errorMessage:c.string()}),yi=Ga.or(Ja),Od=c.object({inputSchema:c.object({}),outputSchema:c.object({}),rateLimitMax:c.number(),rateLimitWindow:c.string(),allowedDeploymentAreas:c.array(c.enum(["staging","development","production","testing"])),invokeMode:c.enum(["request-response"])}),Xa=c.function().args(Ka).returns(c.promise(yi).or(yi)),Cd=c.object({handler:Xa}),Dd=c.object({organizationId:c.string().nullish(),fermionSchoolId:c.string().nullish(),authToken:c.string().nullish(),data:c.array(c.object({context:c.object({namespace:c.string().min(1),functionName:c.string().min(1),batchingUniqueKey:c.string().min(1).nullish()}),data:c.object({}).passthrough()}))});function vi(t){let e=t;return e?.message&&typeof e.message=="string"?{isRegularError:!0,errorMessage:e.message}:{isRegularError:!1,errorMessage:"Something went wrong! Please try again or contact support@codedamn.com!"}}var oe=te(_i());var wi=t=>{if(typeof t=="object"&&t!==null){if(typeof Object.getPrototypeOf=="function"){let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}return Object.prototype.toString.call(t)==="[object Object]"}return!1},ae=(...t)=>t.reduce((e,r)=>{if(Array.isArray(r))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(r).forEach(n=>{["__proto__","constructor","prototype"].includes(n)||(Array.isArray(e[n])&&Array.isArray(r[n])?e[n]=ae.options.mergeArrays?ae.options.uniqueArrayItems?Array.from(new Set(e[n].concat(r[n]))):[...e[n],...r[n]]:r[n]:wi(e[n])&&wi(r[n])?e[n]=ae(e[n],r[n]):e[n]=r[n]===void 0?ae.options.allowUndefinedOverrides?r[n]:e[n]:r[n])}),e},{}),Lr={allowUndefinedOverrides:!0,mergeArrays:!0,uniqueArrayItems:!0};ae.options=Lr;ae.withOptions=(t,...e)=>{ae.options=Object.assign(Object.assign({},Lr),t);let r=ae(...e);return ae.options=Lr,r};function Ei(t,e){let r=new globalThis.AbortController;function n(a){r.abort(a),s()}let i=[];for(let a of t){if(a?.aborted===!0){n(a.reason);break}if(a?.addEventListener!=null){let u=()=>{n(a.reason)};i.push(()=>{a?.removeEventListener!=null&&a.removeEventListener("abort",u)}),a.addEventListener("abort",u)}}function s(){i.forEach(a=>{a()}),e?.()}let o=r.signal;return o.clear=s,o}var jr;function nr(t,e=!0,r=null){if(t===jr||t===null)return"";let n=[],i=e?encodeURIComponent:s=>s;for(let s in t)if(Object.prototype.hasOwnProperty.call(t,s)){let o=t[s];if(o!==jr){let a=r?`${r}[${i(s)}]`:i(s);if(typeof o=="object"){let u=nr(o,e,a);u!==""&&n.push(u)}else Array.isArray(o)?o.forEach((u,l)=>{let d=`${a}[${l}]`;n.push(`${i(d)}=${i(u)}`)}):n.push(`${i(a)}=${i(o)}`)}}return n.join("&")}function tr(t){return Array.isArray(t)?t.map(tr):(t&&typeof t=="object"&&Object.keys(t).forEach(e=>{let r=t[e];if(r!==jr)return tr(r);delete t[e]}),t)}function Si(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ti(t,e){return e?(t.endsWith("/")?t:t+"/")+(e[0]==="/"?e.slice(1):e):t}var Mt=class extends Error{constructor(e,r,n){super(e),this.name="XiorError",this.request=r,this.config=r,this.response=n}},rr=class extends Mt{constructor(e,r,n){super(e),this.name="XiorTimeoutError",this.request=r,this.config=r,this.response=n}};function xi(t,e,r,n,i,s,o){try{var a=t[s](o),u=a.value}catch(l){r(l);return}a.done?e(u):Promise.resolve(u).then(n,i)}function Oi(){return(Oi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var Ci="application/",Ii=`${Ci}x-www-form-urlencoded`,Ai=`${Ci}json`;function Di(){var t;return t=function*(e){let r=e.paramsSerializer||nr,n=e.encodeURI!==!1,i=e.method?e.method.toUpperCase():"GET",s=e.url||"",o=s,a=e.data,u=a,l=e?.headers||{},d=e.params||{},h=function(E="GET"){return["HEAD","GET","OPTIONS"].includes(E)}(i);if(a&&!(a instanceof FormData)){let E="";if(e?.headers){let f=Object.keys(e.headers).find(g=>g.toLowerCase()==="content-type");f&&(E=e.headers[f],e.headers["Content-Type"]=E,f!=="Content-Type"&&delete e.headers[f])}E||(E=h?Ii:Ai,l["Content-Type"]=E),h&&e.params&&(d=ae({},a||{},d)),E===Ai?u=JSON.stringify(tr(a)):!h&&E===Ii&&a&&typeof a=="object"&&(u=r(a))}if(Object.keys(d).length>0){let E=r(d,n);s+=s.includes("?")?`&${E}`:`?${E}`}return Oi({},e,{_data:u,_url:s,data:a,url:o,method:i,headers:l,isGet:h})},(Di=function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(u){xi(s,n,i,o,a,"next",u)}function a(u){xi(s,n,i,o,a,"throw",u)}o(void 0)})}).apply(this,arguments)}function ki(t,e,r,n,i,s,o){try{var a=t[s](o),u=a.value}catch(l){r(l);return}a.done?e(u):Promise.resolve(u).then(n,i)}function ir(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(u){ki(s,n,i,o,a,"next",u)}function a(u){ki(s,n,i,o,a,"throw",u)}o(void 0)})}}function sr(){return(sr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var $r,ic=typeof AbortController!=`${$r}`;function Ri(){return(Ri=ir(function*(t,e){let r;if(!e||!t.ok||["text","json"].includes(e)){if((r=yield t.text())&&e!=="text")try{r=JSON.parse(r)}catch{}}else{if(e==="blob")return t.blob();if(e==="arraybuffer")return t.arrayBuffer()}return r})).apply(this,arguments)}var xt=class t{static create(e){return new t(e)}get interceptors(){return{request:{use:(e,r,n)=>(this.REQI.push(e),e),eject:e=>{this.REQI=this.REQI.filter(r=>r!==e)},clear:()=>{this.REQI=[]}},response:{use:(e,r)=>(this.RESI.push({fn:e,onRejected:r}),e),eject:e=>{this.RESI=this.RESI.filter(r=>r.fn!==e)},clear:()=>{this.RESI=[]}}}}get plugins(){return{use:e=>(this.P.push(e),e),eject:e=>{this.P=this.P.filter(r=>r!==e)},clear:()=>{this.P=[]}}}request(e){var r=this;return ir(function*(){let n=ae({},r.config||{},r.defaults||{},typeof e=="string"?{url:e}:e||{},{headers:{},params:{}});for(let s of(n.withCredentials&&!n.credentials&&(n.credentials="include"),n.paramsSerializer||(n.paramsSerializer=nr),r.REQI))n=yield s(n);let i=r.fetch.bind(r);return r.P.forEach(s=>{i=s(i,r)}),i(n)})()}fetch(e){var r=this;return ir(function*(){let n,i=yield function(p){return Di.apply(this,arguments)}(e),{url:s,method:o,headers:a,timeout:u,signal:l,data:d,_data:h,_url:E,isGet:f}=i,g=function(p,C){if(p==null)return{};var A,w,$={},H=Object.keys(p);for(w=0;w<H.length;w++)C.indexOf(A=H[w])>=0||($[A]=p[A]);return $}(i,["url","method","headers","timeout","signal","data","_data","_url","isGet"]);e._url=E;let x=[],k=$r;if(u&&ic){let p=new AbortController;k=setTimeout(()=>{p.abort(new rr(`timeout of ${u}ms exceeded`,e))},u),x.push(p.signal)}l&&x.push(l),n=x[0],x.length>1&&(n=Ei(x,()=>{clearTimeout(k)}));let M=E||s||"";e.baseURL&&!Si(M)&&(M=Ti(e.baseURL,M));let U=0,I=fetch(M,sr({body:f?$r:h},g,{signal:n,method:o,headers:a})).then(ir(function*(p){let{responseType:C}=e,A={data:yield function(w,$){return Ri.apply(this,arguments)}(p,C),response:p,config:e,request:e,status:p.status,statusText:p.statusText,headers:p.headers};return p.ok?A:Promise.reject(new Mt(p.status?`Request failed with status code ${p.status}`:"Network error",e,A))})).finally(()=>{var p;k&&clearTimeout(k),n==null||(p=n.clear)==null||p.call(n)}),v=[];for(r.RESI.forEach(function(p){v.push(p.fn,p.onRejected)});v.length>U;)I=I.then(v[U++],v[U++]);return I})()}cG(e){return(r,n)=>this.request(n?sr({},n,{method:e,url:r}):{method:e,url:r})}cP(e){return(r,n,i)=>this.request(i?sr({},i,{method:e,url:r,data:n}):{method:e,url:r,data:n})}get(e,r){return this.cG("GET")(e,r)}head(e,r){return this.cG("HEAD")(e,r)}post(e,r,n){return this.cP("POST")(e,r,n)}put(e,r,n){return this.cP("PUT")(e,r,n)}patch(e,r,n){return this.cP("PATCH")(e,r,n)}delete(e,r){return this.cG("DELETE")(e,r)}options(e,r){return this.cG("OPTIONS")(e,r)}constructor(e){this.REQI=[],this.RESI=[],this.P=[],this.config=e,this.defaults={params:{},headers:{}}}};xt.VERSION="0.5.1";var or=Object.assign(xt.create(),{create:xt.create,VERSION:xt.VERSION});var Zi=te(Bi());var Tc=te(Vi());var pe=c.string().trim().min(1),Hi=c.object({RECAPTCHA2_SITE_KEY:pe,RECAPTCHA3_SITE_KEY:pe,RAZORPAY_KEY:pe,STRIPE_PUBLIC_KEY:pe,FERMION_FIREBASE_API_KEY:pe,FERMION_FIREBASE_AUTH_DOMAIN:pe,FERMION_FIREBASE_PROJECT_ID:pe,FERMION_FIREBASE_STORAGE_BUCKET:pe,FERMION_FIREBASE_MESSAGING_SENDER_ID:pe,FERMION_FIREBASE_APP_ID:pe,FERMION_FIREBASE_MEASUREMENT_ID:pe,FERMION_FIREBASE_MESSAGING_VAPID_KEY:pe}).and(c.object({DEPLOYMENT_AREA:c.literal("development"),__INTERNAL_FRONTEND_BACKEND_SHARED_SECRET_FOR_DEVELOPMENT_MODE:c.string()}).or(c.object({DEPLOYMENT_AREA:c.literal("preview")})).or(c.object({DEPLOYMENT_AREA:c.literal("production")})));var Hr={RECAPTCHA2_SITE_KEY:"6LcYZ8gjAAAAANg_k25uJR3XvYhvuym5W20K5e9G",RECAPTCHA3_SITE_KEY:"6LcmOMIjAAAAANzPKjz-ebpXzoiQ_smI8RuFxuFl",RAZORPAY_KEY:"rzp_live_YGOsCmEvfqNBO7",STRIPE_PUBLIC_KEY:"pk_live_43WsfZ5div9cTesytLff1Oul00VsDJBjlL",FERMION_FIREBASE_API_KEY:"AIzaSyAu3Wj4sytYTjefidYXhF8zU_3q6tZnAHU",FERMION_FIREBASE_AUTH_DOMAIN:"codedamn-production.firebaseapp.com",FERMION_FIREBASE_PROJECT_ID:"codedamn-production",FERMION_FIREBASE_STORAGE_BUCKET:"codedamn-production.appspot.com",FERMION_FIREBASE_MESSAGING_SENDER_ID:"1053607870191",FERMION_FIREBASE_APP_ID:"1:1053607870191:web:00ba637d6e71470cffe51a",FERMION_FIREBASE_MEASUREMENT_ID:"G-YSWXQ08CF9",FERMION_FIREBASE_MESSAGING_VAPID_KEY:"BHsILSAuAAUzXvGrFfg_FFJPmX7yNkgu4e6Ii8KOjb96Jq6wmAPUiPvDrP4YjnKcukmotV6t4S5OGol4n7mNIOw",DEPLOYMENT_AREA:"production"};var Sc={development:!0,preview:!0,production:!0},Jd=Object.keys(Sc),Yr={};function jt(t){let e=r=>Object.fromEntries(Object.entries(r).filter(([,n])=>!!n));Yr={...e(Yr),...e(t)}}var Yi=typeof process>"u"?{}:process.env;jt(Yi);var Wr={RECAPTCHA2_SITE_KEY:"6LcYZ8gjAAAAANg_k25uJR3XvYhvuym5W20K5e9G",RECAPTCHA3_SITE_KEY:"6LcmOMIjAAAAANzPKjz-ebpXzoiQ_smI8RuFxuFl"},Wi={RAZORPAY_KEY:"rzp_test_5zvcgizqQ4Yjwk",STRIPE_PUBLIC_KEY:"pk_test_c4pvzghil8rxkmjein3K8Fp300hgaYvVss",FERMION_FIREBASE_API_KEY:"AIzaSyARwxUxAF0faDQ0HqYSojZGE9jRVzd6L5Q",FERMION_FIREBASE_AUTH_DOMAIN:"codedamn-staging.firebaseapp.com",FERMION_FIREBASE_PROJECT_ID:"codedamn-staging",FERMION_FIREBASE_STORAGE_BUCKET:"codedamn-staging.appspot.com",FERMION_FIREBASE_MESSAGING_SENDER_ID:"838456093858",FERMION_FIREBASE_APP_ID:"1:838456093858:web:351a17f00701bb35ab3bfb",FERMION_FIREBASE_MEASUREMENT_ID:"G-EZ6Y845BPD",FERMION_FIREBASE_MESSAGING_VAPID_KEY:"BDhLJ9_FCC5vJXyIjYrdt8IXCBuNmYERdbUo4cFUZevEWPgzWGd6y2KAf3tr0RCKDhYn_YMTNEiJSHTmKzNXSa8"},At=Hr.DEPLOYMENT_AREA||Yi.DEPLOYMENT_AREA;if(At==="development"){let t={...Wr,...Wi,DEPLOYMENT_AREA:At,__INTERNAL_FRONTEND_BACKEND_SHARED_SECRET_FOR_DEVELOPMENT_MODE:"1234567890"};jt(t)}else if(At==="preview"){let t={...Wr,...Wi,DEPLOYMENT_AREA:At};jt(t)}else if(At==="production"){let t={...Wr,DEPLOYMENT_AREA:At,RAZORPAY_KEY:"rzp_live_YGOsCmEvfqNBO7",STRIPE_PUBLIC_KEY:"pk_live_43WsfZ5div9cTesytLff1Oul00VsDJBjlL",FERMION_FIREBASE_API_KEY:"AIzaSyAu3Wj4sytYTjefidYXhF8zU_3q6tZnAHU",FERMION_FIREBASE_AUTH_DOMAIN:"codedamn-production.firebaseapp.com",FERMION_FIREBASE_PROJECT_ID:"codedamn-production",FERMION_FIREBASE_STORAGE_BUCKET:"codedamn-production.appspot.com",FERMION_FIREBASE_MESSAGING_SENDER_ID:"1053607870191",FERMION_FIREBASE_APP_ID:"1:1053607870191:web:00ba637d6e71470cffe51a",FERMION_FIREBASE_MEASUREMENT_ID:"G-YSWXQ08CF9",FERMION_FIREBASE_MESSAGING_VAPID_KEY:"BHsILSAuAAUzXvGrFfg_FFJPmX7yNkgu4e6Ii8KOjb96Jq6wmAPUiPvDrP4YjnKcukmotV6t4S5OGol4n7mNIOw"};jt(t)}else throw new Error("Invalid DEPLOYMENT_AREA in public-env package");jt(Hr);var ne=Hi.parse(Yr);var xc=typeof window>"u",Ki=typeof window<"u",st=ne.DEPLOYMENT_AREA==="development",Gi=ne.DEPLOYMENT_AREA==="preview",Ji=ne.DEPLOYMENT_AREA==="production";var qi="__auth__token";var lr="__fermion_install_prompt_dismissed_at",dr="__fermion_notification_prompt_dismissed_at";function fr(t){throw new Error(`ERROR! Reached forbidden guard function with unexpected value: ${JSON.stringify(t)}`)}function $t(t){let e;if(xc)t==null?e=null:"previewData"in t?t.previewData!=null&&typeof t.previewData=="object"&&"token"in t.previewData?e=String(t.previewData.token):(console.warn("Found preview mode but could not find auth token. Very unlikely. Check for bugs"),e=null):"req"in t?e=(0,Zi.parseCookies)(t).AUTH_TOKEN:e=null;else if(Ki)try{e=JSON.parse(localStorage.getItem(qi))}catch{e=localStorage.getItem(qi)??null}else e=null;return e}async function Ft(t){let e=(0,oe.default)(t);return new Promise(function(r){setTimeout(r,e)})}async function Bt(t,e){let r=await Promise.race([t,new Promise(n=>{setTimeout(()=>n("result-timed-out-do-not-continue"),e)})]);if(r==="result-timed-out-do-not-continue")throw new Error(`Promise result timed out in ${e}ms`);return r}var rf=c.object({shouldPerformSmartCheckoutRedirect:c.boolean(),fermionUserAuthToken:c.string().or(c.null()),discountCode:c.string().nullish(),forceCountry:c.string().nullish(),prefilledName:c.string().nullish(),prefilledEmail:c.string().nullish(),prefilledPhoneNumber:c.string().nullish(),purchaseType:c.literal("fermion-digital-product"),fermionDigitalProductPriceId:c.string().nullish(),totalInstallmentsCountForEmiPlan:c.number().nullish(),productSlug:c.string()});var qr=null;function Xi(t){qr=t}function Kr(){if(!qr)throw new Error("getStoredBackendApiUrl called before storeBackendApiUrl!");return qr}function Qi(t){let e=t;return e?.errorMessage&&typeof e.errorMessage=="string"?{errorMessage:e.errorMessage,isNetworkError:e.isNetworkError==null?!0:e.isNetworkError}:{errorMessage:vi(t).errorMessage,isNetworkError:!0}}var Ic=t=>{let e,r,n=!1,i=new Promise((s,o)=>{e=a=>{n||(n=!0,console.debug("resolving",t),s(a))},r=a=>{n||(n=!0,console.debug("rejecting",t),o(a))}});return{batchingUniqueKey:t,resolve:e,reject:r,isSettled:n,data:i}},Zr=class{constructor({maxBatchSize:e,window:r,requestTimeout:n}){this.flushTimeout=null;this.requestKeyToRequestMap=new Map;this.maxBatchSize=e,this.window=r,this.requestTimeout=n}clearFlushTimeout(){this.flushTimeout&&(clearTimeout(this.flushTimeout),this.flushTimeout=null)}async flush(){let e=new Map(this.requestKeyToRequestMap.entries());this.requestKeyToRequestMap.clear();let r=Array.from(e.values()).map(i=>({...i.data,context:{...i.data.context,batchingUniqueKey:i.batchingUniqueKey}})),n=setTimeout(()=>{for(let i of e.values())i.deferredPromise.reject({errorMessage:"Request timed out. Please try again or contact support@codedamn.com",isNetworkError:!0});clearTimeout(n)},(0,oe.default)(this.requestTimeout));try{let i=Kr(),s=await or.request({method:"POST",baseURL:i,url:"",data:{organizationId:Array.from(e.values()).at(-1)?.organizationId,fermionSchoolId:Array.from(e.values()).at(-1)?.fermionSchoolId,authToken:Array.from(e.values()).at(-1)?.authToken,data:r}}).then(o=>o.data);for(let o of s){let a=e.get(o.batchingUniqueKey||"");a?(o.output.status==="ok"?a.deferredPromise.resolve(o.output.data):a.deferredPromise.reject({...o.output,isNetworkError:!1}),e.delete(a.batchingUniqueKey)):console.error("Unable to find request for response",o,e)}}catch(i){console.debug(i);for(let s of e.values())s.deferredPromise.reject({errorMessage:i?.message||"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!0})}}async fetch({batchingUniqueKey:e,organizationId:r,fermionSchoolId:n,authToken:i,data:s}){this.clearFlushTimeout();let o=Ic(e);return this.requestKeyToRequestMap.set(e,{batchingUniqueKey:e,organizationId:r,fermionSchoolId:n,authToken:i,data:s,deferredPromise:o}),this.requestKeyToRequestMap.size>this.maxBatchSize?await this.flush():this.flushTimeout=setTimeout(()=>{this.flush().finally(()=>this.clearFlushTimeout())},(0,oe.default)(this.window)),await o.data}},es=new Zr({window:"100ms",maxBatchSize:10,requestTimeout:Ji?"30s":"60s"}),Ac=0;function ts(t){return`${Ac++}${ai("abcdefghijklmnopqrstuvwxyz",10)()}`}var rs=()=>{let t="https://backend.codedamn.com/api";return st?t="https://backend.codedamn.com/api":Gi&&(t="https://sewmbmeikempixmt6xsaaxyypq0itjcs.lambda-url.us-east-1.on.aws/"),t};var is=function(t){let e=[],r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},kc=function(t){let e=[],r=0,n=0;for(;r<t.length;){let i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[r++],o=t[r++],a=t[r++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{let s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ss={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4,E=(a&15)<<2|l>>6,f=l&63;u||(f=64,o||(E=64)),n.push(r[d],r[h],r[E],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(is(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kc(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){let s=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;let l=i<t.length?r[t.charAt(i)]:64;++i;let h=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new Gr;let E=s<<2|a>>4;if(n.push(E),l!==64){let f=a<<4&240|l>>2;if(n.push(f),h!==64){let g=l<<6&192|h;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Gr=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Oc=function(t){let e=is(t);return ss.encodeByteArray(e,!0)},Jr=function(t){return Oc(t).replace(/\./g,"")},Cc=function(t){try{return ss.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Dc(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Rc=()=>Dc().__FIREBASE_DEFAULTS__,Mc=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Nc=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Cc(t[1]);return e&&JSON.parse(e)},Pc=()=>{try{return Rc()||Mc()||Nc()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}};var Xr=()=>{var t;return(t=Pc())===null||t===void 0?void 0:t.config};var pr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}};function hr(){try{return typeof indexedDB=="object"}catch{return!1}}function mr(){return new Promise((t,e)=>{try{let r=!0,n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function os(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var Lc="FirebaseError",Ce=class t extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Lc,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}},De=class{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){let n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?jc(s,n):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ce(i,a,n)}};function jc(t,e){return t.replace($c,(r,n)=>{let i=e[n];return i!=null?String(i):`<${n}?>`})}var $c=/\{\$([^}]+)}/g;function gr(t,e){if(t===e)return!0;let r=Object.keys(t),n=Object.keys(e);for(let i of r){if(!n.includes(i))return!1;let s=t[i],o=e[i];if(ns(s)&&ns(o)){if(!gr(s,o))return!1}else if(s!==o)return!1}for(let i of n)if(!r.includes(i))return!1;return!0}function ns(t){return t!==null&&typeof t=="object"}var pf=4*60*60*1e3;function yr(t){return t&&t._delegate?t._delegate:t}var ce=class{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ot="[DEFAULT]";var Qr=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){let n=new pr;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;let n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bc(e))try{this.getOrInitializeService({instanceIdentifier:ot})}catch{}for(let[r,n]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(r);try{let s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=ot){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ot){return this.instances.has(e)}getOptions(e=ot){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);n===a&&o.resolve(i)}return i}onInit(e,r){var n;let i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){let n=this.onInitCallbacks.get(r);if(n)for(let i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Fc(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ot){return this.component?this.component.multipleInstances?e:ot:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Fc(t){return t===ot?void 0:t}function Bc(t){return t.instantiationMode==="EAGER"}var vr=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let r=new Qr(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}};var Uc=[],q;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(q||(q={}));var zc={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},Vc=q.INFO,Hc={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},Wc=(t,e,...r)=>{if(e<t.logLevel)return;let n=new Date().toISOString(),i=Hc[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},br=class{constructor(e){this.name=e,this._logLevel=Vc,this._logHandler=Wc,this._userLogHandler=null,Uc.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...e),this._logHandler(this,q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...e),this._logHandler(this,q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,q.INFO,...e),this._logHandler(this,q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,q.WARN,...e),this._logHandler(this,q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...e),this._logHandler(this,q.ERROR,...e)}};var Yc=(t,e)=>e.some(r=>t instanceof r),as,cs;function qc(){return as||(as=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zc(){return cs||(cs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var us=new WeakMap,tn=new WeakMap,ls=new WeakMap,en=new WeakMap,nn=new WeakMap;function Kc(t){let e=new Promise((r,n)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(be(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&us.set(r,t)}).catch(()=>{}),nn.set(e,t),e}function Gc(t){if(tn.has(t))return;let e=new Promise((r,n)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tn.set(t,e)}var rn={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return tn.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ls.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return be(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ds(t){rn=t(rn)}function Jc(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){let n=t.call(_r(this),e,...r);return ls.set(n,e.sort?e.sort():[e]),be(n)}:Zc().includes(t)?function(...e){return t.apply(_r(this),e),be(us.get(this))}:function(...e){return be(t.apply(_r(this),e))}}function Xc(t){return typeof t=="function"?Jc(t):(t instanceof IDBTransaction&&Gc(t),Yc(t,qc())?new Proxy(t,rn):t)}function be(t){if(t instanceof IDBRequest)return Kc(t);if(en.has(t))return en.get(t);let e=Xc(t);return e!==t&&(en.set(t,e),nn.set(e,t)),e}var _r=t=>nn.get(t);function at(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=be(o);return n&&o.addEventListener("upgradeneeded",u=>{n(be(o.result),u.oldVersion,u.newVersion,be(o.transaction),u)}),r&&o.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function wr(t,{blocked:e}={}){let r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),be(r).then(()=>{})}var Qc=["get","getKey","getAll","getAllKeys","count"],eu=["put","add","delete","clear"],sn=new Map;function fs(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sn.get(e))return sn.get(e);let r=e.replace(/FromIndex$/,""),n=e!==r,i=eu.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Qc.includes(r)))return;let s=async function(o,...a){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return n&&(l=l.index(a.shift())),(await Promise.all([l[r](...a),i&&u.done]))[0]};return sn.set(e,s),s}ds(t=>({...t,get:(e,r,n)=>fs(e,r)||t.get(e,r,n),has:(e,r)=>!!fs(e,r)||t.has(e,r)}));var an=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(tu(r)){let n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}};function tu(t){let e=t.getComponent();return e?.type==="VERSION"}var cn="@firebase/app",ps="0.10.7";var ct=new br("@firebase/app"),ru="@firebase/app-compat",nu="@firebase/analytics-compat",iu="@firebase/analytics",su="@firebase/app-check-compat",ou="@firebase/app-check",au="@firebase/auth",cu="@firebase/auth-compat",uu="@firebase/database",lu="@firebase/database-compat",du="@firebase/functions",fu="@firebase/functions-compat",pu="@firebase/installations",hu="@firebase/installations-compat",mu="@firebase/messaging",gu="@firebase/messaging-compat",yu="@firebase/performance",vu="@firebase/performance-compat",bu="@firebase/remote-config",_u="@firebase/remote-config-compat",wu="@firebase/storage",Eu="@firebase/storage-compat",Su="@firebase/firestore",Tu="@firebase/vertexai-preview",xu="@firebase/firestore-compat",Iu="firebase";var un="[DEFAULT]",Au={[cn]:"fire-core",[ru]:"fire-core-compat",[iu]:"fire-analytics",[nu]:"fire-analytics-compat",[ou]:"fire-app-check",[su]:"fire-app-check-compat",[au]:"fire-auth",[cu]:"fire-auth-compat",[uu]:"fire-rtdb",[lu]:"fire-rtdb-compat",[du]:"fire-fn",[fu]:"fire-fn-compat",[pu]:"fire-iid",[hu]:"fire-iid-compat",[mu]:"fire-fcm",[gu]:"fire-fcm-compat",[yu]:"fire-perf",[vu]:"fire-perf-compat",[bu]:"fire-rc",[_u]:"fire-rc-compat",[wu]:"fire-gcs",[Eu]:"fire-gcs-compat",[Su]:"fire-fst",[xu]:"fire-fst-compat",[Tu]:"fire-vertex","fire-js":"fire-js",[Iu]:"fire-js-all"};var Er=new Map,ku=new Map,ln=new Map;function hs(t,e){try{t.container.addComponent(e)}catch(r){ct.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Re(t){let e=t.name;if(ln.has(e))return ct.debug(`There were multiple attempts to register component ${e}.`),!1;ln.set(e,t);for(let r of Er.values())hs(r,t);for(let r of ku.values())hs(r,t);return!0}function zt(t,e){let r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}var Ou={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ze=new De("app","Firebase",Ou);var dn=class{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ce("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ze.create("app-deleted",{appName:this._name})}};function hn(t,e={}){let r=t;typeof e!="object"&&(e={name:e});let n=Object.assign({name:un,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw ze.create("bad-app-name",{appName:String(i)});if(r||(r=Xr()),!r)throw ze.create("no-options");let s=Er.get(i);if(s){if(gr(r,s.options)&&gr(n,s.config))return s;throw ze.create("duplicate-app",{appName:i})}let o=new vr(i);for(let u of ln.values())o.addComponent(u);let a=new dn(r,n,o);return Er.set(i,a),a}function mn(t=un){let e=Er.get(t);if(!e&&t===un&&Xr())return hn();if(!e)throw ze.create("no-app",{appName:t});return e}function _e(t,e,r){var n;let i=(n=Au[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ct.warn(a.join(" "));return}Re(new ce(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Cu="firebase-heartbeat-database",Du=1,Ut="firebase-heartbeat-store",on=null;function vs(){return on||(on=at(Cu,Du,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ut)}catch(r){console.warn(r)}}}}).catch(t=>{throw ze.create("idb-open",{originalErrorMessage:t.message})})),on}async function Ru(t){try{let r=(await vs()).transaction(Ut),n=await r.objectStore(Ut).get(bs(t));return await r.done,n}catch(e){if(e instanceof Ce)ct.warn(e.message);else{let r=ze.create("idb-get",{originalErrorMessage:e?.message});ct.warn(r.message)}}}async function ms(t,e){try{let n=(await vs()).transaction(Ut,"readwrite");await n.objectStore(Ut).put(e,bs(t)),await n.done}catch(r){if(r instanceof Ce)ct.warn(r.message);else{let n=ze.create("idb-set",{originalErrorMessage:r?.message});ct.warn(n.message)}}}function bs(t){return`${t.name}!${t.options.appId}`}var Mu=1024,Nu=30*24*60*60*1e3,fn=class{constructor(e){this.container=e,this._heartbeatsCache=null;let r=this.container.getProvider("app").getImmediate();this._storage=new pn(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gs();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Nu}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let r=gs(),{heartbeatsToSend:n,unsentEntries:i}=Pu(this._heartbeatsCache.heartbeats),s=Jr(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}};function gs(){return new Date().toISOString().substring(0,10)}function Pu(t,e=Mu){let r=[],n=t.slice();for(let i of t){let s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ys(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),ys(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}var pn=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hr()?mr().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let r=await Ru(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){let i=await this.read();return ms(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){let i=await this.read();return ms(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function ys(t){return Jr(JSON.stringify({version:2,heartbeats:t})).length}function Lu(t){Re(new ce("platform-logger",e=>new an(e),"PRIVATE")),Re(new ce("heartbeat",e=>new fn(e),"PRIVATE")),_e(cn,ps,t),_e(cn,ps,"esm2017"),_e("fire-js","")}Lu("");var Es="@firebase/installations",bn="0.6.8";var Ss=1e4,Ts=`w:${bn}`,xs="FIS_v2",ju="https://firebaseinstallations.googleapis.com/v1",$u=60*60*1e3,Fu="installations",Bu="Installations";var Uu={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},lt=new De(Fu,Bu,Uu);function Is(t){return t instanceof Ce&&t.code.includes("request-failed")}function As({projectId:t}){return`${ju}/projects/${t}/installations`}function ks(t){return{token:t.token,requestStatus:2,expiresIn:Vu(t.expiresIn),creationTime:Date.now()}}async function Os(t,e){let n=(await e.json()).error;return lt.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Cs({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zu(t,{refreshToken:e}){let r=Cs(t);return r.append("Authorization",Hu(e)),r}async function Ds(t){let e=await t();return e.status>=500&&e.status<600?t():e}function Vu(t){return Number(t.replace("s","000"))}function Hu(t){return`${xs} ${t}`}async function Wu({appConfig:t,heartbeatServiceProvider:e},{fid:r}){let n=As(t),i=Cs(t),s=e.getImmediate({optional:!0});if(s){let l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}let o={fid:r,authVersion:xs,appId:t.appId,sdkVersion:Ts},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await Ds(()=>fetch(n,a));if(u.ok){let l=await u.json();return{fid:l.fid||r,registrationStatus:2,refreshToken:l.refreshToken,authToken:ks(l.authToken)}}else throw await Os("Create Installation",u)}function Rs(t){return new Promise(e=>{setTimeout(e,t)})}function Yu(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var qu=/^[cdef][\w-]{21}$/,vn="";function Zu(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let r=Ku(t);return qu.test(r)?r:vn}catch{return vn}}function Ku(t){return Yu(t).substr(0,22)}function Tr(t){return`${t.appName}!${t.appId}`}var Ms=new Map;function Ns(t,e){let r=Tr(t);Ps(r,e),Gu(r,e)}function Ps(t,e){let r=Ms.get(t);if(r)for(let n of r)n(e)}function Gu(t,e){let r=Ju();r&&r.postMessage({key:t,fid:e}),Xu()}var ut=null;function Ju(){return!ut&&"BroadcastChannel"in self&&(ut=new BroadcastChannel("[Firebase] FID Change"),ut.onmessage=t=>{Ps(t.data.key,t.data.fid)}),ut}function Xu(){Ms.size===0&&ut&&(ut.close(),ut=null)}var Qu="firebase-installations-database",el=1,dt="firebase-installations-store",gn=null;function _n(){return gn||(gn=at(Qu,el,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(dt)}}})),gn}async function Sr(t,e){let r=Tr(t),i=(await _n()).transaction(dt,"readwrite"),s=i.objectStore(dt),o=await s.get(r);return await s.put(e,r),await i.done,(!o||o.fid!==e.fid)&&Ns(t,e.fid),e}async function Ls(t){let e=Tr(t),n=(await _n()).transaction(dt,"readwrite");await n.objectStore(dt).delete(e),await n.done}async function xr(t,e){let r=Tr(t),i=(await _n()).transaction(dt,"readwrite"),s=i.objectStore(dt),o=await s.get(r),a=e(o);return a===void 0?await s.delete(r):await s.put(a,r),await i.done,a&&(!o||o.fid!==a.fid)&&Ns(t,a.fid),a}async function wn(t){let e,r=await xr(t.appConfig,n=>{let i=tl(n),s=rl(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===vn?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function tl(t){let e=t||{fid:Zu(),registrationStatus:0};return js(e)}function rl(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(lt.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=nl(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:il(t)}:{installationEntry:e}}async function nl(t,e){try{let r=await Wu(t,e);return Sr(t.appConfig,r)}catch(r){throw Is(r)&&r.customData.serverCode===409?await Ls(t.appConfig):await Sr(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function il(t){let e=await _s(t.appConfig);for(;e.registrationStatus===1;)await Rs(100),e=await _s(t.appConfig);if(e.registrationStatus===0){let{installationEntry:r,registrationPromise:n}=await wn(t);return n||r}return e}function _s(t){return xr(t,e=>{if(!e)throw lt.create("installation-not-found");return js(e)})}function js(t){return sl(t)?{fid:t.fid,registrationStatus:0}:t}function sl(t){return t.registrationStatus===1&&t.registrationTime+Ss<Date.now()}async function ol({appConfig:t,heartbeatServiceProvider:e},r){let n=al(t,r),i=zu(t,r),s=e.getImmediate({optional:!0});if(s){let l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}let o={installation:{sdkVersion:Ts,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await Ds(()=>fetch(n,a));if(u.ok){let l=await u.json();return ks(l)}else throw await Os("Generate Auth Token",u)}function al(t,{fid:e}){return`${As(t)}/${e}/authTokens:generate`}async function En(t,e=!1){let r,n=await xr(t.appConfig,s=>{if(!$s(s))throw lt.create("not-registered");let o=s.authToken;if(!e&&ll(o))return s;if(o.requestStatus===1)return r=cl(t,e),s;{if(!navigator.onLine)throw lt.create("app-offline");let a=fl(s);return r=ul(t,a),a}});return r?await r:n.authToken}async function cl(t,e){let r=await ws(t.appConfig);for(;r.authToken.requestStatus===1;)await Rs(100),r=await ws(t.appConfig);let n=r.authToken;return n.requestStatus===0?En(t,e):n}function ws(t){return xr(t,e=>{if(!$s(e))throw lt.create("not-registered");let r=e.authToken;return pl(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ul(t,e){try{let r=await ol(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Sr(t.appConfig,n),r}catch(r){if(Is(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Ls(t.appConfig);else{let n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sr(t.appConfig,n)}throw r}}function $s(t){return t!==void 0&&t.registrationStatus===2}function ll(t){return t.requestStatus===2&&!dl(t)}function dl(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+$u}function fl(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function pl(t){return t.requestStatus===1&&t.requestTime+Ss<Date.now()}async function hl(t){let e=t,{installationEntry:r,registrationPromise:n}=await wn(e);return n?n.catch(console.error):En(e).catch(console.error),r.fid}async function ml(t,e=!1){let r=t;return await gl(r),(await En(r,e)).token}async function gl(t){let{registrationPromise:e}=await wn(t);e&&await e}function yl(t){if(!t||!t.options)throw yn("App Configuration");if(!t.name)throw yn("App Name");let e=["projectId","apiKey","appId"];for(let r of e)if(!t.options[r])throw yn(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function yn(t){return lt.create("missing-app-config-values",{valueName:t})}var Fs="installations",vl="installations-internal",bl=t=>{let e=t.getProvider("app").getImmediate(),r=yl(e),n=zt(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},_l=t=>{let e=t.getProvider("app").getImmediate(),r=zt(e,Fs).getImmediate();return{getId:()=>hl(r),getToken:i=>ml(r,i)}};function wl(){Re(new ce(Fs,bl,"PUBLIC")),Re(new ce(vl,_l,"PRIVATE"))}wl();_e(Es,bn);_e(Es,bn,"esm2017");var El="/firebase-messaging-sw.js",Sl="/firebase-cloud-messaging-push-scope",Ys="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Tl="https://fcmregistrations.googleapis.com/v1",qs="google.c.a.c_id",xl="google.c.a.c_l",Il="google.c.a.ts",Al="google.c.a.e",Bs;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Bs||(Bs={}));var Vt;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Vt||(Vt={}));function Me(t){let e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kl(t){let e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let s=0;s<n.length;++s)i[s]=n.charCodeAt(s);return i}var Sn="fcm_token_details_db",Ol=5,Us="fcm_token_object_Store";async function Cl(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Sn))return null;let e=null;return(await at(Sn,Ol,{upgrade:async(n,i,s,o)=>{var a;if(i<2||!n.objectStoreNames.contains(Us))return;let u=o.objectStore(Us),l=await u.index("fcmSenderId").get(t);if(await u.clear(),!!l){if(i===2){let d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Me(d.vapidKey)}}}else if(i===3){let d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Me(d.auth),p256dh:Me(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Me(d.vapidKey)}}}else if(i===4){let d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Me(d.auth),p256dh:Me(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Me(d.vapidKey)}}}}}})).close(),await wr(Sn),await wr("fcm_vapid_details_db"),await wr("undefined"),Dl(e)?e:null}function Dl(t){if(!t||!t.subscriptionOptions)return!1;let{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var Rl="firebase-messaging-database",Ml=1,Ht="firebase-messaging-store",Tn=null;function Zs(){return Tn||(Tn=at(Rl,Ml,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ht)}}})),Tn}async function Nl(t){let e=Ks(t),n=await(await Zs()).transaction(Ht).objectStore(Ht).get(e);if(n)return n;{let i=await Cl(t.appConfig.senderId);if(i)return await An(t,i),i}}async function An(t,e){let r=Ks(t),i=(await Zs()).transaction(Ht,"readwrite");return await i.objectStore(Ht).put(e,r),await i.done,e}function Ks({appConfig:t}){return t.appId}var Pl={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Q=new De("messaging","Messaging",Pl);async function Ll(t,e){let r=await On(t),n=Gs(e),i={method:"POST",headers:r,body:JSON.stringify(n)},s;try{s=await(await fetch(kn(t.appConfig),i)).json()}catch(o){throw Q.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw Q.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Q.create("token-subscribe-no-token");return s.token}async function jl(t,e){let r=await On(t),n=Gs(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)},s;try{s=await(await fetch(`${kn(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Q.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw Q.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Q.create("token-update-no-token");return s.token}async function $l(t,e){let n={method:"DELETE",headers:await On(t)};try{let s=await(await fetch(`${kn(t.appConfig)}/${e}`,n)).json();if(s.error){let o=s.error.message;throw Q.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Q.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}}function kn({projectId:t}){return`${Tl}/projects/${t}/registrations`}async function On({appConfig:t,installations:e}){let r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function Gs({p256dh:t,auth:e,endpoint:r,vapidKey:n}){let i={web:{endpoint:r,auth:e,p256dh:t}};return n!==Ys&&(i.web.applicationPubKey=n),i}var Fl=7*24*60*60*1e3;async function Bl(t){let e=await zl(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Me(e.getKey("auth")),p256dh:Me(e.getKey("p256dh"))},n=await Nl(t.firebaseDependencies);if(n){if(Vl(n.subscriptionOptions,r))return Date.now()>=n.createTime+Fl?Ul(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await $l(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return zs(t.firebaseDependencies,r)}else return zs(t.firebaseDependencies,r)}async function Ul(t,e){try{let r=await jl(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await An(t.firebaseDependencies,n),r}catch(r){throw r}}async function zs(t,e){let n={token:await Ll(t,e),createTime:Date.now(),subscriptionOptions:e};return await An(t,n),n.token}async function zl(t,e){let r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kl(e)})}function Vl(t,e){let r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return r&&n&&i&&s}function Vs(t){let e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return Hl(e,t),Wl(e,t),Yl(e,t),e}function Hl(t,e){if(!e.notification)return;t.notification={};let r=e.notification.title;r&&(t.notification.title=r);let n=e.notification.body;n&&(t.notification.body=n);let i=e.notification.image;i&&(t.notification.image=i);let s=e.notification.icon;s&&(t.notification.icon=s)}function Wl(t,e){e.data&&(t.data=e.data)}function Yl(t,e){var r,n,i,s,o;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};let a=(i=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);let u=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}function ql(t){return typeof t=="object"&&!!t&&qs in t}Js("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");Js("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function Js(t,e){let r=[];for(let n=0;n<t.length;n++)r.push(t.charAt(n)),n<e.length&&r.push(e.charAt(n));return r.join("")}function Zl(t){if(!t||!t.options)throw xn("App Configuration Object");if(!t.name)throw xn("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(let n of e)if(!r[n])throw xn(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function xn(t){return Q.create("missing-app-config-values",{valueName:t})}var In=class{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=Zl(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}};async function Kl(t){try{t.swRegistration=await navigator.serviceWorker.register(El,{scope:Sl}),t.swRegistration.update().catch(()=>{})}catch(e){throw Q.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function Gl(t,e){if(!e&&!t.swRegistration&&await Kl(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Q.create("invalid-sw-registration");t.swRegistration=e}}async function Jl(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Ys)}async function Xs(t,e){if(!navigator)throw Q.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Q.create("permission-blocked");return await Jl(t,e?.vapidKey),await Gl(t,e?.serviceWorkerRegistration),Bl(t)}async function Xl(t,e,r){let n=Ql(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[qs],message_name:r[xl],message_time:r[Il],message_device_time:Math.floor(Date.now()/1e3)})}function Ql(t){switch(t){case Vt.NOTIFICATION_CLICKED:return"notification_open";case Vt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function ed(t,e){let r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===Vt.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Vs(r)):t.onMessageHandler.next(Vs(r)));let n=r.data;ql(n)&&n[Al]==="1"&&await Xl(t,r.messageType,n)}var Hs="@firebase/messaging",Ws="0.12.10";var td=t=>{let e=new In(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>ed(e,r)),e},rd=t=>{let e=t.getProvider("messaging").getImmediate();return{getToken:n=>Xs(e,n)}};function nd(){Re(new ce("messaging",td,"PUBLIC")),Re(new ce("messaging-internal",rd,"PRIVATE")),_e(Hs,Ws),_e(Hs,Ws,"esm2017")}async function id(){try{await mr()}catch{return!1}return typeof window<"u"&&hr()&&os()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function sd(t,e){if(!navigator)throw Q.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}function Qs(t=mn()){return id().then(e=>{if(!e)throw Q.create("unsupported-browser")},e=>{throw Q.create("indexed-db-unsupported")}),zt(yr(t),"messaging").getImmediate()}async function eo(t,e){return t=yr(t),Xs(t,e)}function to(t,e){return t=yr(t),sd(t,e)}nd();var od=console;var ad=/^[a-z-.]*$/gm,Ir=c.object({organizationId:c.string().min(1),hostname:c.string().regex(ad),name:c.string().nullish(),logoUrl:c.string().nullish(),iconUrl:c.string().nullish(),certificateLogoUrl:c.string().nullish(),loggedOutUserRedirectPath:c.string().default("/login"),adminRedirectPath:c.string().default("/organization/dashboard"),userRedirectPath:c.string().default("/dashboard"),adminInstructor:c.object({isEnabled:c.literal(!0)}).or(c.object({isEnabled:c.literal(!1)})).default({isEnabled:!1}),allowedLoginProviders:c.array(c.object({userRole:c.literal("Admin"),provider:c.enum(["Credentials"])}).or(c.object({userRole:c.literal("User"),provider:c.enum(["Credentials","LoginWithCodedamn","Google","GitHub","Apple"])}))).default([]),pages:c.array(c.object({action:c.enum(["Allow","Disallow"])}).and(c.object({isLoggedIn:c.literal(!0),userRole:c.enum(["Admin","User"])}).or(c.object({isLoggedIn:c.literal(!1)}))).and(c.object({type:c.literal("path"),path:c.string()}).or(c.object({type:c.literal("regex"),pattern:c.string().refine(t=>{try{return new RegExp(t),!0}catch(e){return od.error(e),!1}},{message:"Invalid regex in pattern!"})})))).default([{action:"Allow",isLoggedIn:!0,userRole:"Admin",type:"regex",pattern:"^/organization(.*)"},{action:"Allow",isLoggedIn:!0,userRole:"Admin",type:"regex",pattern:"^/logout(.*)"},{action:"Allow",isLoggedIn:!0,userRole:"Admin",type:"regex",pattern:"^/settings(.*)"},{action:"Allow",isLoggedIn:!0,userRole:"Admin",type:"regex",pattern:"^/contact(.*)"},{action:"Allow",isLoggedIn:!0,userRole:"Admin",type:"regex",pattern:"^/user(.*)"},{action:"Allow",isLoggedIn:!0,userRole:"Admin",type:"regex",pattern:"^/leaderboard(.*)"},{action:"Allow",isLoggedIn:!0,userRole:"Admin",type:"regex",pattern:"^/xp-system(.*)"},{action:"Disallow",isLoggedIn:!0,userRole:"Admin",type:"regex",pattern:"^/login(.*)"},{action:"Disallow",isLoggedIn:!0,userRole:"Admin",type:"regex",pattern:"^/register(.*)"},{action:"Disallow",isLoggedIn:!0,userRole:"Admin",type:"regex",pattern:"^/news(.*)"},{action:"Disallow",isLoggedIn:!0,userRole:"Admin",type:"regex",pattern:"^/checkout(.*)"},{action:"Disallow",isLoggedIn:!0,userRole:"Admin",type:"regex",pattern:"^/pricing(.*)"},{action:"Disallow",isLoggedIn:!0,userRole:"Admin",type:"regex",pattern:"^/$"},{action:"Allow",isLoggedIn:!0,userRole:"User",type:"regex",pattern:"(.*)"},{action:"Disallow",isLoggedIn:!0,userRole:"User",type:"regex",pattern:"^/organization(.*)"},{action:"Disallow",isLoggedIn:!0,userRole:"User",type:"regex",pattern:"^/login(.*)"},{action:"Disallow",isLoggedIn:!0,userRole:"User",type:"regex",pattern:"^/register(.*)"},{action:"Disallow",isLoggedIn:!0,userRole:"User",type:"regex",pattern:"^/news(.*)"},{action:"Disallow",isLoggedIn:!0,userRole:"User",type:"regex",pattern:"^/checkout(.*)"},{action:"Disallow",isLoggedIn:!0,userRole:"User",type:"regex",pattern:"^/pricing(.*)"},{action:"Disallow",isLoggedIn:!0,userRole:"User",type:"regex",pattern:"^/$"},{action:"Disallow",isLoggedIn:!0,userRole:"User",type:"regex",pattern:"^/instructor(.*)"},{action:"Allow",isLoggedIn:!1,type:"regex",pattern:"^/login(.*)"},{action:"Allow",isLoggedIn:!1,type:"regex",pattern:"^/password-reset(.*)"},{action:"Allow",isLoggedIn:!1,type:"regex",pattern:"^/force-auth(.*)"},{action:"Allow",isLoggedIn:!1,type:"regex",pattern:"^/certificate/(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/dashboard(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/settings(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/learn/(.*)/(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/exam/(.*)/(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/interview/(.*)/(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/instructor/onboarding(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/instructor/dashboard(.*)"},{action:"Allow",isLoggedIn:!0,userRole:"Admin",type:"regex",pattern:"^/interview-report/(.*)"},{action:"Allow",isLoggedIn:!0,userRole:"User",type:"regex",pattern:"^/interview-report/(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/instructor/interactive-courses(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/instructor/all-comments(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/instructor/reviews(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/instructor/settings(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/instructor/(.*)/(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/refer/dashboard(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/$"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/register(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/checkout(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/pricing(.*)"},{action:"Disallow",isLoggedIn:!1,type:"regex",pattern:"^/news(.*)"}]),courses:c.object({action:c.literal("AllowAll")}).or(c.object({action:c.literal("AllowSpecific"),allowed:c.array(c.object({identifier:c.literal("courseId"),courseId:c.string()}))})).default({action:"AllowAll"}),officialLearningPaths:c.object({action:c.literal("AllowAll")}).or(c.object({action:c.literal("AllowSpecific"),allowed:c.array(c.object({identifier:c.literal("learningPathId"),learningPathId:c.string()}))})).default({action:"AllowAll"}),codingLabs:c.object({action:c.literal("AllowAll")}).or(c.object({action:c.literal("AllowSpecific"),allowed:c.array(c.object({identifier:c.literal("codingLabId"),codingLabId:c.string()}).or(c.object({identifier:c.literal("tagId"),tagId:c.string()})))})).default({action:"AllowAll"}),codingLabCollections:c.object({action:c.literal("AllowAll")}).or(c.object({action:c.literal("AllowSpecific"),allowed:c.array(c.object({identifier:c.literal("codingLabCollectionId"),codingLabCollectionId:c.string()}).or(c.object({identifier:c.literal("tagId"),tagId:c.string()})))})).default({action:"AllowAll"})});var cd=[{featureId:"marketing-fomo-widget",label:"Marketing fomo widget",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!1},{featureId:"public-api",label:"Public API",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"xp-earning-ability",label:"XP Earning Ability",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!1},{featureId:"whitelabeled-footer-branding",label:"Whitelabeled branding",isConfigurableBySchool:!1,isVisibleAsSeparateFeature:!1},{featureId:"private-api",label:"Private API",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!1},{featureId:"managed-platform",label:"New user registration",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"web-app-installation",label:"Progressive Web App (PWA)",isConfigurableBySchool:!1,isVisibleAsSeparateFeature:!0},{featureId:"community",label:"Community",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"video-watermarking",label:"Video watermarking",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"affiliate-marketing",label:"Affiliate marketing",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"one-on-one-calls",label:"1:1 calls",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"coding-labs",label:"Coding labs",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"courses",label:"Courses",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"blogs",label:"Blogs",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"webhooks",label:"Webhooks",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"gamification",label:"Gamification",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"user-import",label:"User imports",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"custom-website",label:"Custom website",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"forms",label:"Forms",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"digital-products",label:"Digital products",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"live",label:"Live Sessions",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0},{featureId:"leaderboard",label:"Leaderboard",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!1},{featureId:"contests",label:"Contests",isConfigurableBySchool:!0,isVisibleAsSeparateFeature:!0}],ro=/^[a-z0-9-.]*$/gm,no=c.object({enabledFeatures:c.array(c.unknown()).optional().transform(t=>{if(t==null)return[];{let e=[];for(let r of t){let n=cd.find(i=>i.featureId===r);n!=null&&e.push(n.featureId)}return e}}),fermionSchoolId:c.string().min(1),hostname:c.string().regex(ro),aliasHostnames:c.array(c.string().regex(ro)).default([]),name:c.string().min(1),logoUrl:c.string().url(),iconUrl:c.string().url(),certificateLogoUrl:c.string().url(),customScriptToInjectInAllPages:c.string().max(1e4).or(c.null()).default(null),postPaymentSuccessPageUrl:c.string().url().or(c.null()).default(null),cacheIdentifier:c.string().default(""),userOnboardingFormId:c.string().or(c.null()).default(null),maxConcurrentLoggedInDevicesAllowed:c.number().min(1).default(50),pages:c.array(c.object({userType:c.enum(["Instructor","User","Anonymous"]),action:c.enum(["Allow","Disallow"])}).and(c.object({type:c.literal("path"),path:c.string()}).or(c.object({type:c.literal("regex"),pattern:c.string().refine(t=>{try{return new RegExp(t),!0}catch{return!1}},{message:"Invalid regex in pattern!"})})))).default([{userType:"Instructor",action:"Allow",type:"regex",pattern:"^/(.*)"},{userType:"User",action:"Allow",type:"regex",pattern:"^/(.*)"},{userType:"User",action:"Disallow",type:"regex",pattern:"^/instructor/(.*)"},{userType:"User",action:"Disallow",type:"regex",pattern:"^/user/login"},{userType:"User",action:"Disallow",type:"regex",pattern:"^/user/register"},{userType:"Anonymous",action:"Allow",type:"regex",pattern:"^/(.*)"}])});var Ar=c.object({websiteType:c.literal("unknown")}).or(c.object({abTestBucketNumber:c.literal(1).or(c.literal(2)).optional(),requestUrl:c.string().url(),realUrl:c.string().url()}).and(c.object({websiteType:c.literal("codedamn-main-website"),organizationConfig:Ir}).or(c.object({websiteType:c.literal("mobile-app"),organizationConfig:Ir})).or(c.object({websiteType:c.literal("internal-website")})).or(c.object({websiteType:c.literal("business-website")})).or(c.object({websiteType:c.literal("cdm-sh")})).or(c.object({websiteType:c.literal("health-check-cron-worker")})).or(c.object({websiteType:c.literal("interview-website")})).or(c.object({websiteType:c.literal("fermion-marketing-website")})).or(c.object({websiteType:c.literal("organization"),organizationConfig:Ir})).or(c.object({websiteType:c.literal("fermion-school"),fermionSchoolConfig:no})))),ft=Ar.parse({websiteType:"unknown"}),io=t=>{ft=Ar.parse(t),typeof window<"u"&&typeof document<"u"&&(ft.websiteType!=="unknown"?window.cdmSitewideContext={...ft,realUrl:new URL(window.location.href).toString()}:window.cdmSitewideContext=ft,ft=window.cdmSitewideContext)},xe=()=>{if(ft.websiteType==="unknown")throw new Error("Found website to be unknown inside sitewide context! Make sure the page you are rendering has proper server side injections.");return ft};function Cn(){let t=xe();return(t.websiteType==="organization"?t.organizationConfig.organizationId:null)??""}function Dn(){let t=xe();return(t.websiteType==="fermion-school"?t.fermionSchoolConfig.fermionSchoolId:null)??""}var so="fermion-user",oo="save-fcm-token",np=`${so}-${oo}`,ao=t=>({context:{namespace:so,functionName:oo},data:t}),ud=async t=>{let e=ao(t),r=Cn()||null,n=Dn()||null,i=$t()||null,s;try{s=await or.request({method:"POST",baseURL:Kr(),data:{organizationId:r,fermionSchoolId:n,authToken:i,data:[e]}}).then(o=>o.data).then(o=>o.at(0)?.output||null)}catch(o){throw{errorMessage:o?.message||"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!0}}if(!s)throw{errorMessage:"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!1};if(s.status==="ok")return s.data;throw{...s,isNetworkError:!1}},ld=async({data:t,forceOverrideAuthToken:e,shouldEnableBatching:r=!0})=>{if(r){let n=ao(t),i=ts(t),s=Cn()||null,o=Dn()||null,a=e||$t()||null;return await es.fetch({batchingUniqueKey:i,organizationId:s,fermionSchoolId:o,authToken:a,data:n}).then(l=>l)}else return await ud(t)},co=async({data:t,forceOverrideAuthToken:e,shouldEnableBatching:r=!0})=>{try{return{status:"ok",data:await ld({data:t,shouldEnableBatching:r,forceOverrideAuthToken:e})}}catch(n){return{status:"error",errorMessage:Qi(n).errorMessage}}};var dd="firebase",fd="10.12.4";_e(dd,fd,"app");var uo=hn({apiKey:ne.FERMION_FIREBASE_API_KEY,authDomain:ne.FERMION_FIREBASE_AUTH_DOMAIN,projectId:ne.FERMION_FIREBASE_PROJECT_ID,storageBucket:ne.FERMION_FIREBASE_STORAGE_BUCKET,messagingSenderId:ne.FERMION_FIREBASE_MESSAGING_SENDER_ID,appId:ne.FERMION_FIREBASE_APP_ID,measurementId:ne.FERMION_FIREBASE_MEASUREMENT_ID});var lo=Qs(uo);async function fo(t){try{if(Notification.permission==="default"){if(!(window.cdmRequestNotificationPermissionPrompt!=null?await Bt(window.cdmRequestNotificationPermissionPrompt(),(0,oe.default)("1m")):!1))return{status:"error",errorReason:"access-denied"};if(await Bt(Notification.requestPermission(),(0,oe.default)("1m"))!=="granted")return{status:"error",errorReason:"access-denied"}}else if(Notification.permission==="denied")return{status:"error",errorReason:"access-denied"};let e=await eo(lo,{vapidKey:ne.FERMION_FIREBASE_MESSAGING_VAPID_KEY,serviceWorkerRegistration:t}),r=await co({data:{token:e}});if(r.status==="ok")return{status:"ok",token:e};throw new Error(r.errorMessage)}catch(e){return console.error(e),{status:"error",errorReason:"unknown",errorMessage:e?.message||"Something went wrong!"}}}function po(t){return to(lo,t)}var ho=82;function kt(t){let e=xe(),n=t.src.startsWith("/")?`${new URL(e.realUrl).origin}${t.src}`:t.src;if(t.isOpenGraphImage)return n;if(n.startsWith("https://wsrv.nl/"))return n;{let i=n.toLowerCase().endsWith(".gif"),s=i?"&n=-1":"";if(i)return n;let o="&output=webp";if(t.outputFormat&&(o=`&output=${t.outputFormat}`),t.strictDimensions){if(t.height==null)throw new Error("height and width are required with strictDimensions");return`https://wsrv.nl/?url=${encodeURIComponent(n)}&w=${t.width}&fit=cover&h=${t.height}&q=${t.quality??ho}${o}${s}`}else return`https://wsrv.nl/?url=${encodeURIComponent(n)}&w=${t.width}&q=${t.quality??ho}${o}${s}`}}function Rn({title:t,body:e,ctaUrl:r,iconUrl:n,bannerImageUrl:i}){document.getElementById("cdm-notification-toast")?.remove();let s=document.createElement("div");if(s.id="cdm-notification-toast",Object.assign(s.style,{position:"fixed",bottom:"24px",right:"24px",maxWidth:"calc(min(400px, 100vw - 48px))",width:"100%",padding:"16px",borderRadius:"8px",backgroundColor:"hsl(240 10% 3.9%)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",color:"hsl(0 0% 98%)",fontSize:"14px",lineHeight:"1.5",display:"flex",alignItems:"flex-start",gap:"16px",zIndex:"9999",animation:"slideIn 0.3s ease-in-out"}),n||i){let d=document.createElement("img");Object.assign(d.style,{width:"48px",height:"48px",borderRadius:"4px",objectFit:"cover",cursor:"default"}),d.src=kt({src:n||i||"",width:96,height:96,quality:100}),d.alt=t,s.appendChild(d)}let o=document.createElement("div");o.style.flex="1";let a=document.createElement("p");if(a.textContent=t,Object.assign(a.style,{fontWeight:600,cursor:"default"}),o.appendChild(a),e){let d=document.createElement("p");d.textContent=e,Object.assign(d.style,{marginTop:"4px",color:"hsl(240 5% 64.9%)",cursor:"default"}),o.appendChild(d)}if(s.appendChild(o),r){let d=document.createElement("a");d.title="Open Link",d.href=r,d.target="_blank",d.rel="noopener noreferrer",d.innerHTML='<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L10.2929 4L6 4C5.72386 4 5.5 3.77614 5.5 3.5C5.5 3.22386 5.72386 3 6 3L11.5 3C11.6326 3 11.7598 3.05268 11.8536 3.14645C11.9473 3.24022 12 3.36739 12 3.5L12 9.00001C12 9.27615 11.7761 9.50001 11.5 9.50001C11.2239 9.50001 11 9.27615 11 9.00001V4.70711L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>',Object.assign(d.style,{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"4px",backgroundColor:"hsl(240 5% 64.9% / 0.1)",color:"hsl(0 0% 98%)",marginLeft:"auto",cursor:"pointer"}),d.onclick=()=>document.getElementById("cdm-notification-toast")?.remove(),s.appendChild(d)}let u=document.createElement("button");u.title="Dismiss",u.innerHTML='<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>',Object.assign(u.style,{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",border:"none",background:"none",padding:"0",color:"hsl(240 5% 64.9%)",marginLeft:"auto",cursor:"pointer"}),u.onclick=()=>document.getElementById("cdm-notification-toast")?.remove(),s.appendChild(u);let l=document.createElement("style");l.textContent=`
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    `,document.head.appendChild(l),document.body.appendChild(s)}var mo="Error";function pt(t,e){if(t)return;let r=e?`${mo}: ${e}`:mo;throw console.error(r),new Error(r)}var Ne="2025-02-12T17:01:18.429Z";var W={log(...t){console.log("[LOG] ",`[Fermion SW Manager - ${Ne}] `,...t)},info(...t){console.info("[INFO] ",`[Fermion SW Manager - ${Ne}] `,...t)},debug(...t){console.debug("[DEBUG] ",`[Fermion SW Manager - ${Ne}] `,...t)},warn(...t){console.warn("[WARN] ",`[Fermion SW Manager - ${Ne}] `,...t)},error(...t){console.error("[ERROR] ",`[Fermion SW Manager - ${Ne}] `,...t)},trace(...t){console.trace("[TRACE] ",`[Fermion SW Manager - ${Ne}] `,...t)},speedRunMs(){return{start(){let t=Date.now();return{end(){return Date.now()-t}}}}},speedRun(t){return{start(){return W.time(t),{end(){W.timeEnd(t)}}}}},time(t){console.time(`[Fermion SW Manager - ${Ne}] ${t}`)},timeEnd(t){console.timeEnd(`[Fermion SW Manager - ${Ne}] ${t}`)}};function go(t){document.getElementById("cdm-install-app-prompt")?.remove();let e=document.createElement("div");e.id="cdm-install-app-prompt",Object.assign(e.style,{position:"fixed",bottom:"24px",right:"24px",maxWidth:"calc(min(400px, 100vw - 48px))",width:"100%",padding:"16px",borderRadius:"8px",backgroundColor:"hsl(240 10% 3.9%)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",color:"hsl(0 0% 98%)",fontSize:"14px",lineHeight:"1.5",display:"flex",alignItems:"flex-start",gap:"16px",zIndex:"9999",animation:"slideIn 0.3s ease-in-out"});try{let u=xe();pt(u.websiteType==="fermion-school");let l=document.createElement("img");Object.assign(l.style,{width:"48px",height:"48px",borderRadius:"4px",objectFit:"cover"}),l.src=kt({src:u.fermionSchoolConfig.iconUrl,width:96,height:96,quality:100}),l.alt=u.fermionSchoolConfig.name,e.appendChild(l)}catch(u){W.warn(u)}let r=document.createElement("div");r.style.flex="1";let n=document.createElement("p");n.textContent="Install Our App",Object.assign(n.style,{fontWeight:600,cursor:"default"}),r.appendChild(n);let i=document.createElement("p");i.textContent="Get a better experience by installing our app on your device.",Object.assign(i.style,{marginTop:"4px",color:"hsl(240 5% 64.9%)",cursor:"default"}),r.appendChild(i),e.appendChild(r);let s=document.createElement("button");s.title="Install",s.innerHTML='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke-width="2" d="M12,18 L12,8 L12,18 Z M12,23 C18.0751322,23 23,18.0751322 23,12 C23,5.92486775 18.0751322,1 12,1 C5.92486775,1 1,5.92486775 1,12 C1,18.0751322 5.92486775,23 12,23 Z M17,12 L12,7 L7,12" transform="matrix(1 0 0 -1 0 24)"></path></svg>',Object.assign(s.style,{display:"flex",alignItems:"center",justifyContent:"center",width:"38px",height:"38px",borderRadius:"4px",backgroundColor:"hsl(240 5% 64.9% / 0.1)",color:"hsl(0 0% 98%)",marginLeft:"auto",cursor:"pointer"}),s.onclick=async()=>{try{pt(t),await t.prompt(),(await t.userChoice).outcome==="accepted"?W.log("User accepted the install prompt"):W.log("User dismissed the install prompt")}catch(u){W.error("Error during app installation",u)}document.getElementById("cdm-install-app-prompt")?.remove()},e.appendChild(s);let o=document.createElement("button");o.title="Dismiss",o.innerHTML='<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>',Object.assign(o.style,{display:"flex",alignItems:"center",justifyContent:"center",width:"38px",height:"38px",border:"none",background:"none",padding:"0",color:"hsl(240 5% 64.9%)",marginLeft:"auto",cursor:"pointer"}),o.onclick=()=>{localStorage.setItem(lr,new Date().toISOString()),document.getElementById("cdm-install-app-prompt")?.remove()},e.appendChild(o);let a=document.createElement("style");a.textContent=`
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    `,document.head.appendChild(a),document.body.appendChild(e)}var Mn=c.object({origin:c.string(),ttfbTimeoutInSeconds:c.number().int().min(0),urlSearchParamString:c.string()}),yo=c.object({eligiblePlaybackCdns:c.array(Mn),videoId:c.string(),videoSourceId:c.string()}),Nn=c.object({masterM3u8Pathname:c.string(),origin:c.string().url(),urlSearchParamString:c.string(),ttfbTimeoutInSeconds:c.number().int().min(0)}),Mp=c.object({contentId:c.string(),type:c.literal("course-video"),courseSlug:c.string().min(1),courseItemSlug:c.string().min(1),videoId:c.string().min(1)}).or(c.object({contentId:c.string(),type:c.literal("live-event-session"),liveEventSessionId:c.string()})),pd=["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"];var hd=["HDCP_NONE","HDCP_V1","HDCP_V2","HDCP_V2_1","HDCP_V2_2","HDCP_V2_3","HDCP_NO_DIGITAL_OUTPUT"],Wt=c.object({securityLevel:c.enum(pd),hdcpOutputProtection:c.enum(hd)}),md=c.object({widevineConfigByTrackType:c.object({AUDIO:Wt,SD:Wt,HD:Wt,UHD1:Wt,UHD2:Wt})}),gd=c.object({contentId:c.string(),playbackModeConfig:md}),Np=c.object({drmSpecificData:gd.or(c.null()),availableSources:c.array(Nn).min(1)});var Pn={ClientToServiceWorker:c.object({type:c.literal("update-live-hls-stream-data"),data:c.object({liveClassIdOrliveEventSessionId:c.string(),eligiblePlaybackCdns:c.array(Nn)})}).or(c.object({type:c.literal("update-recorded-course-video-hls-stream-data"),data:c.array(yo)})).or(c.object({type:c.literal("update-recorded-course-video-drm-stream-data"),data:c.object({videoId:c.string(),eligiblePlaybackCdns:c.array(Mn)})})).or(c.object({type:c.literal("update-user-auth-token"),userAuthToken:c.string().or(c.null())})).or(c.object({type:c.literal("update-sitewide-context"),contextData:Ar})),ServiceWorkerToClient:c.object({type:c.literal("show-error-toast"),errorMessage:c.string()})};function Ln(t,e){let r=Pn[t].parse(e);return JSON.stringify(r)}var jn=null;function kr({errorMessage:t,dismissAfterDuration:e="5s"}){document.getElementById("cdm-error-toast")?.remove();let r=document.createElement("div");r.id="cdm-error-toast",Object.assign(r.style,{position:"fixed",bottom:"24px",right:"24px",maxWidth:"350px",padding:"8px 10px",borderRadius:"8px",backgroundColor:"#fff",boxShadow:"0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05)",color:"#363636",lineHeight:"1.3",display:"flex",alignItems:"middle",zIndex:"9999",animation:"slideIn 0.3s ease-in-out"});let n=document.createElement("div");Object.assign(n.style,{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",minWidth:"20px",minHeight:"20px"});let i=document.createElement("div");Object.assign(i.style,{width:"20px",height:"20px",borderRadius:"10px",background:"#ff4b4b",position:"relative",transform:"rotate(45deg)"});let s=document.createElement("div");Object.assign(s.style,{position:"absolute",width:"12px",height:"2px",background:"#fff",top:"9px",left:"4px"}),i.appendChild(s);let o=document.createElement("div");Object.assign(o.style,{position:"absolute",width:"12px",height:"2px",background:"#fff",top:"9px",left:"4px",transform:"rotate(90deg)"}),i.appendChild(o),n.appendChild(i),r.appendChild(n);let a=document.createElement("p");a.textContent=t,Object.assign(a.style,{display:"flex",justifyContent:"center",margin:"4px 10px",color:"inherit",flex:"1 1 auto",whiteSpace:"pre-line",cursor:"default"}),r.appendChild(a);let u=document.createElement("style");u.textContent=`
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    `,document.head.appendChild(u),document.body.appendChild(r),jn!=null&&window.clearTimeout(jn),jn=window.setTimeout(()=>{r.remove()},(0,oe.default)(e))}var he=te(vo()),Oo=te(bo()),Co=te(_o()),Do=te(wo()),Ro=te(Eo()),Mo=te(So()),No=te(To()),Po=te(xo()),Lo=te(Io()),jo=te(Ao()),$o=te(ko());he.default.extend(jo.default);he.default.extend(Lo.default);he.default.extend(No.default);he.default.extend(Do.default);he.default.extend(Co.default);he.default.extend(Oo.default);he.default.extend(Ro.default);he.default.extend(Mo.default);he.default.extend(Po.default);he.default.extend($o.default);var Ot=he.default;function yd(t){try{let e=t;W.debug("Message received",e.data);let r=Pn.ServiceWorkerToClient.parse(JSON.parse(e.data));r.type==="show-error-toast"?kr({errorMessage:r.errorMessage}):fr(r.type)}catch(e){W.error(t,e)}}async function Fo(){W.debug("Setting sitewide context"),io(window.cdmSitewideContext);let t=xe();pt(t.websiteType==="fermion-school"),navigator.serviceWorker.controller==null&&(W.debug("navigator.serviceWorker.controller is null. Unregistering..."),await navigator.serviceWorker.getRegistration("/").then(u=>u?.unregister())),W.debug("Registering service worker...");let e=await navigator.serviceWorker.register("/service-worker.js",{scope:"/"});W.debug("Triggering service worker update..."),await e.update();let r=0;for(;e.installing||e.waiting||!e.active;){if(W.warn("Waiting for service worker to be active..."),r+=1,r>50)throw new Error("Timed out waiting for service worker to become active!");await Ft("1s")}navigator.serviceWorker.onmessage=yd,W.debug("Sending boot up messages"),e.active.postMessage(Ln("ClientToServiceWorker",{type:"update-sitewide-context",contextData:t}));let n=$t()??null;e.active.postMessage(Ln("ClientToServiceWorker",{type:"update-user-auth-token",userAuthToken:n})),window.cdmServiceWorker=e,W.debug("Service Worker Fully Loaded!");let i=window.cdmIsPwa===!0,s=localStorage.getItem(dr),o=s?Ot(s):null;if(!window.location.pathname.startsWith("/instructor/")&&!!n&&(i||window.location.pathname.startsWith("/community")&&!window.location.search.includes("isMinimalEmbed"))&&(o==null||!o.isValid()||o.isBefore(Ot().subtract(1,"day")))){let u=await fo(e);u.status==="ok"?W.log("Firebase Messaging Token Saved!",u.token):u.status==="error"?u.errorReason==="access-denied"?W.error("Access denied trying to load Firebase Messaging Token!"):u.errorReason==="unknown"?W.error("[Failed to load Firebase Messaging Token!",u.errorMessage):fr(u):fr(u)}else W.debug("Not requesting notification permission!",{lastRequestedAtLs:s,userAuthToken:n,IS_DEVELOPMENT:st,isPwa:i,pathname:window.location.pathname})}async function Bo(){return await new Promise(t=>{document.getElementById("cdm-request-notification-permission-prompt")?.remove();let e=document.createElement("div");e.id="cdm-request-notification-permission-prompt",Object.assign(e.style,{position:"fixed",bottom:"24px",right:"24px",maxWidth:"calc(min(400px, 100vw - 48px))",width:"100%",padding:"16px",borderRadius:"8px",backgroundColor:"hsl(240 10% 3.9%)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",color:"hsl(0 0% 98%)",fontSize:"14px",lineHeight:"1.5",display:"flex",alignItems:"flex-start",gap:"16px",zIndex:"9999",animation:"slideIn 0.3s ease-in-out"});try{let u=xe();pt(u.websiteType==="fermion-school");let l=document.createElement("img");Object.assign(l.style,{width:"48px",height:"48px",borderRadius:"4px",objectFit:"cover"}),l.src=kt({src:u.fermionSchoolConfig.iconUrl,width:96,height:96,quality:100}),l.alt=u.fermionSchoolConfig.name,e.appendChild(l)}catch(u){W.warn(u)}let r=document.createElement("div");r.style.flex="1";let n=document.createElement("p");n.textContent="Enable notifications",Object.assign(n.style,{fontWeight:600,cursor:"default"}),r.appendChild(n);let i=document.createElement("p");i.textContent="Never miss out on any updates by enabling notifications on your device.",Object.assign(i.style,{marginTop:"4px",color:"hsl(240 5% 64.9%)",cursor:"default"}),r.appendChild(i),e.appendChild(r);let s=document.createElement("button");s.title="Enable",s.innerHTML='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="58.957 36.311 20.308 24" width="20" height="20"  xmlns="http://www.w3.org/2000/svg"><path d="M 69.111 60.311 C 70.425 60.311 71.5 59.231 71.5 57.911 L 66.722 57.911 C 66.722 59.231 67.797 60.311 69.111 60.311 Z M 76.876 53.111 L 76.876 46.511 C 76.876 42.851 74.307 39.731 70.903 38.951 L 70.903 38.111 C 70.903 37.091 70.126 36.311 69.111 36.311 C 68.095 36.311 67.319 37.091 67.319 38.111 L 67.319 38.951 C 63.914 39.731 61.346 42.851 61.346 46.511 L 61.346 53.111 L 58.957 55.511 L 58.957 56.711 L 79.265 56.711 L 79.265 55.511 L 76.876 53.111 Z"/></svg>',Object.assign(s.style,{display:"flex",alignItems:"center",justifyContent:"center",width:"38px",height:"38px",borderRadius:"4px",backgroundColor:"hsl(240 5% 64.9% / 0.1)",color:"hsl(0 0% 98%)",marginLeft:"auto",cursor:"pointer"}),s.onclick=()=>{document.getElementById("cdm-request-notification-permission-prompt")?.remove(),t(!0)},e.appendChild(s);let o=document.createElement("button");o.title="Dismiss",o.innerHTML='<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>',Object.assign(o.style,{display:"flex",alignItems:"center",justifyContent:"center",width:"38px",height:"38px",border:"none",background:"none",padding:"0",color:"hsl(240 5% 64.9%)",marginLeft:"auto",cursor:"pointer"}),o.onclick=()=>{localStorage.setItem(dr,new Date().toISOString()),document.getElementById("cdm-request-notification-permission-prompt")?.remove(),t(!1)},e.appendChild(o);let a=document.createElement("style");a.textContent=`
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    `,document.head.appendChild(a),document.body.appendChild(e)})}var Uo=c.object({title:c.string(),body:c.string(),ctaUrl:c.string().url().optional().catch(void 0),iconUrl:c.string().url().optional().catch(void 0),bannerImageUrl:c.string().url().optional().catch(void 0)});Xi(rs());po(async t=>{try{W.log("Firebase Foreground Message received",t);let e=Uo.parse(t.data);if("Notification"in window&&Notification.permission==="granted"){let r={body:e.body,requireInteraction:!!e.ctaUrl,tag:e.ctaUrl,icon:e.iconUrl,badge:e.bannerImageUrl};try{let n=new Notification(e.title,r);n.onclick=i=>{i.preventDefault(),e.ctaUrl&&window.open(e.ctaUrl,"_blank"),n.close()}}catch{await window.cdmServiceWorker?.showNotification(e.title,r)}}else window.location.pathname.startsWith("/community")||Rn(e)}catch(e){W.error(t,e)}});window.addEventListener("beforeinstallprompt",t=>{window.deferredPrompt=t,W.debug("window.deferredPrompt",window.deferredPrompt),window.deferredPrompt.preventDefault();let e=localStorage.getItem(lr),r=e?Ot(e):null;!window.location.pathname.startsWith("/certificate")&&!window.location.pathname.startsWith("/embed")&&!window.location.pathname.startsWith("/download-app")&&!window.location.pathname.startsWith("/instructor/")&&!st&&(r==null||!r.isValid()||r.isBefore(Ot().subtract(1,"day")))?go(window.deferredPrompt):W.debug("Not showing app install prompt!",{lastRequestedAtLs:e,IS_DEVELOPMENT:st,pathname:window.location.pathname})});window.addEventListener("appinstalled",()=>{document.getElementById("cdmPrompt")?.remove()});async function vd(){for(;;)try{await Bt(Fo(),(0,oe.default)("30s")),await Ft("10s")}catch(t){W.error(t),await Ft("1s")}}vd();window.cdmErrorToast=kr;window.notificationToast=Rn;window.cdmRequestNotificationPermissionPrompt=Bo;
