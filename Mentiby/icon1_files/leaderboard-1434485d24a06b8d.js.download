(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36861],{57052:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboard",function(){return s(33016)}])},33016:(e,a,s)=>{"use strict";s.r(a),s.d(a,{__N_SSP:()=>E,default:()=>T});var t=s(63159),l=s(50301),r=s(36205),n=s(90117),d=s(38699),i=s(64966),c=s(18777),o=s(22038),x=s(64772);let m="public",h="get-school-leaderboard",p="".concat(m,"-").concat(h),u=e=>({context:{namespace:m,functionName:h},data:e}),g=async e=>{let a;let s=u(e),t=(0,r.Cm)()||null,l=(0,r.d)()||null,n=(0,x.G0)()||null;try{a=await c.Ay.request({method:"POST",baseURL:(0,o.Pb)(),data:{organizationId:t,fermionSchoolId:l,authToken:n,data:[s]}}).then(e=>e.data).then(e=>{var a;return(null===(a=e.at(0))||void 0===a?void 0:a.output)||null})}catch(e){throw{errorMessage:(null==e?void 0:e.message)||"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!0}}if(!a)throw{errorMessage:"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!1};if("ok"===a.status)return a.data;throw{...a,isNetworkError:!1}},f=async e=>{let{data:a,forceOverrideAuthToken:s,shouldEnableBatching:t=!0}=e;if(!t)return await g(a);{let e=u(a),t=(0,o.zL)(a),l=(0,r.Cm)()||null,n=(0,r.d)()||null,d=s||(0,x.G0)()||null;return await o.l3.fetch({batchingUniqueKey:t,organizationId:l,fermionSchoolId:n,authToken:d,data:e}).then(e=>e)}},w=(e,a)=>(0,i.I)({queryKey:[p,u(e)],queryFn:()=>f({data:e}),...null!=a?a:{}});var y=s(11855),N=s(74218),j=s(7183),b=s(96433),v=s(48532),k=s(35284),P=s(74261);let _=["AllTime","ThisMonth","ThisWeek","Today"];var E=!0;let T=()=>{let e=(0,r.aT)();(0,l.V)("fermion-school"===e.websiteType);let a=(0,N.Fc)({routePath:"/leaderboard",searchParam:"period"}),s=(0,y.useMemo)(()=>_.includes(a.value)?a.value:_[0],[a.value]),i=w({data:{fermionSchoolId:e.fermionSchoolConfig.fermionSchoolId,period:s,limit:100}});return(0,t.jsx)(d.P,{mobilePwaThemeColor:"default-#ffffff",shouldEnableSidebar:!1,shouldEnableHeader:!0,mobileHeader:(0,t.jsx)(n.R,{}),desktopHeader:(0,t.jsx)(n.z,{}),children:(0,t.jsxs)("div",{className:"max-w-screen-xl mx-auto mt-4 min-h-screen pb-8 px-4 sm:px-8",children:[(0,t.jsx)("div",{className:"py-4",children:(0,t.jsx)("h2",{className:"text-3xl font-semibold tracking-tighter",children:"Leaderboard"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"sm:hidden",children:[(0,t.jsx)("label",{htmlFor:"periods",className:"sr-only",children:"Select a period"}),(0,t.jsx)("select",{id:"periods",name:"periods",onChange:e=>void(0,P.Jw)({pathname:"/leaderboard",queryParams:{period:e.target.value}}),className:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500",children:_.map(e=>(0,t.jsx)("option",{value:e,children:(0,x.Dr)(e)},e))})]}),(0,t.jsx)("div",{className:"hidden sm:block",children:(0,t.jsx)("nav",{className:"flex space-x-4","aria-label":"Tabs",children:_.map(e=>(0,t.jsx)(P.N_,{"data-testid":e,className:(0,k.default)(e===s?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700","px-3 py-2 font-medium text-sm rounded-md"),safeHref:{pathname:"/leaderboard",queryParams:{period:e}},children:(0,x.Dr)(e)},e))})})]}),(0,t.jsx)("div",{className:"inline-block min-w-full py-2 align-middle",children:(0,t.jsxs)("div",{className:"max-w-none overflow-auto border border-gray-100 shadow sm:rounded-lg",children:[(0,t.jsxs)("table",{className:"min-w-full max-w-none table-fixed divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Rank"}),(0,t.jsx)("th",{scope:"col",className:"w-1/3 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"User"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Member since"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"AllTime"===s?"Total XP":"XP Gained"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white","x-max":"1",children:null==i.data?Array(100).fill(0).map((e,a)=>(0,t.jsxs)("tr",{className:"".concat(0===a?"bg-red-50":1===a?"bg-blue-50":2===a?"bg-green-50":""," ").concat(a%2?"bg-gray-50":"bg-white"),children:[(0,t.jsx)("td",{className:"whitespace-nowrap p-3 lg:px-6 lg:py-4",children:(0,t.jsx)("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-3 py-0.5 text-sm font-medium text-gray-800",children:a+1})}),(0,t.jsx)("td",{className:"whitespace-nowrap p-3 lg:px-6 lg:py-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,t.jsx)("span",{children:(0,t.jsx)(j.E,{className:"h-10 w-10 rounded-full"})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("div",{className:"flex items-center space-x-2 text-sm font-medium text-gray-900",children:(0,t.jsx)(j.E,{className:"h-3 w-32 rounded-sm"})}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:(0,t.jsx)(j.E,{className:"mt-2 h-3 w-16 rounded-sm"})})]})]})}),(0,t.jsx)("td",{className:"whitespace-nowrap p-3 lg:px-6 lg:py-4",children:(0,t.jsx)("div",{className:"text-sm text-gray-900",children:(0,t.jsx)(j.E,{className:"h-5 w-32 rounded-sm"})})}),(0,t.jsx)("td",{className:"whitespace-nowrap p-3 lg:px-6 lg:py-4",children:(0,t.jsx)("span",{className:(0,k.default)("inline-flex rounded-full px-2 text-xs font-semibold leading-5"),children:(0,t.jsx)(j.E,{className:"h-5 w-16 rounded-sm"})})})]},a)):i.data.leaderboardUsers.map((e,a)=>(0,t.jsxs)("tr",{className:"".concat(0===a?"bg-red-50":1===a?"bg-blue-50":2===a?"bg-green-50":""," ").concat(a%2?"bg-gray-50":"bg-white"),children:[(0,t.jsx)("td",{className:"whitespace-nowrap p-3 lg:px-6 lg:py-4",children:(0,t.jsx)("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-3 py-0.5 text-sm font-medium text-gray-800",children:a+1})}),(0,t.jsx)("td",{className:"whitespace-nowrap p-3 lg:px-6 lg:py-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,t.jsx)("span",{children:(0,t.jsx)(b.A,{width:40,height:40,className:"h-10 w-10 rounded-full",src:e.profilePicUrl,alt:"".concat(e.username,"'s profile picture")})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("div",{className:"flex items-center space-x-2 text-sm font-medium text-gray-900",children:(0,t.jsx)("span",{children:e.name})}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:(0,t.jsxs)("span",{children:["@",e.username]})})]})]})}),(0,t.jsx)("td",{className:"whitespace-nowrap p-3 lg:px-6 lg:py-4",children:(0,t.jsx)("div",{className:"text-sm text-gray-900",children:(0,v.Ay)(e.userCreatedAtIso).format("MMMM Do[,] YYYY")})}),(0,t.jsx)("td",{className:"whitespace-nowrap p-3 lg:px-6 lg:py-4",children:(0,t.jsxs)("span",{className:(0,k.default)("inline-flex rounded-full px-2 text-xs font-semibold leading-5",e.xpDeltaInPeriod<=0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:["AllTime"===s||e.xpDeltaInPeriod<=0?"":"+",e.xpDeltaInPeriod.toLocaleString("en-US")]})})]},e.fermionUserId))})]}),null!=i.data&&0===i.data.leaderboardUsers.length?(0,t.jsx)("p",{className:"border-t border-gray-200 text-gray-900 text-sm w-full flex justify-center items-center px-2 py-4",children:"No results"}):null]})})]})})}},48532:(e,a,s)=>{"use strict";s.d(a,{Ay:()=>T,LV:()=>P,ql:()=>_,vX:()=>E});var t=s(329),l=s.n(t),r=s(60426),n=s.n(r),d=s(15089),i=s.n(d),c=s(38094),o=s.n(c),x=s(48127),m=s.n(x),h=s(34593),p=s.n(h),u=s(4410),g=s.n(u),f=s(37141),w=s.n(f),y=s(41045),N=s.n(y),j=s(37927),b=s.n(j),v=s(5592),k=s.n(v);function P(e){return l()(e).isAfter(l()())}function _(e){return!P(e)}l().extend(b()),l().extend(N()),l().extend(g()),l().extend(o()),l().extend(i()),l().extend(n()),l().extend(m()),l().extend(p()),l().extend(w()),l().extend(k());let E=e=>{let{timezone:a}=e;return(e,s)=>{if(null==a)return l()(e,s).utc();try{return l()(e,s).tz(a)}catch(a){return l()(e,s).utc()}}},T=l()}},e=>{var a=a=>e(e.s=a);e.O(0,[33577,21936,39211,7605,5600,15747,92979,96235,42839,25357,38699,84405,90636,46593,38792],()=>a(57052)),_N_E=e.O()}]);