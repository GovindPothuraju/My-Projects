"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38699],{38699:(e,t,a)=>{a.d(t,{P:()=>I});var o=a(63159),r=a(11855),s=a(55030),l=a(64772),n=a(35284),i=a(36205),d=a(50301),c=a(77934),u=a(74261),m=a(74218),h=a(18078),b=a(18777),g=a(22038);let p="fermion-user",f="get-recent-sale-detail-for-fomo-widget";"".concat(p,"-").concat(f);let w=e=>({context:{namespace:p,functionName:f},data:e}),k=async e=>{let t;let a=w(e),o=(0,i.Cm)()||null,r=(0,i.d)()||null,s=(0,l.G0)()||null;try{t=await b.Ay.request({method:"POST",baseURL:(0,g.Pb)(),data:{organizationId:o,fermionSchoolId:r,authToken:s,data:[a]}}).then(e=>e.data).then(e=>{var t;return(null===(t=e.at(0))||void 0===t?void 0:t.output)||null})}catch(e){throw{errorMessage:(null==e?void 0:e.message)||"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!0}}if(!t)throw{errorMessage:"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!1};if("ok"===t.status)return t.data;throw{...t,isNetworkError:!1}},y=async e=>{let{data:t,forceOverrideAuthToken:a,shouldEnableBatching:o=!0}=e;if(!o)return await k(t);{let e=w(t),o=(0,g.zL)(t),r=(0,i.Cm)()||null,s=(0,i.d)()||null,n=a||(0,l.G0)()||null;return await g.l3.fetch({batchingUniqueKey:o,organizationId:r,fermionSchoolId:s,authToken:n,data:e}).then(e=>e)}},x=async e=>{let{data:t,forceOverrideAuthToken:a,shouldEnableBatching:o=!0}=e;try{let e=await y({data:t,shouldEnableBatching:o,forceOverrideAuthToken:a});return{status:"ok",data:e}}catch(e){return{status:"error",errorMessage:(0,g._R)(e).errorMessage}}};var v=a(75159),C=a(53996);let N=()=>((0,r.useEffect)(()=>{let e=0,t=(0,i.aT)();async function a(){let t=window.location.pathname;if(!("/"===t||/^\/course\/[^\/]+\/?$/.test(t)||/^\/product\/[^\/]+\/?$/.test(t)))return;let a=await x({data:{notificationSeenCount:e}});if("ok"===a.status){let e=a.data.saleData;null==e||s.oR.custom(t=>(0,o.jsxs)("div",{onClick:()=>s.oR.dismiss(t),className:"p-4 w-[356px] cursor-pointer !max-w-none [&_*]:!max-w-none box-border rounded-lg bg-gray-100 border border-gray-300 relative",children:[(0,o.jsx)("p",{className:"text-sm text-gray-900 font-medium mb-2 leading-none",children:"New enrollment"}),(0,o.jsxs)("p",{className:"text-sm text-gray-700 leading-none",children:[(0,o.jsx)("b",{children:e.nameOfUser})," purchased"," ",(0,o.jsx)("b",{children:e.purchaseName})," ",e.purchaseTimeFromNow]})]}),{className:"!max-w-none [&_*]:!max-w-none",duration:(0,v.ms)("20s"),position:"bottom-left"})}e++}if((0,d.V)("fermion-school"===t.websiteType),t.fermionSchoolConfig.enabledFeatures.includes("marketing-fomo-widget")){a();let e=(0,C.EQ)(a,(0,v.ms)("20s"));return()=>{(0,C.H3)(e)}}},[]),null);var T=a(64966);let S="fermion-user",j="mark-as-active-today",E="".concat(S,"-").concat(j),M=e=>({context:{namespace:S,functionName:j},data:e}),H=async e=>{let t;let a=M(e),o=(0,i.Cm)()||null,r=(0,i.d)()||null,s=(0,l.G0)()||null;try{t=await b.Ay.request({method:"POST",baseURL:(0,g.Pb)(),data:{organizationId:o,fermionSchoolId:r,authToken:s,data:[a]}}).then(e=>e.data).then(e=>{var t;return(null===(t=e.at(0))||void 0===t?void 0:t.output)||null})}catch(e){throw{errorMessage:(null==e?void 0:e.message)||"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!0}}if(!t)throw{errorMessage:"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!1};if("ok"===t.status)return t.data;throw{...t,isNetworkError:!1}},B=async e=>{let{data:t,forceOverrideAuthToken:a,shouldEnableBatching:o=!0}=e;if(!o)return await H(t);{let e=M(t),o=(0,g.zL)(t),r=(0,i.Cm)()||null,s=(0,i.d)()||null,n=a||(0,l.G0)()||null;return await g.l3.fetch({batchingUniqueKey:o,organizationId:r,fermionSchoolId:s,authToken:n,data:e}).then(e=>e)}},P=(e,t)=>(0,T.I)({queryKey:[E,M(e)],queryFn:()=>B({data:e}),...null!=t?t:{}});var _=a(11614),R=a.n(_),L=a(64450);let I=e=>{var t;let a=(0,i.aT)();(0,d.V)("fermion-school"===a.websiteType);let{pathname:b}=(0,m.a8)();P({});let g=(0,r.useRef)(!1);(0,r.useEffect)(()=>{g.current||(g.current=!0,fetch("https://backend.codedamn.com/robots.txt").then(async e=>{let t=await e.text();403===e.status&&t.includes("Request blocked")&&(0,L.S)({shouldDisallowUserDismiss:!0,title:"Your IP address is restricted",message:(0,o.jsxs)(o.Fragment,{children:["Sorry but our system has detected dangerous abuse activity from this IP address. To preserve our systems, in accordance with our terms, our system has decided to block your access.",(0,o.jsx)("br",{}),(0,o.jsx)("br",{})," You ",(0,o.jsx)("b",{children:"will not"})," be able to use this website anymore from this IP address. If this is a mistake, please reach out to the site administrator immediately."]})})}).catch(()=>{}))},[]),(0,r.useLayoutEffect)(()=>{if(null!=e.bodyClass)try{document.body.classList.add(...e.bodyClass.split(" "))}catch(e){console.error("Error adding class to body",e)}return()=>{if(null!=e.bodyClass)try{document.body.classList.remove(...e.bodyClass.split(" "))}catch(e){console.error("Error removing class from body",e)}}},[e.bodyClass]),(0,r.useLayoutEffect)(()=>{if(null!=e.htmlClass)try{var t;null===(t=document.querySelector("html"))||void 0===t||t.classList.add(...e.htmlClass.split(" "))}catch(e){console.error("Error adding class to body",e)}return()=>{if(null!=e.htmlClass)try{var t;null===(t=document.querySelector("html"))||void 0===t||t.classList.remove(...e.htmlClass.split(" "))}catch(e){console.error("Error removing class from body",e)}}},[e.htmlClass]);let p=(0,r.useRef)(!1);(0,r.useEffect)(()=>{if(p.current)return;let e=new URL(window.location.href),t=e.searchParams.get("force-auth-token");if(null!=t&&""!==t.trim()){p.current=!0,(0,s.W7)("Logging in... Please wait."),(0,h.g)({authToken:t}),e.searchParams.delete("force-auth-token"),"/force-auth"===e.pathname&&(e.pathname="/");let a=e.toString();(0,u.Mi)(a)}},[]);let f="string"==typeof e.mobilePwaThemeColor?e.mobilePwaThemeColor.split("-")[1]:void 0;return(0,o.jsxs)("div",{className:(0,n.default)(e.rootDivClass,"antialiased"),children:[e.shouldEnableHeader?(0,o.jsx)("div",{className:(0,n.default)("md"===e.desktopToMobileHeaderBreakpointClass||null==e.desktopToMobileHeaderBreakpointClass?"md:hidden":"lg"===e.desktopToMobileHeaderBreakpointClass?"lg:hidden":(0,l.cg)(e.desktopToMobileHeaderBreakpointClass)),children:e.mobileHeader}):null,e.shouldEnableHeader?(0,o.jsx)("div",{className:(0,n.default)("md"===e.desktopToMobileHeaderBreakpointClass||null==e.desktopToMobileHeaderBreakpointClass?"hidden md:block":"lg"===e.desktopToMobileHeaderBreakpointClass?"hidden lg:block":(0,l.cg)(e.desktopToMobileHeaderBreakpointClass)),children:e.desktopHeader}):null,(0,o.jsxs)("div",{children:[e.shouldEnableSidebar?(0,o.jsx)("div",{className:(0,n.default)("block","md"===e.desktopToMobileSidebarBreakpointClass||null==e.desktopToMobileSidebarBreakpointClass?"md:hidden":"lg"===e.desktopToMobileSidebarBreakpointClass?"lg:hidden":(0,l.cg)(e.desktopToMobileSidebarBreakpointClass)),children:e.mobileSidebarTurnedNavigation}):null,(0,o.jsxs)("main",{className:"flex w-full flex-row h-full",children:[e.shouldEnableSidebar?(0,o.jsx)("div",{className:(0,n.default)("flex-shink-0","md"===e.desktopToMobileSidebarBreakpointClass||null==e.desktopToMobileSidebarBreakpointClass?"md:block hidden":"lg"===e.desktopToMobileSidebarBreakpointClass?"lg:block hidden":(0,l.cg)(e.desktopToMobileSidebarBreakpointClass)),children:e.desktopSidebar}):null,(0,o.jsxs)("section",{className:"flex-grow",children:[e.children,a.fermionSchoolConfig.enabledFeatures.includes("whitelabeled-footer-branding")||e.shouldForceHideFermionBrandingInFooter||b.startsWith("/instructor/")?null:(0,o.jsxs)("div",{className:"text-center py-4 bg-gray-50 text-gray-800 dark:text-gray-100 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:[(0,o.jsx)(u.N_,{unsafeHref:"https://fermion.app",target:"_blank",children:(0,o.jsx)(c.$,{variant:"outline",className:"bg-white text-gray-800 dark:text-gray-100 dark:bg-gray-800",children:"Powered by Fermion"})}),(0,o.jsx)("p",{className:"text-xs mt-2",children:"Build your tech brand with live classes, coding labs, and more."})]})]})]})]}),(0,o.jsx)(N,{}),(0,o.jsx)(s.l$,{}),b.startsWith("/instructor")?null:(0,o.jsx)("div",{"data-testid":"custom-code",dangerouslySetInnerHTML:{__html:null!==(t=a.fermionSchoolConfig.customScriptToInjectInAllPages)&&void 0!==t?t:""}}),(0,o.jsxs)(R(),{children:[(0,o.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"}),(0,o.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),null==f?null:(0,o.jsx)("meta",{name:"theme-color",content:f})]})]})}},18078:(e,t,a)=>{a.d(t,{g:()=>s});var o=a(64772),r=a(9612);function s(e){let{authToken:t}=e;try{(0,r.setCookie)(null,"AUTH_TOKEN",t,{path:"/"}),window.localStorage.setItem(o.V9,t)}catch(e){console.error("Error with setAuthDataIntoBrowserStorage",e)}}},53996:(e,t,a)=>{a.d(t,{EQ:()=>o.E,H3:()=>r});var o=a(80941);let r=e=>{(0,o.H)(e)}},55030:(e,t,a)=>{a.d(t,{A2:()=>d,H4:()=>l,W7:()=>i,l$:()=>o.l$,oR:()=>o.oR,v0:()=>n,zI:()=>s});var o=a(56368);let r="bottom-right",s=e=>{r=e},l=()=>{r="bottom-right"},n=(e,t)=>{o.oR.success(e,{className:"!max-w-none [&_*]:!max-w-none",position:r,action:null==t?void 0:t.action})},i=(e,t)=>{o.oR.info(e,{className:"!max-w-none [&_*]:!max-w-none",position:r,action:null==t?void 0:t.action})},d=(e,t)=>{o.oR.error(e,{className:"!max-w-none [&_*]:!max-w-none",position:r,duration:t})}}}]);