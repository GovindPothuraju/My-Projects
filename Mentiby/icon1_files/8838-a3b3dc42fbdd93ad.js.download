"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8838],{88272:(e,t,s)=>{s.d(t,{XA:()=>_,C4:()=>Q,DI:()=>G,AX:()=>U});var r=s(63159),a=s(36205),l=s(50301),o=s(35284),n=s(74261),i=s(11855),c=s(72469),u=s(61556),m=s(32018),d=s(12154),f=s(17176),x=s(12416),h=s(64772),p=s(13709),g=s(48532),y=s(64966),v=s(18777),b=s(22038);let S="fermion-user",w="get-all-course-item-resource",C="".concat(S,"-").concat(w),j=e=>({context:{namespace:S,functionName:w},data:e}),N=async e=>{let t;let s=j(e),r=(0,a.Cm)()||null,l=(0,a.d)()||null,o=(0,h.G0)()||null;try{t=await v.Ay.request({method:"POST",baseURL:(0,b.Pb)(),data:{organizationId:r,fermionSchoolId:l,authToken:o,data:[s]}}).then(e=>e.data).then(e=>{var t;return(null===(t=e.at(0))||void 0===t?void 0:t.output)||null})}catch(e){throw{errorMessage:(null==e?void 0:e.message)||"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!0}}if(!t)throw{errorMessage:"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!1};if("ok"===t.status)return t.data;throw{...t,isNetworkError:!1}},k=async e=>{let{data:t,forceOverrideAuthToken:s,shouldEnableBatching:r=!0}=e;if(!r)return await N(t);{let e=j(t),r=(0,b.zL)(t),l=(0,a.Cm)()||null,o=(0,a.d)()||null,n=s||(0,h.G0)()||null;return await b.l3.fetch({batchingUniqueKey:r,organizationId:l,fermionSchoolId:o,authToken:n,data:e}).then(e=>e)}},I=(e,t)=>(0,y.I)({queryKey:[C,j(e)],queryFn:()=>k({data:e}),...null!=t?t:{}});var D=s(44384),A=s(62494),T=s(7183),M=s(70731),L=s(15676),z=s(2085),P=s(74218),E=s(96433),q=s(39047),V=s(11109),W=s(54626),Y=s(15699),B=s(79939),R=s(47723);function F(e){let{filterSearchTerm:t,completedItemsSet:s}=e,r=u.Ay.getState().staticData;(0,l.V)(r,"staticData cannot be null");let a=[];if("CohortBasedCourse"===r.courseMetadata.courseTypeSpecificData.type)for(let e of(0,A.G)({cohortEndDate:r.courseMetadata.courseTypeSpecificData.cohortEndAt,cohortStartDate:r.courseMetadata.courseTypeSpecificData.cohortStartAt,syllabusData:r.allCourseItems})){if(0===e.items.length)continue;let l=[],o=0;for(let a of r.allCourseItems)e.items.some(e=>e.fermionCourseItemSlug===a.fermionCourseItemSlug)&&(""===t?(s.has(a.fermionCourseItemSlug)&&o++,l.push(a)):a.title.toLowerCase().includes(t)&&(s.has(a.fermionCourseItemSlug)&&o++,l.push(a)));if(0===l.length);else{let t=(0,g.LV)((0,g.Ay)(e.toIsoString))&&(0,g.ql)((0,g.Ay)(e.fromIsoString));a.push({completedCourseItemInSectionCount:o,isSectionActive:t,separatorLabel:"".concat(e.weekTitle," (").concat(t?"ongoing":"".concat((0,g.Ay)(e.fromIsoString).format("Do MMM")," - ").concat((0,g.Ay)(e.toIsoString).format("Do MMM")),")"),courseItems:l})}}else if("RecordedCourse"===r.courseMetadata.courseTypeSpecificData.type)for(let e of(0,z.Q)({syllabusData:r.allCourseItems})){let l=[],o=0;for(let a of r.allCourseItems)e.items.some(e=>e.fermionCourseItemSlug===a.fermionCourseItemSlug)&&(s.has(a.fermionCourseItemSlug)&&o++,""===t?l.push(a):(a.title.toLowerCase().includes(t)||"RecordedCourse"===a.courseTypeSpecificCourseItemData.courseType&&a.courseTypeSpecificCourseItemData.sectionName.toLowerCase().includes(t))&&l.push(a));0===l.length||a.push({completedCourseItemInSectionCount:o,isSectionActive:!1,separatorLabel:e.sectionName,courseItems:l})}else(0,h.cg)(r.courseMetadata.courseTypeSpecificData);return a}let O=e=>{let t,s,{item:a,onClick:l}=e,[f,p]=(0,i.useState)(!1),{courseSlug:y}=(0,m.A)("/course/[courseSlug]/[courseItemSlug]"),v=a.fermionCourseItemSlug,{pathname:b}=(0,P.a8)(),S=(0,u.Ay)(e=>{var t;return null===(t=e.dynamicData)||void 0===t?void 0:t.completedCourseItemSlugs}),w=(0,u.Ay)(e=>{var t;return null===(t=e.dynamicData)||void 0===t?void 0:t.enrollmentState}),C=(0,u.Ay)(e=>{var t;return null===(t=e.dynamicData)||void 0===t?void 0:t.courseItemSlugBeingMarkedAsDone}),j=(0,W.u)({pathname:"/course/:slug1/:slug2",slug1:y,slug2:a.fermionCourseItemSlug})===b,{data:N}=I({fermionCourseItemSlug:a.fermionCourseItemSlug,fermionCourseSlug:y},{enabled:f}),k=null==S?void 0:S.has(a.fermionCourseItemSlug);if("available"===a.courseItemAvailabilityState.status){if("Article"===a.type)t=c.ith,s="Article";else if("Lab"===a.type)t=c.luQ,s="Coding lab";else if("Contest"===a.type)t=R.r5b,s="Contest";else if("LiveClass"===a.type)t=x.Me4,s="Live class";else if("LiveEvent"===a.type)t=R.DDb,s="Live event";else if("Quiz"===a.type)t=c.XyC,s="Quiz";else if("Video"===a.type){var A;t=c.XKH,s="Video (".concat(g.Ay.duration(null!==(A=a.videoDurationInSeconds)&&void 0!==A?A:0,"seconds").format("m"),"m)")}else"Ebook"===a.type?(t=c.sGl,s="eBook"):(0,h.cg)(a.type)}else"unavailable"===a.courseItemAvailabilityState.status?"content-drips-in-future"===a.courseItemAvailabilityState.reason?(s="Unlocks in future",t=M.o5f):"paid-item-and-you-are-unenrolled-user"===a.courseItemAvailabilityState.reason?(s="Enrollment required",t=B.Lx0):"quiz-exam-constraint-failed"===a.courseItemAvailabilityState.reason?(t=B.Lx0,s="Previous quiz exam pending"):"video-constraint-failed"===a.courseItemAvailabilityState.reason?(t=B.Lx0,s="Previous video pending"):(0,h.cg)(a.courseItemAvailabilityState.reason):(0,h.cg)(a.courseItemAvailabilityState);let T=[],z=[],E=C===v;return"available"===a.courseItemAvailabilityState.status&&(k?T.push((0,r.jsx)(L.v,{placement:"right",content:"Mark as not done",className:"flex-shrink-0",disabled:E,children:(0,r.jsx)("div",{"data-custom-css-class":"course-item-mark-as-not-done-checkbox",className:(0,o.default)("flex-shrink-0 mr-px bg-gray-700 text-gray-100 p-1 rounded-md hover:bg-gray-700 hover:text-white cursor-pointer",E?"opacity-50":""),onClick:e=>{e.stopPropagation(),e.preventDefault(),(0,u.YF)({courseItemSlug:v,shouldMarkItemAsCompleted:!1,shouldRedirectToNextCourseItem:!1})},children:(0,r.jsx)(M.y8W,{size:14})})})):T.push((0,r.jsx)(L.v,{placement:"right",content:"Mark as done",className:"flex-shrink-0",disabled:E,children:(0,r.jsx)("div",{"data-custom-css-class":"course-item-mark-as-done-checkbox",className:(0,o.default)("flex-shrink-0 mr-px text-gray-500 p-1 rounded-md hover:bg-gray-700 hover:text-white cursor-pointer",E?"opacity-50":""),onClick:e=>{e.stopPropagation(),e.preventDefault(),(0,u.YF)({courseItemSlug:v,shouldMarkItemAsCompleted:!0,shouldRedirectToNextCourseItem:!1})},children:(0,r.jsx)(M.y8W,{size:14})})}))),"available"===a.courseItemAvailabilityState.status&&a.courseItemResourcesCount>0&&z.push((0,r.jsx)("span",{onClick:e=>{e.stopPropagation(),e.preventDefault(),p(e=>!e)},className:"flex-shrink-0 text-gray-500 cursor-pointer px-2 py-2 rounded-md hover:bg-gray-700 hover:text-white",children:f?(0,r.jsx)(d.WQq,{size:18}):(0,r.jsx)(d.TQG,{size:18})})),(0,r.jsx)(n.N_,{safeHref:{pathname:"/course/:slug1/:slug2",slug1:y,slug2:a.fermionCourseItemSlug},onClick:l,shouldPerformHardNavigation:"Lab"===a.type,"data-custom-css-class":"course-item--state-".concat(k?"complete":"incomplete","--type-").concat(a.type.toLowerCase(),"-v2"),children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:(0,o.default)("flex items-center px-3 py-1",j?"bg-slate-800 text-white":"text-gray-300 hover:bg-slate-800"),children:[T,(0,r.jsxs)("div",{className:"flex flex-col flex-grow gap-2 pl-2",children:[(0,r.jsx)("span",{className:"flex-1 text-sm font-[300]",children:a.title}),(0,r.jsxs)("span",{className:"flex-shrink-0 flex flex-row gap-1 items-center text-gray-400",children:[(0,r.jsx)("span",{children:"enrolled"===w||"for-instructor"===w?(0,r.jsx)(t,{size:14}):null==w||"not-enrolled"===w||"not-found"===w||"free-preview"===w?a.isFreePreviewEnabled?(0,r.jsx)(t,{size:14}):(0,r.jsx)(B.Lx0,{size:14}):(0,h.cg)(w)}),(0,r.jsxs)("span",{className:"text-[12px]",children:[s," "]})]})]}),z]}),f?(0,r.jsx)("div",{className:"text-gray-300 px-3 bg-gray-900 rounded-md py-2 mb-2 mx-2",children:(null==N?void 0:N.resources)==null?(0,r.jsx)("div",{className:"w-full h-[100px] flex justify-center items-center text-white",children:(0,r.jsx)(D.y,{className:"w-[30px] h-[30px]"})}):(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm mb-2",children:"Click to download:"}),N.resources.map((e,t)=>(0,r.jsxs)("a",{onClick:t=>{t.stopPropagation(),t.preventDefault(),window.open(e.downloadLink,"_blank")},href:e.downloadLink,target:"_blank",rel:"noreferrer nofollow",className:"hover:underline text-xs",children:[t+1,". ",e.name]},e.courseItemResourceId))]})}):null]})})},H=e=>{let{item:t,totalSections:s,totalCourseItems:a,onCourseItemRowClick:l,onSectionOpen:n}=e,c=(0,i.useRef)(null),u=(0,q.M)("is-section-collapsed-".concat(t.separatorLabel),{defaultValue:()=>!t.isSectionActive&&s>5&&a>25}),{courseItemSlug:d}=(0,m.A)("/course/[courseSlug]/[courseItemSlug]"),x=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{null!=u&&null!=c.current&&!x.current&&(x.current=!0,t.courseItems.some(e=>e.fermionCourseItemSlug===d)&&(null==u||u.setValue(!1),setTimeout(()=>{null!=c.current&&c.current.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})},100)))},[d,u,t.courseItems]),(0,r.jsxs)("div",{className:(0,o.default)("border-b border-gray-800"),children:[(0,r.jsxs)("div",{ref:c,className:"px-4 py-4 text-gray-100 bg-zinc-900 cursor-pointer flex flex-row items-center gap-1 sticky top-[120px] scroll-mt-[120px]",onClick:()=>{null==u||u.setValue(e=>(!0===e&&(null==n||n(c.current)),!e))},children:[(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("div",{className:"text-[14px] font-semibold",children:t.separatorLabel}),(0,r.jsxs)("div",{className:"text-xs mt-1 text-gray-400",children:[t.completedCourseItemInSectionCount,"/",t.courseItems.length," item",1===t.courseItems.length?"":"s"]})]}),(0,r.jsx)("div",{className:"flex-shrink-0",children:(null==u?void 0:u.value)?(0,r.jsx)(f.Cje,{size:18}):(0,r.jsx)(f.p$I,{size:18})})]}),(null==u?void 0:u.value)?null:t.courseItems.map(e=>(0,r.jsx)(O,{onClick:l,item:e},e.fermionCourseItemSlug))]})},_=()=>{let{pathname:e}=(0,P.a8)(),t=(0,u.Ay)(e=>e.staticData);(0,l.V)(t,"staticData cannot be null");let{courseSlug:s,allCourseItems:m}=t;(0,l.V)(s,"courseSlug not found");let d=(0,a.aT)();(0,l.V)("fermion-school"===d.websiteType);let[x,h]=(0,i.useState)(!1),y=(0,i.useMemo)(()=>{for(let t of m)if("CohortBasedCourse"===t.courseTypeSpecificCourseItemData.courseType){if("LiveEvent"===t.type){if(null!=t.sessions.find(e=>"Fermion"===e.platformSpecificData.platform&&("AllStreamsDisconnectedFromLiveToAll"===e.platformSpecificData.status||"StartingLiveStreamServers"===e.platformSpecificData.status||"WaitingForStream"===e.platformSpecificData.status||"StreamingLiveToAll"===e.platformSpecificData.status)))return t}else if("LiveClass"===t.type){let r=t.liveClassStartAt,a=t.liveClassEndAt;if((0,g.ql)((0,g.Ay)(r).subtract(5,"minutes"))&&(0,g.LV)(a)){if(e===(0,W.u)({pathname:"/course/:slug1/:slug2",slug1:s,slug2:t.fermionCourseItemSlug}))return null;return t}}}else break;return null},[m,s,e]),v=(0,i.useMemo)(()=>{for(let t of m)if("CohortBasedCourse"===t.courseTypeSpecificCourseItemData.courseType){if("LiveEvent"===t.type){if(null!=t.sessions.find(e=>{let t=(0,g.Ay)(e.startAtIsoString);return!!((0,g.ql)(t.subtract(30,"minutes"))&&(0,g.LV)(t.add(e.durationInSecs,"seconds")))}))return t;break}if("LiveClass"===t.type){let r=t.liveClassStartAt,a=t.liveClassEndAt;if((0,g.ql)((0,g.Ay)(r).subtract(6,"hours"))&&(0,g.LV)(a)){if(e===(0,W.u)({pathname:"/course/:slug1/:slug2",slug1:s,slug2:t.fermionCourseItemSlug}))return null;return t}}}else break;return null},[m,s,e]),b=(0,u.Ay)(e=>{var t;return null===(t=e.dynamicData)||void 0===t?void 0:t.completedCourseItemSlugs}),[S,w]=(0,i.useState)(""),C=(0,i.useMemo)(()=>F({filterSearchTerm:S.trim(),completedItemsSet:null!=b?b:new Set}),[b,S]),j=(0,i.useRef)(null),N=(0,i.useRef)(null);return((0,Y.vC)("mod+k",()=>{var e;null===(e=N.current)||void 0===e||e.focus()}),x)?(0,r.jsx)(L.v,{content:"Open sidebar",placement:"right",children:(0,r.jsx)("div",{onClick:()=>{h(!1)},className:"flex-1 flex flex-col justify-center items-center cursor-pointer hover:text-white hover:bg-gray-700 bg-black text-gray-200 min-h-screen w-[40px] sticky top-0",children:(0,r.jsx)(p.X6T,{size:32})})}):(0,r.jsx)("div",{className:"flex-1 flex flex-col bg-[#0d0d0c] w-[250px] lg:w-[300px] xl:w-[400px] h-screen overflow-y-auto sticky top-0 z-[999]",children:(0,r.jsxs)("div",{ref:j,className:"flex-1 flex flex-col pb-4 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center h-[60px] flex-shrink-0 px-4 text-white sticky top-0 bg-[#0d0d0c] z-[9999] border-b border-zinc-800",children:[(0,r.jsx)("span",{className:"flex-grow",children:"Course content"}),(0,r.jsx)(L.v,{content:"Close sidebar",children:(0,r.jsx)("span",{className:"cursor-pointer flex-shrink-0",onClick:()=>{h(!0)},children:(0,r.jsx)(V.$8F,{size:24})})})]}),(0,r.jsxs)("nav",{className:"flex-1 bg-[#0d0d0c] flex flex-col pt-4","aria-label":"Sidebar",children:[(0,r.jsxs)(n.N_,{safeHrefPathname:"/user/my-courses",className:(0,o.default)("text-gray-300 hover:bg-gray-700 hover:text-white","group flex items-center mx-2 px-2 py-2 text-sm font-[300] rounded-md gap-2 mt-2"),children:[(0,r.jsxs)("span",{className:"flex-shrink-0",children:[(0,r.jsx)(f.zS0,{size:18})," "]}),(0,r.jsx)("span",{className:"flex-1",children:"Back to dashboard"})]}),(0,r.jsxs)(n.N_,{safeHref:{pathname:"/course/:slug/start",slug:s},className:(0,o.default)((0,W.u)({pathname:"/course/:slug/start",slug:s})===e?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","group flex items-center mx-2 px-2 py-2 text-sm font-[300] rounded-md gap-2 mt-2"),children:[(0,r.jsxs)("span",{className:"flex-shrink-0",children:[(0,r.jsx)(p.rQ8,{size:18})," "]}),(0,r.jsx)("span",{className:"flex-1",children:"Start here"})]}),null!=y?(0,r.jsx)(n.N_,{safeHref:{pathname:"/course/:slug1/:slug2",slug1:s,slug2:y.fermionCourseItemSlug},className:(0,o.default)("text-gray-300","group px-4 py-2 text-sm font-[300] rounded-md gap-2 mt-2"),children:(0,r.jsxs)("span",{className:"flex-1 flex flex-row items-center gap-2",children:[(0,r.jsx)("span",{className:"bg-red-400 animate-pulse flex-shrink-0 w-[10px] h-[10px] rounded-full block"})," ",(0,r.jsxs)("span",{className:"flex-grow",children:[(0,r.jsx)("span",{className:"uppercase font-[600]",children:"Live now:"})," ",y.title]})]})}):null!=v?(0,r.jsx)(n.N_,{safeHref:{pathname:"/course/:slug1/:slug2",slug1:s,slug2:v.fermionCourseItemSlug},className:(0,o.default)("text-gray-300","group px-4 py-2 text-sm font-[300] rounded-md gap-2 mt-2"),children:(0,r.jsxs)("span",{className:"flex-1 flex flex-row items-center gap-2",children:[(0,r.jsx)("span",{className:"bg-gray-400 animate-pulse flex-shrink-0 w-[10px] h-[10px] rounded-full block"})," ",(0,r.jsxs)("span",{className:"flex-grow",children:[(0,r.jsx)("span",{className:"uppercase font-[600]",children:"Upcoming live:"})," ",v.title]})]})}):null,(0,r.jsx)("div",{className:"sticky mt-2 top-[60px] h-[60px] flex justify-center items-center bg-[#0d0d0c] z-[9999] border-b border-zinc-800",children:(0,r.jsxs)("div",{className:"mx-4 relative flex items-center w-full",children:[(0,r.jsx)("input",{type:"text",name:"search",value:S,onChange:e=>w(e.target.value),ref:N,autoComplete:"off",className:"shadow-sm text-gray-200 focus:ring-indigo-400 focus:border-indigo-400 block w-full pr-12 sm:text-sm border-gray-600 bg-gray-800 rounded-md",placeholder:"Quick search"}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex py-1.5 pr-1.5",children:(0,r.jsxs)("kbd",{className:"inline-flex items-center border border-gray-600 rounded px-2 text-sm font-sans font-medium text-gray-400",children:[" ","Ctrl+K"," "]})})]})}),(0,r.jsx)("div",{children:0===C.length?(0,r.jsxs)("div",{className:"relative mt-4 border border-gray-500 border-dashed rounded-lg flex-1 flex flex-col justify-center items-center px-4 text-center py-2 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 mx-4",children:[(0,r.jsx)("span",{className:"text-3xl text-center flex justify-center items-center text-white",children:(0,r.jsx)(c.I$6,{})}),""===S?(0,r.jsxs)("span",{className:"mt-4 block text-sm font-medium text-gray-400",children:["Course is yet to start",(0,r.jsx)("br",{}),"Check back soon!"]}):(0,r.jsx)("span",{className:"mt-4 block text-sm font-medium text-gray-400",children:"No search results found"})]}):(0,r.jsx)("div",{className:"flex flex-col",children:C.map((e,t)=>(0,r.jsx)(H,{completedCourseItemInSectionCount:e.completedCourseItemInSectionCount,onSectionOpen:e=>{null!=e&&null!=j.current&&setTimeout(()=>{e.scrollIntoView({block:"start",inline:"start",behavior:"smooth"})},100)},totalSections:C.length,totalCourseItems:m.length,item:e},t))})})]})]})})},G=()=>{let{pathname:e}=(0,P.a8)(),[t,s]=(0,i.useState)(!1),m=(0,u.Ay)(e=>e.staticData);(0,l.V)(m,"staticData cannot be null");let{courseSlug:x,allCourseItems:h}=m;(0,l.V)(x,"courseSlug not found");let g=(0,a.aT)();(0,l.V)("fermion-school"===g.websiteType);let y=(0,u.Ay)(e=>{var t;return null===(t=e.dynamicData)||void 0===t?void 0:t.completedCourseItemSlugs}),[v,b]=(0,i.useState)(""),S=(0,i.useMemo)(()=>F({filterSearchTerm:v.trim(),completedItemsSet:null!=y?y:new Set}),[y,v]),w=(0,i.useRef)(null);return(0,r.jsx)("div",{id:"fermion-course-item-mobile-sidebar",className:(0,o.default)("flex-1 flex flex-col bg-[#0d0d0c] w-full",t?"h-screen fixed top-0 left-0 z-[9999999]":""),children:(0,r.jsxs)("div",{ref:w,className:"flex-1 flex flex-col pb-4 overflow-y-auto",children:[(0,r.jsxs)("div",{className:(0,o.default)("flex items-center flex-shrink-0 px-2 bg-[#0d0d0c] text-white font-[300] text-2xl tracking-tighter",t?"sticky top-0 py-5 z-[9999]":"pt-5"),children:[(0,r.jsx)("div",{className:"px-2 cursor-pointer",onClick:()=>s(e=>!e),children:t?(0,r.jsx)(d.WQq,{}):(0,r.jsx)(f.NYi,{})}),t?(0,r.jsxs)("span",{onClick:()=>{s(e=>!e)},className:"flex items-center gap-2","data-custom-css-class":"header-logo-course-item-sidebar-mobile",children:[(0,r.jsx)(E.A,{alt:"Website logo",src:g.fermionSchoolConfig.iconUrl,width:32,height:32,strictDimensions:!0}),(0,r.jsx)("span",{children:g.fermionSchoolConfig.name})]}):(0,r.jsxs)(n.N_,{safeHrefPathname:"/user/my-courses","data-custom-css-class":"header-logo-course-item-sidebar-mobile",className:"flex items-center gap-2",children:[(0,r.jsx)(E.A,{alt:"Website logo",src:g.fermionSchoolConfig.iconUrl,width:32,height:32,strictDimensions:!0}),(0,r.jsx)("span",{children:g.fermionSchoolConfig.name})]})]}),t?(0,r.jsxs)("nav",{className:"flex-1 bg-[#0d0d0c] flex flex-col","aria-label":"Sidebar",children:[(0,r.jsxs)(n.N_,{safeHref:{pathname:"/course/:slug/start",slug:x},onClick:()=>{s(!1)},className:(0,o.default)((0,W.u)({pathname:"/course/:slug/start",slug:x})===e?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","group flex items-center mx-2 px-2 py-2 text-sm font-[300] rounded-md gap-2"),children:[(0,r.jsxs)("span",{className:"flex-shrink-0",children:[(0,r.jsx)(p.rQ8,{size:18})," "]}),(0,r.jsx)("span",{className:"flex-1",children:"Start here"})]}),(0,r.jsx)("div",{className:"sticky mt-2 top-[60px] h-[60px] flex justify-center items-center bg-[#0d0d0c] z-[9999] border-b border-zinc-800",children:(0,r.jsx)("div",{className:"mx-4 relative flex items-center w-full",children:(0,r.jsx)("input",{type:"search",name:"search",value:v,onChange:e=>b(e.target.value),autoComplete:"off",className:"shadow-sm text-gray-200 focus:ring-indigo-400 focus:border-indigo-400 block w-full sm:text-sm border-gray-600 bg-gray-800 rounded-md",placeholder:"Quick search"})})}),0===S.length?(0,r.jsxs)("div",{className:"relative mt-4 border border-gray-500 border-dashed rounded-lg flex-1 flex flex-col justify-center items-center px-4 text-center py-2 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 mx-4",children:[(0,r.jsx)("span",{className:"text-3xl text-center flex justify-center items-center text-white",children:(0,r.jsx)(c.I$6,{})}),""===v?(0,r.jsxs)("span",{className:"mt-4 block text-sm font-medium text-gray-400",children:["Course is yet to start",(0,r.jsx)("br",{}),"Check back soon!"]}):(0,r.jsx)("span",{className:"mt-4 block text-sm font-medium text-gray-400",children:"No search results found"})]}):(0,r.jsx)("div",{className:"flex flex-col",children:S.map((e,t)=>(0,r.jsx)(H,{completedCourseItemInSectionCount:e.completedCourseItemInSectionCount,onCourseItemRowClick:()=>{s(!1)},onSectionOpen:e=>{null!=e&&null!=w.current&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})},100)},totalSections:S.length,totalCourseItems:h.length,item:e},t))})]}):null]})})},Q=()=>{let[e,t]=(0,i.useState)(!1),s=(0,a.aT)();return((0,l.V)("fermion-school"===s.websiteType),e)?(0,r.jsx)("div",{onClick:()=>{t(!1)},className:"flex-1 flex flex-col justify-center items-center cursor-pointer hover:text-white opacity-80 hover:bg-gray-900 bg-[#0d0d0c] text-gray-200 min-h-screen w-[50px] sticky top-0",children:(0,r.jsx)(p.X6T,{size:32})}):(0,r.jsx)("div",{className:"flex-1 flex flex-col bg-[#0d0d0c] w-[250px] lg:w-[300px] xl:w-[400px] h-screen overflow-y-auto sticky top-0 z-[999]",children:(0,r.jsxs)("div",{className:"flex-1 flex flex-col pb-4 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center h-[60px] flex-shrink-0 px-4 text-white sticky top-0 bg-[#0d0d0c] z-[9999] border-b border-zinc-700",children:[(0,r.jsx)("span",{className:"flex-grow",children:"Course content"}),(0,r.jsx)(L.v,{content:"Close sidebar",children:(0,r.jsx)("span",{className:"cursor-pointer flex-shrink-0",onClick:()=>{t(!0)},children:(0,r.jsx)(V.$8F,{size:24})})})]}),(0,r.jsx)("nav",{className:"mt-5 flex-1 px-2 bg-[#0d0d0c] space-y-1 flex flex-col gap-2","aria-label":"Sidebar",children:(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsx)("div",{className:"flex flex-col gap-4",children:[,,,,].fill(0).map((e,t)=>(0,r.jsx)(T.E,{shouldRenderInDarkMode:!0,className:"w-full h-[36px]"},t))})})})]})})},U=()=>{let[e,t]=(0,i.useState)(!1),s=(0,a.aT)();return(0,l.V)("fermion-school"===s.websiteType),(0,r.jsx)("div",{className:"flex-1 flex flex-col bg-[#0d0d0c] w-full",children:(0,r.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center flex-shrink-0 px-2 text-white font-[300] text-2xl tracking-tighter",children:[(0,r.jsx)("div",{className:"px-2 cursor-pointer",onClick:()=>t(e=>!e),children:e?(0,r.jsx)(d.WQq,{}):(0,r.jsx)(f.NYi,{})}),(0,r.jsxs)(n.N_,{safeHrefPathname:"/user/my-courses",className:"flex items-center gap-2","data-custom-css-class":"header-logo-course-item-sidebar-mobile",children:[(0,r.jsx)(E.A,{alt:"Website logo",src:s.fermionSchoolConfig.iconUrl,width:32,height:32,strictDimensions:!0}),(0,r.jsx)("span",{children:s.fermionSchoolConfig.name})]})]}),e?(0,r.jsx)("nav",{className:"mt-5 flex-1 bg-[#0d0d0c] space-y-1 flex flex-col gap-2","aria-label":"Sidebar",children:(0,r.jsx)("div",{className:"flex flex-col gap-4",children:[,,,,].fill(0).map((e,t)=>(0,r.jsx)(T.E,{shouldRenderInDarkMode:!0,className:"w-full h-[36px]"},t))})}):null]})})}},2085:(e,t,s)=>{function r(e){let{syllabusData:t}=e,s=[];for(let e of t){let t=s.find(t=>t.sectionName===e.courseTypeSpecificCourseItemData.sectionName);null==t?s.push({sectionName:e.courseTypeSpecificCourseItemData.sectionName,items:[e]}):t.items.push(e)}return s}function a(e){let{syllabusData:t}=e,s=[];for(let e of t){let t=s.find(t=>t.sectionName===e.courseTypeSpecificCourseItemData.sectionName);null==t?s.push({sectionName:e.courseTypeSpecificCourseItemData.sectionName,items:[e]}):t.items.push(e)}return s}s.d(t,{A:()=>r,Q:()=>a})},62494:(e,t,s)=>{s.d(t,{G:()=>l,a:()=>a});var r=s(48532);function a(e){let{syllabusData:t,cohortStartDate:s,cohortEndDate:a}=e,l=[],o=(0,r.Ay)(s).startOf("day"),n=(0,r.Ay)(a).endOf("day");if(o.isAfter(n))throw Error("Cohort start date cannot be after end date: ".concat(o.format("DD MMM YYYY")," -> ").concat(n.format("DD MMM YYYY")));let i=o,c=1;for(;i.isBefore(n)||i.isSame(n,"day");){let e=i,t=i.add(6,"day").isAfter(n)?n:i.add(6,"day");l.push({weekTitle:"Week ".concat(c),fromIsoString:e.toISOString(),toIsoString:t.toISOString(),middleDateInsertionIsoString:e.add(3,"days").toISOString(),fromLabel:e.format("MMM D"),toLabel:t.format("MMM D"),items:[]}),i=t.add(1,"day"),c++}if(0===l.length)return[];for(let e of t){let t=(0,r.Ay)(e.courseTypeSpecificCourseItemData.cohortBasedCourseItemWeekDateTime).diff(o,"week",!0);t<0?l[0].items.push(e):t>=l.length?l[l.length-1].items.push(e):l[Math.floor(t)].items.push(e)}return l.forEach(e=>{e.items.sort((e,t)=>e.courseTypeSpecificCourseItemData.cohortBasedCourseItemWeekDateTime===t.courseTypeSpecificCourseItemData.cohortBasedCourseItemWeekDateTime?0:new Date(e.courseTypeSpecificCourseItemData.cohortBasedCourseItemWeekDateTime).getTime()-new Date(t.courseTypeSpecificCourseItemData.cohortBasedCourseItemWeekDateTime).getTime())}),l}function l(e){let{syllabusData:t,cohortStartDate:s,cohortEndDate:a}=e,l=[],o=(0,r.Ay)(s).startOf("day"),n=(0,r.Ay)(a).endOf("day");if(o.isAfter(n))throw Error("Cohort start date cannot be after end date: ".concat(o.format("DD MMM YYYY")," -> ").concat(n.format("DD MMM YYYY")));let i=o,c=1;for(;i.isBefore(n)||i.isSame(n,"day");){let e=i,t=i.add(6,"day").isAfter(n)?n:i.add(6,"day");l.push({weekTitle:"Week ".concat(c),fromIsoString:e.toISOString(),toIsoString:t.toISOString(),middleDateInsertionIsoString:e.add(3,"days").toISOString(),fromLabel:e.format("MMM D"),toLabel:t.format("MMM D"),items:[]}),i=t.add(1,"day"),c++}if(0===l.length)return[];for(let e of t){let t=(0,r.Ay)(e.courseTypeSpecificCourseItemData.cohortBasedCourseItemWeekDateTime).diff(o,"week",!0);t<0?l[0].items.push(e):t>=l.length?l[l.length-1].items.push(e):l[Math.floor(t)].items.push(e)}return l.forEach(e=>{e.items.sort((e,t)=>e.courseTypeSpecificCourseItemData.cohortBasedCourseItemWeekDateTime===t.courseTypeSpecificCourseItemData.cohortBasedCourseItemWeekDateTime?0:new Date(e.courseTypeSpecificCourseItemData.cohortBasedCourseItemWeekDateTime).getTime()-new Date(t.courseTypeSpecificCourseItemData.cohortBasedCourseItemWeekDateTime).getTime())}),l}},69280:(e,t,s)=>{s.d(t,{j:()=>h});var r=s(63159),a=s(36205),l=s(50301),o=s(96433),n=s(61556),i=s(33345),c=s(64772),u=s(74261),m=s(77934),d=s(15676);let f=e=>{let{value:t}=e,s=Math.min(100,Math.max(0,t)),a=2*Math.PI*45;return(0,r.jsxs)("div",{className:"relative w-8 h-8",children:[(0,r.jsxs)("svg",{className:"w-full h-full -rotate-90",viewBox:"0 0 100 100",children:[(0,r.jsx)("circle",{className:"text-gray-200",strokeWidth:"10",stroke:"currentColor",fill:"transparent",r:"45",cx:"50",cy:"50"}),(0,r.jsx)("circle",{className:"text-blue-600",strokeWidth:"10",strokeDasharray:a,strokeDashoffset:a*(1-s/100),strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"45",cx:"50",cy:"50"})]}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-xs font-semibold",children:s})})]})},x=()=>{var e;let t=(0,n.Ay)(e=>{var t;return null===(t=e.dynamicData)||void 0===t?void 0:t.completedCourseItemSlugs}),s=(0,n.Ay)(e=>{var t;return null===(t=e.staticData)||void 0===t?void 0:t.courseMetadata.fermionDigitalProductId}),a=(0,n.Ay)(e=>{var t;return(null===(t=e.staticData)||void 0===t?void 0:t.courseMetadata.courseTypeSpecificData.type)==="RecordedCourse"?e.staticData.courseMetadata.courseTypeSpecificData.certificateConfig:null}),l=(0,n.Ay)(e=>{var t,s;return null!==(s=null===(t=e.staticData)||void 0===t?void 0:t.allCourseItems.length)&&void 0!==s?s:0}),o=Math.floor(100*(null!==(e=null==t?void 0:t.size)&&void 0!==e?e:0)/l)||0;return null==a?(0,r.jsxs)("span",{className:"cursor-pointer flex items-center gap-2",children:[(0,r.jsx)("span",{children:"Your progress:"}),(0,r.jsx)(f,{value:o})]}):"recorded-course"===a.productType?null==s||null==a||"do-not-issue"===a.issuePolicy.issuingLogic||a.issuePolicy.minimumCompletionRateForAutoIssue>o?(0,r.jsx)(d.v,{content:"Complete the course to get certificate",children:(0,r.jsxs)("span",{className:"cursor-pointer flex items-center gap-2",children:[(0,r.jsx)("span",{children:"Your progress:"}),(0,r.jsx)(f,{value:o})]})}):(0,r.jsx)(u.N_,{safeHref:{pathname:"/certificate/claim-digital-product",queryParams:{"digital-product-id":s}},children:(0,r.jsx)(m.$,{children:"Claim certificate"})}):"cohort-based-course"===a.productType?null:void(0,c.cg)(a)},h=()=>{let e=(0,a.aT)();(0,l.V)("fermion-school"===e.websiteType);let t=(0,n.Ay)(e=>e.staticData);return null==t?null:(0,r.jsxs)("div",{className:"lg:flex hidden lg:rounded-tl-2xl items-center py-5 flex-shrink-0 px-4 text-gray-800 bg-gray-100 z-[9999] border-b border-zinc-300 flex-row",children:[(0,r.jsx)(o.A,{src:e.fermionSchoolConfig.iconUrl,width:64,height:64,alt:"logo",className:"w-8 h-8"}),(0,r.jsx)("span",{className:"font-bold ml-2",children:e.fermionSchoolConfig.name}),(0,r.jsx)("span",{className:"mx-3 opacity-50",children:"•"}),(0,r.jsx)("span",{title:t.courseMetadata.name,children:t.courseMetadata.name.length>50?t.courseMetadata.name.slice(0,50)+"...":t.courseMetadata.name}),"CohortBasedCourse"===t.courseMetadata.courseTypeSpecificData.type?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"mx-3 opacity-50",children:"•"}),(0,r.jsx)(x,{})]}),(0,r.jsx)("div",{className:"flex-grow"}),e.fermionSchoolConfig.enabledFeatures.includes("xp-earning-ability")?(0,r.jsx)("div",{children:(0,r.jsx)(i.K,{})}):null]})}},61556:(e,t,s)=>{s.d(t,{Ay:()=>w,xt:()=>b,YF:()=>S});var r=s(41116),a=s(79662),l=s(64772),o=s(18777),n=s(22038),i=s(36205);let c="fermion-user",u="set-course-item-completion-state";"".concat(c,"-").concat(u);let m=e=>({context:{namespace:c,functionName:u},data:e}),d=async e=>{let t;let s=m(e),r=(0,i.Cm)()||null,a=(0,i.d)()||null,c=(0,l.G0)()||null;try{t=await o.Ay.request({method:"POST",baseURL:(0,n.Pb)(),data:{organizationId:r,fermionSchoolId:a,authToken:c,data:[s]}}).then(e=>e.data).then(e=>{var t;return(null===(t=e.at(0))||void 0===t?void 0:t.output)||null})}catch(e){throw{errorMessage:(null==e?void 0:e.message)||"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!0}}if(!t)throw{errorMessage:"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!1};if("ok"===t.status)return t.data;throw{...t,isNetworkError:!1}},f=async e=>{let{data:t,forceOverrideAuthToken:s,shouldEnableBatching:r=!0}=e;if(!r)return await d(t);{let e=m(t),r=(0,n.zL)(t),a=(0,i.Cm)()||null,o=(0,i.d)()||null,c=s||(0,l.G0)()||null;return await n.l3.fetch({batchingUniqueKey:r,organizationId:a,fermionSchoolId:o,authToken:c,data:e}).then(e=>e)}},x=async e=>{let{data:t,forceOverrideAuthToken:s,shouldEnableBatching:r=!0}=e;try{let e=await f({data:t,shouldEnableBatching:r,forceOverrideAuthToken:s});return{status:"ok",data:e}}catch(e){return{status:"error",errorMessage:(0,n._R)(e).errorMessage}}};var h=s(28875),p=s(55030),g=s(50301),y=s(74261);let v=(0,a.vt)(e=>({staticData:null,dynamicData:null,writeProperty:t=>{"function"==typeof t?e((0,h.j)(e=>{t(e)})):e(t)}}));function b(e){let{currentCourseItemSlug:t}=e,{staticData:s}=v.getState();(0,g.V)(s,"staticData cannot be null");let r=s.allCourseItems,a=s.courseSlug,l={nextData:null,prevData:null};for(let e=0;e<r.length;e++){let s=r[e];if("start"===t){l.nextData={itemTitle:s.title,itemFullHref:{pathname:"/course/:slug1/:slug2",slug1:a,slug2:s.fermionCourseItemSlug},shouldPerformHardNavigation:"Lab"===s.type};break}if(s.fermionCourseItemSlug===t){let t=r[e+1],s=r[e-1];if(null!=t){let e=t.title;l.nextData={itemFullHref:{pathname:"/course/:slug1/:slug2",slug1:a,slug2:t.fermionCourseItemSlug},itemTitle:e,shouldPerformHardNavigation:"Lab"===t.type}}if(null!=s){let e=s.title;l.prevData={itemFullHref:{pathname:"/course/:slug1/:slug2",slug1:a,slug2:s.fermionCourseItemSlug},itemTitle:e,shouldPerformHardNavigation:"Lab"===s.type}}break}}return l}async function S(e){let{courseItemSlug:t,shouldMarkItemAsCompleted:s,shouldRedirectToNextCourseItem:r}=e,{writeProperty:a,staticData:l}=v.getState();(0,g.V)(l,"staticData cannot be null"),a(e=>{null!=e.dynamicData&&(e.dynamicData.courseItemSlugBeingMarkedAsDone=t,s?e.dynamicData.completedCourseItemSlugs.add(t):e.dynamicData.completedCourseItemSlugs.delete(t))});let o=await x({data:{changeStateTo:s?"complete":"incomplete",fermionCourseItemSlug:t,fermionCourseSlug:l.courseSlug}});"error"===o.status?(0,p.A2)(o.errorMessage):s?(0,p.v0)("Item completed"):(0,p.W7)("Item marked as not done");let n=b({currentCourseItemSlug:t});n.nextData&&r&&(0,y.Xb)(n.nextData.itemFullHref),a(e=>{null!=e.dynamicData&&(e.dynamicData.courseItemSlugBeingMarkedAsDone=null)})}!l.p8&&l.tw&&(0,r.O)("CourseItemStore",v);let w=v},32018:(e,t,s)=>{s.d(t,{A:()=>o});var r=s(11855),a=s(74218);function l(e){let{template:t,pathname:s}=e,r=t.split("/").filter(e=>e.trim()),a=s.split("/").filter(e=>e.trim());if(a.length!==r.length)return{};let l={};for(let e=0;e<a.length;e++){let t=a[e],s=r[e],o=s.match(/^\[(.*?)\]$/);if(o)l[o[1]]=t;else if(t!==s)return{}}return l}let o=e=>{let{pathname:t}=(0,a.a8)(),[s,o]=(0,r.useState)(l({template:e,pathname:t}));return(0,r.useEffect)(()=>{o(l({template:e,pathname:t}))},[t,e]),s}},34793:(e,t,s)=>{s.d(t,{I:()=>x});var r=s(64966),a=s(18777),l=s(22038),o=s(64772),n=s(36205);let i="fermion-user",c="get-all-course-items-in-course",u="".concat(i,"-").concat(c),m=e=>({context:{namespace:i,functionName:c},data:e}),d=async e=>{let t;let s=m(e),r=(0,n.Cm)()||null,i=(0,n.d)()||null,c=(0,o.G0)()||null;try{t=await a.Ay.request({method:"POST",baseURL:(0,l.Pb)(),data:{organizationId:r,fermionSchoolId:i,authToken:c,data:[s]}}).then(e=>e.data).then(e=>{var t;return(null===(t=e.at(0))||void 0===t?void 0:t.output)||null})}catch(e){throw{errorMessage:(null==e?void 0:e.message)||"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!0}}if(!t)throw{errorMessage:"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!1};if("ok"===t.status)return t.data;throw{...t,isNetworkError:!1}},f=async e=>{let{data:t,forceOverrideAuthToken:s,shouldEnableBatching:r=!0}=e;if(!r)return await d(t);{let e=m(t),r=(0,l.zL)(t),a=(0,n.Cm)()||null,i=(0,n.d)()||null,c=s||(0,o.G0)()||null;return await l.l3.fetch({batchingUniqueKey:r,organizationId:a,fermionSchoolId:i,authToken:c,data:e}).then(e=>e)}},x=(e,t)=>(0,r.I)({queryKey:[u,m(e)],queryFn:()=>f({data:e}),...null!=t?t:{}})},4455:(e,t,s)=>{s.d(t,{X:()=>x});var r=s(64966),a=s(18777),l=s(22038),o=s(64772),n=s(36205);let i="fermion-user",c="get-completed-course-item-slugs",u="".concat(i,"-").concat(c),m=e=>({context:{namespace:i,functionName:c},data:e}),d=async e=>{let t;let s=m(e),r=(0,n.Cm)()||null,i=(0,n.d)()||null,c=(0,o.G0)()||null;try{t=await a.Ay.request({method:"POST",baseURL:(0,l.Pb)(),data:{organizationId:r,fermionSchoolId:i,authToken:c,data:[s]}}).then(e=>e.data).then(e=>{var t;return(null===(t=e.at(0))||void 0===t?void 0:t.output)||null})}catch(e){throw{errorMessage:(null==e?void 0:e.message)||"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!0}}if(!t)throw{errorMessage:"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!1};if("ok"===t.status)return t.data;throw{...t,isNetworkError:!1}},f=async e=>{let{data:t,forceOverrideAuthToken:s,shouldEnableBatching:r=!0}=e;if(!r)return await d(t);{let e=m(t),r=(0,l.zL)(t),a=(0,n.Cm)()||null,i=(0,n.d)()||null,c=s||(0,o.G0)()||null;return await l.l3.fetch({batchingUniqueKey:r,organizationId:a,fermionSchoolId:i,authToken:c,data:e}).then(e=>e)}},x=(e,t)=>(0,r.I)({queryKey:[u,m(e)],queryFn:()=>f({data:e}),...null!=t?t:{}})},67812:(e,t,s)=>{s.d(t,{A:()=>x});var r=s(64966),a=s(18777),l=s(22038),o=s(64772),n=s(36205);let i="fermion-user",c="get-course-landing-page-metadata",u="".concat(i,"-").concat(c),m=e=>({context:{namespace:i,functionName:c},data:e}),d=async e=>{let t;let s=m(e),r=(0,n.Cm)()||null,i=(0,n.d)()||null,c=(0,o.G0)()||null;try{t=await a.Ay.request({method:"POST",baseURL:(0,l.Pb)(),data:{organizationId:r,fermionSchoolId:i,authToken:c,data:[s]}}).then(e=>e.data).then(e=>{var t;return(null===(t=e.at(0))||void 0===t?void 0:t.output)||null})}catch(e){throw{errorMessage:(null==e?void 0:e.message)||"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!0}}if(!t)throw{errorMessage:"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!1};if("ok"===t.status)return t.data;throw{...t,isNetworkError:!1}},f=async e=>{let{data:t,forceOverrideAuthToken:s,shouldEnableBatching:r=!0}=e;if(!r)return await d(t);{let e=m(t),r=(0,l.zL)(t),a=(0,n.Cm)()||null,i=(0,n.d)()||null,c=s||(0,o.G0)()||null;return await l.l3.fetch({batchingUniqueKey:r,organizationId:a,fermionSchoolId:i,authToken:c,data:e}).then(e=>e)}},x=(e,t)=>(0,r.I)({queryKey:[u,m(e)],queryFn:()=>f({data:e}),...null!=t?t:{}})}}]);